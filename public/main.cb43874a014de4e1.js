"use strict";(self.webpackChunkPPLabo4Szellner=self.webpackChunkPPLabo4Szellner||[]).push([[179],{2011:(Qe,Ce,O)=>{O.d(Ce,{Dh:()=>ue,GT:()=>ce,cc:()=>be,hO:()=>Oe,on:()=>B,pX:()=>ne,xv:()=>de});var g=O(4650),X=O(127),P=O(5813);Qe=O.hmd(Qe);const ie=["ngOnDestroy"],ne=(he,je,Ke,Ie={})=>new Proxy(he,{get:(ge,ye)=>Ke.runOutsideAngular(()=>{var Ne;if(he[ye])return!(null===(Ne=Ie?.spy)||void 0===Ne)&&Ne.get&&Ie.spy.get(ye,he[ye]),he[ye];if(ie.indexOf(ye)>-1)return()=>{};const Fe=je.toPromise().then(U=>{const fe=U&&U[ye];return"function"==typeof fe?fe.bind(U):fe&&fe.then?fe.then(Z=>Ke.run(()=>Z)):Ke.run(()=>fe)});return new Proxy(()=>{},{get:(U,fe)=>Fe[fe],apply:(U,fe,Z)=>Fe.then(J=>{var re;const te=J&&J(...Z);return!(null===(re=Ie?.spy)||void 0===re)&&re.apply&&Ie.spy.apply(ye,Z,te),te})})})}),ce=(he,je)=>{je.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Ie=>{Object.defineProperty(he.prototype,Ie,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Ie))})})};class oe{constructor(je){return je}}const ue=new g.OlP("angularfire2.app.options"),de=new g.OlP("angularfire2.app.name");function B(he,je,Ke){const ge="object"==typeof Ke&&Ke||{};ge.name=ge.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const Ne=X.Z.apps.filter(Fe=>Fe&&Fe.name===ge.name)[0]||je.runOutsideAngular(()=>X.Z.initializeApp(he,ge));try{JSON.stringify(he)!==JSON.stringify(Ne.options)&&j("error",`${Ne.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(Ne)}const j=(he,...je)=>{(0,g.X6Q)()&&typeof console<"u"&&console[he](...je)},Y={provide:oe,useFactory:B,deps:[ue,g.R0b,[new g.FiY,de]]};let Oe=(()=>{class he{constructor(Ke){X.Z.registerVersion("angularfire",P.q4.full,"core"),X.Z.registerVersion("angularfire",P.q4.full,"app-compat"),X.Z.registerVersion("angular",g.q4F.full,Ke.toString())}static initializeApp(Ke,Ie){return{ngModule:he,providers:[{provide:ue,useValue:Ke},{provide:de,useValue:Ie}]}}}return he.\u0275fac=function(Ke){return new(Ke||he)(g.LFG(g.Lbi))},he.\u0275mod=g.oAB({type:he}),he.\u0275inj=g.cJS({providers:[Y]}),he})();function be(he,je,Ke,Ie,ge){const[,ye,Ne]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===he)||[];if(ye)return function me(he,je){try{return he.toString()===je.toString()}catch{return he===je}}(ge,Ne)||(pe("error",`${je} was already initialized on the ${Ke} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:ge,was:Ne})),ye;{const Fe=Ie();return globalThis.\u0275AngularfireInstanceCache.push([he,Fe,ge]),Fe}}const $e=!!Qe.hot,pe=(he,...je)=>{(0,g.X6Q)()&&typeof console<"u"&&console[he](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Qe,Ce,O)=>{O.d(Ce,{q4:()=>tr,iC:()=>vi,fc:()=>eu,HU:()=>Ua,vb:()=>pr,JM:()=>ko});var g=O(4650),X=O(5867),P=O(5861),ie=O(9681),ne=O(2090),ce=O(4859),oe=O(1877),ue=O(8766);const de="@firebase/installations",B="0.5.12",Y=`w:${B}`,Oe="FIS_v2",je=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(w){return w instanceof ne.ZR&&w.code.includes("request-failed")}function Ie({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function ge(w){return{token:w.token,requestStatus:2,expiresIn:J(w.expiresIn),creationTime:Date.now()}}function ye(w,D){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,P.Z)(function*(w,D){const L=(yield D.json()).error;return je.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Fe({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function U(w,{refreshToken:D}){const A=Fe(w);return A.append("Authorization",function re(w){return`${Oe} ${w}`}(D)),A}function fe(w){return Z.apply(this,arguments)}function Z(){return(Z=(0,P.Z)(function*(w){const D=yield w();return D.status>=500&&D.status<600?w():D})).apply(this,arguments)}function J(w){return Number(w.replace("s","000"))}function te(w,D){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:D},{fid:A}){const L=Ie(w),Q=Fe(w),se=D.getImmediate({optional:!0});if(se){const it=yield se.getHeartbeatsHeader();it&&Q.append("x-firebase-client",it)}const ke={method:"POST",headers:Q,body:JSON.stringify({fid:A,authVersion:Oe,appId:w.appId,sdkVersion:Y})},Je=yield fe(()=>fetch(L,ke));if(Je.ok){const it=yield Je.json();return{fid:it.fid||A,registrationStatus:2,refreshToken:it.refreshToken,authToken:ge(it.authToken)}}throw yield ye("Create Installation",Je)})).apply(this,arguments)}function Se(w){return new Promise(D=>{setTimeout(D,w)})}const Tt=/^[cdef][\w-]{21}$/;function Ue(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const A=function jt(w){return function et(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Tt.test(A)?A:""}catch{return""}}function mn(w){return`${w.appName}!${w.appId}`}const Rt=new Map;function Mt(w,D){const A=mn(w);Vt(A,D),function ks(w,D){const A=function Wn(){return!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=w=>{Vt(w.data.key,w.data.fid)}),sr}();A&&A.postMessage({key:w,fid:D}),function or(){0===Rt.size&&sr&&(sr.close(),sr=null)}()}(A,D)}function Vt(w,D){const A=Rt.get(w);if(A)for(const L of A)L(D)}let sr=null;const ar="firebase-installations-store";let wr=null;function Fs(){return wr||(wr=(0,ue.X3)("firebase-installations-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(ar)}})),wr}function Be(w,D){return lr.apply(this,arguments)}function lr(){return(lr=(0,P.Z)(function*(w,D){const A=mn(w),Q=(yield Fs()).transaction(ar,"readwrite"),se=Q.objectStore(ar),Ee=yield se.get(A);return yield se.put(D,A),yield Q.done,(!Ee||Ee.fid!==D.fid)&&Mt(w,D.fid),D})).apply(this,arguments)}function ai(w){return _n.apply(this,arguments)}function _n(){return(_n=(0,P.Z)(function*(w){const D=mn(w),L=(yield Fs()).transaction(ar,"readwrite");yield L.objectStore(ar).delete(D),yield L.done})).apply(this,arguments)}function Ir(w,D){return ur.apply(this,arguments)}function ur(){return(ur=(0,P.Z)(function*(w,D){const A=mn(w),Q=(yield Fs()).transaction(ar,"readwrite"),se=Q.objectStore(ar),Ee=yield se.get(A),ke=D(Ee);return void 0===ke?yield se.delete(A):yield se.put(ke,A),yield Q.done,ke&&(!Ee||Ee.fid!==ke.fid)&&Mt(w,ke.fid),ke})).apply(this,arguments)}function yn(w){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,P.Z)(function*(w){let D;const A=yield Ir(w.appConfig,L=>{const Q=Kt(L),se=tt(w,Q);return D=se.registrationPromise,se.installationEntry});return""===A.fid?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}})).apply(this,arguments)}function Kt(w){return lt(w||{fid:Ue(),registrationStatus:0})}function tt(w,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(je.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function Ze(w,D){return Gt.apply(this,arguments)}(w,A);return{installationEntry:A,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Nn(w)}:{installationEntry:D}}function Gt(){return(Gt=(0,P.Z)(function*(w,D){try{const A=yield te(w,D);return Be(w.appConfig,A)}catch(A){throw Ke(A)&&409===A.customData.serverCode?yield ai(w.appConfig):yield Be(w.appConfig,{fid:D.fid,registrationStatus:0}),A}})).apply(this,arguments)}function Nn(w){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(w){let D=yield Qn(w.appConfig);for(;1===D.registrationStatus;)yield Se(100),D=yield Qn(w.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:L}=yield yn(w);return L||A}return D})).apply(this,arguments)}function Qn(w){return Ir(w,D=>{if(!D)throw je.create("installation-not-found");return lt(D)})}function lt(w){return function li(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function xt(w,D){return kr.apply(this,arguments)}function kr(){return(kr=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:D},A){const L=Pt(w,A),Q=U(w,A),se=D.getImmediate({optional:!0});if(se){const it=yield se.getHeartbeatsHeader();it&&Q.append("x-firebase-client",it)}const ke={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:Y,appId:w.appId}})},Je=yield fe(()=>fetch(L,ke));if(Je.ok)return ge(yield Je.json());throw yield ye("Generate Auth Token",Je)})).apply(this,arguments)}function Pt(w,{fid:D}){return`${Ie(w)}/${D}/authTokens:generate`}function z(w){return H.apply(this,arguments)}function H(){return(H=(0,P.Z)(function*(w,D=!1){let A;const L=yield Ir(w.appConfig,se=>{if(!Ye(se))throw je.create("not-registered");const Ee=se.authToken;if(!D&&Zt(Ee))return se;if(1===Ee.requestStatus)return A=V(w,D),se;{if(!navigator.onLine)throw je.create("app-offline");const ke=An(se);return A=ve(w,ke),ke}});return A?yield A:L.authToken})).apply(this,arguments)}function V(w,D){return $.apply(this,arguments)}function $(){return($=(0,P.Z)(function*(w,D){let A=yield W(w.appConfig);for(;1===A.authToken.requestStatus;)yield Se(100),A=yield W(w.appConfig);const L=A.authToken;return 0===L.requestStatus?z(w,D):L})).apply(this,arguments)}function W(w){return Ir(w,D=>{if(!Ye(D))throw je.create("not-registered");return function Et(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function ve(w,D){return xe.apply(this,arguments)}function xe(){return(xe=(0,P.Z)(function*(w,D){try{const A=yield xt(w,D),L=Object.assign(Object.assign({},D),{authToken:A});return yield Be(w.appConfig,L),A}catch(A){if(!Ke(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Be(w.appConfig,L)}else yield ai(w.appConfig);throw A}})).apply(this,arguments)}function Ye(w){return void 0!==w&&2===w.registrationStatus}function Zt(w){return 2===w.requestStatus&&!function kt(w){const D=Date.now();return D<w.creationTime||w.creationTime+w.expiresIn<D+36e5}(w)}function An(w){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:D})}function en(){return(en=(0,P.Z)(function*(w){const D=w,{installationEntry:A,registrationPromise:L}=yield yn(D);return L?L.catch(console.error):z(D).catch(console.error),A.fid})).apply(this,arguments)}function Wr(){return(Wr=(0,P.Z)(function*(w,D=!1){const A=w;return yield Jn(A),(yield z(A,D)).token})).apply(this,arguments)}function Jn(w){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(w){const{registrationPromise:D}=yield yn(w);D&&(yield D)})).apply(this,arguments)}function xi(w){return je.create("missing-app-config-values",{valueName:w})}const Ls="installations",tn=w=>{const D=w.getProvider("app").getImmediate(),A=function Jt(w){if(!w||!w.options)throw xi("App Configuration");if(!w.name)throw xi("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!w.options[A])throw xi(A);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,ie._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ls=w=>{const D=w.getProvider("app").getImmediate(),A=(0,ie._getProvider)(D,Ls).getImmediate();return{getId:()=>function pt(w){return en.apply(this,arguments)}(A),getToken:Q=>function wn(w){return Wr.apply(this,arguments)}(A,Q)}};(function wl(){(0,ie._registerComponent)(new ce.wA(Ls,tn,"PUBLIC")),(0,ie._registerComponent)(new ce.wA("installations-internal",ls,"PRIVATE"))})(),(0,ie.registerVersion)(de,B),(0,ie.registerVersion)(de,B,"esm2017");const zr="@firebase/remote-config",bn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bd{constructor(D,A,L,Q){this.client=D,this.storage=A,this.storageCache=L,this.logger=Q}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-A,Q=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Q}.`),Q}fetch(D){var A=this;return(0,P.Z)(function*(){const[L,Q]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(Q&&A.isCachedDataFresh(D.cacheMaxAgeMillis,L))return Q;D.eTag=Q&&Q.eTag;const se=yield A.client.fetch(D),Ee=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Ee.push(A.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Ee),se})()}}function Sl(w=navigator){return w.languages&&w.languages[0]||w.language}class Al{constructor(D,A,L,Q,se,Ee){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=L,this.projectId=Q,this.apiKey=se,this.appId=Ee}fetch(D){var A=this;return(0,P.Z)(function*(){var L,Q,se;const[Ee,ke]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),it=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},nt={sdk_version:A.sdkVersion,app_instance_id:Ee,app_instance_id_token:ke,app_id:A.appId,language_code:Sl()},nn={method:"POST",headers:dt,body:JSON.stringify(nt)},Vn=fetch(it,nn),zi=new Promise((gr,Ki)=>{D.signal.addEventListener(()=>{const Fd=new Error("The operation was aborted.");Fd.name="AbortError",Ki(Fd)})});let Ei;try{yield Promise.race([Vn,zi]),Ei=yield Vn}catch(gr){let Ki="fetch-client-network";throw"AbortError"===(null===(L=gr)||void 0===L?void 0:L.name)&&(Ki="fetch-timeout"),bn.create(Ki,{originalErrorMessage:null===(Q=gr)||void 0===Q?void 0:Q.message})}let qi=Ei.status;const Is=Ei.headers.get("ETag")||void 0;let Ci,pn;if(200===Ei.status){let gr;try{gr=yield Ei.json()}catch(Ki){throw bn.create("fetch-client-parse",{originalErrorMessage:null===(se=Ki)||void 0===se?void 0:se.message})}Ci=gr.entries,pn=gr.state}if("INSTANCE_STATE_UNSPECIFIED"===pn?qi=500:"NO_CHANGE"===pn?qi=304:("NO_TEMPLATE"===pn||"EMPTY_CONFIG"===pn)&&(Ci={}),304!==qi&&200!==qi)throw bn.create("fetch-status",{httpStatus:qi});return{status:qi,eTag:Is,config:Ci}})()}}class cf{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,P.Z)(function*(){const L=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:L}){var Q=this;return(0,P.Z)(function*(){yield function Mn(w,D){return new Promise((A,L)=>{const Q=Math.max(D-Date.now(),0),se=setTimeout(A,Q);w.addEventListener(()=>{clearTimeout(se),L(bn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const se=yield Q.client.fetch(D);return yield Q.storage.deleteThrottleMetadata(),se}catch(se){if(!function tc(w){if(!(w instanceof ne.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(se))throw se;const Ee={throttleEndTimeMillis:Date.now()+(0,ne.$s)(L),backoffCount:L+1};return yield Q.storage.setThrottleMetadata(Ee),Q.attemptFetch(D,Ee)}})()}}class nc{constructor(D,A,L,Q,se){this.app=D,this._client=A,this._storageCache=L,this._storage=Q,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rl(w,D){var A;const L=w.target.error||void 0;return bn.create(D,{originalErrorMessage:L&&(null===(A=L)||void 0===A?void 0:A.message)})}const Vi="app_namespace_store";class pf{constructor(D,A,L,Q=function ff(){return new Promise((w,D)=>{var A;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=Q=>{D(Rl(Q,"storage-open"))},L.onsuccess=Q=>{w(Q.target.result)},L.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(Vi,{keyPath:"compositeKey"})}}catch(L){D(bn.create("storage-open",{originalErrorMessage:null===(A=L)||void 0===A?void 0:A.message}))}})}()){this.appId=D,this.appName=A,this.namespace=L,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,P.Z)(function*(){const L=yield A.openDbPromise;return new Promise((Q,se)=>{var Ee;const Je=L.transaction([Vi],"readonly").objectStore(Vi),it=A.createCompositeKey(D);try{const dt=Je.get(it);dt.onerror=nt=>{se(Rl(nt,"storage-get"))},dt.onsuccess=nt=>{const nn=nt.target.result;Q(nn?nn.value:void 0)}}catch(dt){se(bn.create("storage-get",{originalErrorMessage:null===(Ee=dt)||void 0===Ee?void 0:Ee.message}))}})})()}set(D,A){var L=this;return(0,P.Z)(function*(){const Q=yield L.openDbPromise;return new Promise((se,Ee)=>{var ke;const it=Q.transaction([Vi],"readwrite").objectStore(Vi),dt=L.createCompositeKey(D);try{const nt=it.put({compositeKey:dt,value:A});nt.onerror=nn=>{Ee(Rl(nn,"storage-set"))},nt.onsuccess=()=>{se()}}catch(nt){Ee(bn.create("storage-set",{originalErrorMessage:null===(ke=nt)||void 0===ke?void 0:ke.message}))}})})()}delete(D){var A=this;return(0,P.Z)(function*(){const L=yield A.openDbPromise;return new Promise((Q,se)=>{var Ee;const Je=L.transaction([Vi],"readwrite").objectStore(Vi),it=A.createCompositeKey(D);try{const dt=Je.delete(it);dt.onerror=nt=>{se(Rl(nt,"storage-delete"))},dt.onsuccess=()=>{Q()}}catch(dt){se(bn.create("storage-delete",{originalErrorMessage:null===(Ee=dt)||void 0===Ee?void 0:Ee.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class ic{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const A=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),Q=D.storage.getActiveConfig(),se=yield A;se&&(D.lastFetchStatus=se);const Ee=yield L;Ee&&(D.lastSuccessfulFetchTimestampMillis=Ee);const ke=yield Q;ke&&(D.activeConfig=ke)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ua(){return Td.apply(this,arguments)}function Td(){return(Td=(0,P.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function Ui(){(0,ie._registerComponent)(new ce.wA("remote-config",function w(D,{instanceIdentifier:A}){const L=D.getProvider("app").getImmediate(),Q=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw bn.create("registration-window");if(!(0,ne.hl)())throw bn.create("indexed-db-unavailable");const{projectId:se,apiKey:Ee,appId:ke}=L.options;if(!se)throw bn.create("registration-project-id");if(!Ee)throw bn.create("registration-api-key");if(!ke)throw bn.create("registration-app-id");const Je=new pf(ke,L.name,A=A||"firebase"),it=new ic(Je),dt=new oe.Yd(zr);dt.logLevel=oe.in.ERROR;const nt=new Al(Q,ie.SDK_VERSION,A,se,Ee,ke),nn=new cf(nt,Je),Vn=new bd(nn,Je,it,dt),zi=new nc(L,Vn,it,Je,dt);return function jn(w){const D=(0,ne.m9)(w);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(zi),zi},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(zr,"0.3.11"),(0,ie.registerVersion)(zr,"0.3.11","esm2017")}();const qr="/firebase-messaging-sw.js",ci="/firebase-cloud-messaging-push-scope",di="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",po="google.c.a.c_id",ca="google.c.a.c_l",Ml="google.c.a.ts",Sd="google.c.a.e";var hi=(()=>{return(w=hi||(hi={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",hi;var w})();function br(w){const D=new Uint8Array(w);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cr(w){const A=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(A),Q=new Uint8Array(L.length);for(let se=0;se<L.length;++se)Q[se]=L.charCodeAt(se);return Q}const Us="fcm_token_details_db",qn="fcm_token_object_Store";function Ad(w){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(Us))return null;let D=null;return(yield(0,ue.X3)(Us,5,{upgrade:(L=(0,P.Z)(function*(Q,se,Ee,ke){var Je;if(se<2||!Q.objectStoreNames.contains(qn))return;const it=ke.objectStore(qn),dt=yield it.index("fcmSenderId").get(w);if(yield it.clear(),dt)if(2===se){const nt=dt;if(!nt.auth||!nt.p256dh||!nt.endpoint)return;D={token:nt.fcmToken,createTime:null!==(Je=nt.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:nt.auth,p256dh:nt.p256dh,endpoint:nt.endpoint,swScope:nt.swScope,vapidKey:"string"==typeof nt.vapidKey?nt.vapidKey:br(nt.vapidKey)}}}else if(3===se){const nt=dt;D={token:nt.fcmToken,createTime:nt.createTime,subscriptionOptions:{auth:br(nt.auth),p256dh:br(nt.p256dh),endpoint:nt.endpoint,swScope:nt.swScope,vapidKey:br(nt.vapidKey)}}}else if(4===se){const nt=dt;D={token:nt.fcmToken,createTime:nt.createTime,subscriptionOptions:{auth:br(nt.auth),p256dh:br(nt.p256dh),endpoint:nt.endpoint,swScope:nt.swScope,vapidKey:br(nt.vapidKey)}}}}),function(se,Ee,ke,Je){return L.apply(this,arguments)})})).close(),yield(0,ue.Lj)(Us),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),un(D)?D:null;var L}),Rd.apply(this,arguments)}function un(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:D}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Tr="firebase-messaging-store";let er=null;function ha(){return er||(er=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(Tr)}})),er}function Bs(w){return fi.apply(this,arguments)}function fi(){return(fi=(0,P.Z)(function*(w){const D=Vr(w),L=yield(yield ha()).transaction(Tr).objectStore(Tr).get(D);if(L)return L;{const Q=yield Ad(w.appConfig.senderId);if(Q)return yield St(w,Q),Q}})).apply(this,arguments)}function St(w,D){return fa.apply(this,arguments)}function fa(){return(fa=(0,P.Z)(function*(w,D){const A=Vr(w),Q=(yield ha()).transaction(Tr,"readwrite");return yield Q.objectStore(Tr).put(D,A),yield Q.done,D})).apply(this,arguments)}function ds(w){return pa.apply(this,arguments)}function pa(){return(pa=(0,P.Z)(function*(w){const D=Vr(w),L=(yield ha()).transaction(Tr,"readwrite");yield L.objectStore(Tr).delete(D),yield L.done})).apply(this,arguments)}function Vr({appConfig:w}){return w.appId}const on=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ut(w,D){return ma.apply(this,arguments)}function ma(){return(ma=(0,P.Z)(function*(w,D){var A;const L=yield Ol(w),Q=we(D),se={method:"POST",headers:L,body:JSON.stringify(Q)};let Ee;try{Ee=yield(yield fetch(pi(w.appConfig),se)).json()}catch(ke){throw on.create("token-subscribe-failed",{errorInfo:null===(A=ke)||void 0===A?void 0:A.toString()})}if(Ee.error)throw on.create("token-subscribe-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw on.create("token-subscribe-no-token");return Ee.token})).apply(this,arguments)}function Pd(w,D){return _a.apply(this,arguments)}function _a(){return(_a=(0,P.Z)(function*(w,D){var A;const L=yield Ol(w),Q=we(D.subscriptionOptions),se={method:"PATCH",headers:L,body:JSON.stringify(Q)};let Ee;try{Ee=yield(yield fetch(`${pi(w.appConfig)}/${D.token}`,se)).json()}catch(ke){throw on.create("token-update-failed",{errorInfo:null===(A=ke)||void 0===A?void 0:A.toString()})}if(Ee.error)throw on.create("token-update-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw on.create("token-update-no-token");return Ee.token})).apply(this,arguments)}function ya(w,D){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,P.Z)(function*(w,D){var A;const Q={method:"DELETE",headers:yield Ol(w)};try{const Ee=yield(yield fetch(`${pi(w.appConfig)}/${D}`,Q)).json();if(Ee.error)throw on.create("token-unsubscribe-failed",{errorInfo:Ee.error.message})}catch(se){throw on.create("token-unsubscribe-failed",{errorInfo:null===(A=se)||void 0===A?void 0:A.toString()})}})).apply(this,arguments)}function pi({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Ol(w){return mo.apply(this,arguments)}function mo(){return(mo=(0,P.Z)(function*({appConfig:w,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function we({p256dh:w,auth:D,endpoint:A,vapidKey:L}){const Q={web:{endpoint:A,auth:D,p256dh:w}};return L!==di&&(Q.web.applicationPubKey=L),Q}const Ct=6048e5;function Nl(w){return xl.apply(this,arguments)}function xl(){return(xl=(0,P.Z)(function*(w){const D=yield kl(w.swRegistration,w.vapidKey),A={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:D.endpoint,auth:br(D.getKey("auth")),p256dh:br(D.getKey("p256dh"))},L=yield Bs(w.firebaseDependencies);if(L){if(lc(L.subscriptionOptions,A))return Date.now()>=L.createTime+Ct?js(w,{token:L.token,createTime:Date.now(),subscriptionOptions:A}):L.token;try{yield ya(w.firebaseDependencies,L.token)}catch(Q){console.warn(Q)}return _o(w.firebaseDependencies,A)}return _o(w.firebaseDependencies,A)})).apply(this,arguments)}function cn(w){return va.apply(this,arguments)}function va(){return(va=(0,P.Z)(function*(w){const D=yield Bs(w.firebaseDependencies);D&&(yield ya(w.firebaseDependencies,D.token),yield ds(w.firebaseDependencies));const A=yield w.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()})).apply(this,arguments)}function js(w,D){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,P.Z)(function*(w,D){try{const A=yield Pd(w.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield St(w.firebaseDependencies,L),A}catch(A){throw yield cn(w),A}})).apply(this,arguments)}function _o(w,D){return yo.apply(this,arguments)}function yo(){return(yo=(0,P.Z)(function*(w,D){const L={token:yield ut(w,D),createTime:Date.now(),subscriptionOptions:D};return yield St(w,L),L.token})).apply(this,arguments)}function kl(w,D){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,P.Z)(function*(w,D){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cr(D)})})).apply(this,arguments)}function lc(w,D){return D.vapidKey===w.vapidKey&&D.endpoint===w.endpoint&&D.auth===w.auth&&D.p256dh===w.p256dh}function vo(w){const D={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function dn(w,D){if(!D.notification)return;w.notification={};const A=D.notification.title;A&&(w.notification.title=A);const L=D.notification.body;L&&(w.notification.body=L);const Q=D.notification.image;Q&&(w.notification.image=Q)}(D,w),function Kr(w,D){!D.data||(w.data=D.data)}(D,w),function Ll(w,D){var A,L,Q,se,Ee;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;w.fcmOptions={};const ke=null!==(Q=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Q?Q:null===(se=D.notification)||void 0===se?void 0:se.click_action;ke&&(w.fcmOptions.link=ke);const Je=null===(Ee=D.fcmOptions)||void 0===Ee?void 0:Ee.analytics_label;Je&&(w.fcmOptions.analyticsLabel=Je)}(D,w),D}function hs(w){return"object"==typeof w&&!!w&&po in w}function gi(w,D){const A=[];for(let L=0;L<w.length;L++)A.push(w.charAt(L)),L<D.length&&A.push(D.charAt(L));return A.join("")}function Eo(w){return on.create("missing-app-config-values",{valueName:w})}gi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mf{constructor(D,A,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function gf(w){if(!w||!w.options)throw Eo("App Configuration Object");if(!w.name)throw Eo("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=w;for(const L of D)if(!A[L])throw Eo(L);return{appName:w.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Q,installations:A,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Vl(w){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,P.Z)(function*(w){var D;try{w.swRegistration=yield navigator.serviceWorker.register(qr,{scope:ci}),w.swRegistration.update().catch(()=>{})}catch(A){throw on.create("failed-service-worker-registration",{browserErrorMessage:null===(D=A)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function Co(w,D){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,P.Z)(function*(w,D){if(!D&&!w.swRegistration&&(yield Vl(w)),D||!w.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw on.create("invalid-sw-registration");w.swRegistration=D}})).apply(this,arguments)}function wo(w,D){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,P.Z)(function*(w,D){D?w.vapidKey=D:w.vapidKey||(w.vapidKey=di)})).apply(this,arguments)}function wa(){return(wa=(0,P.Z)(function*(w,D){if(!navigator)throw on.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw on.create("permission-blocked");return yield wo(w,D?.vapidKey),yield Co(w,D?.serviceWorkerRegistration),Nl(w)})).apply(this,arguments)}function jl(w,D,A){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,P.Z)(function*(w,D,A){const L=$l(D);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:A[po],message_name:A[ca],message_time:A[Ml],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $l(w){switch(w){case hi.NOTIFICATION_CLICKED:return"notification_open";case hi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fs(){return(fs=(0,P.Z)(function*(w,D){const A=D.data;if(!A.isFirebaseMessaging)return;w.onMessageHandler&&A.messageType===hi.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(vo(A)):w.onMessageHandler.next(vo(A)));const L=A.data;hs(L)&&"1"===L[Sd]&&(yield jl(w,A.messageType,L))})).apply(this,arguments)}const ps="@firebase/messaging",Pn=w=>{const D=new mf(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function uc(w,D){return fs.apply(this,arguments)}(D,A)),D},dr=w=>{const D=w.getProvider("messaging").getImmediate();return{getToken:L=>function Ca(w,D){return wa.apply(this,arguments)}(D,L)}};function cc(){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,P.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xt(){(0,ie._registerComponent)(new ce.wA("messaging",Pn,"PUBLIC")),(0,ie._registerComponent)(new ce.wA("messaging-internal",dr,"PRIVATE")),(0,ie.registerVersion)(ps,"0.9.16"),(0,ie.registerVersion)(ps,"0.9.16","esm2017")}();const Gs="analytics",fc="firebase_id",gs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ba="https://www.googletagmanager.com/gtag/js",hn=new oe.Yd("@firebase/analytics");function Ta(w){return Promise.all(w.map(D=>D.catch(A=>A)))}function Sa(w,D){const A=document.createElement("script");A.src=`${ba}?l=${w}&id=${D}`,A.async=!0,document.head.appendChild(A)}function Nd(w,D,A,L,Q,se){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,P.Z)(function*(w,D,A,L,Q,se){const Ee=L[Q];try{if(Ee)yield D[Ee];else{const Je=(yield Ta(A)).find(it=>it.measurementId===Q);Je&&(yield D[Je.appId])}}catch(ke){hn.error(ke)}w("config",Q,se)})).apply(this,arguments)}function zs(w,D,A,L,Q){return ms.apply(this,arguments)}function ms(){return(ms=(0,P.Z)(function*(w,D,A,L,Q){try{let se=[];if(Q&&Q.send_to){let Ee=Q.send_to;Array.isArray(Ee)||(Ee=[Ee]);const ke=yield Ta(A);for(const Je of Ee){const it=ke.find(nt=>nt.measurementId===Je),dt=it&&D[it.appId];if(!dt){se=[];break}se.push(dt)}}0===se.length&&(se=Object.values(D)),yield Promise.all(se),w("event",L,Q||{})}catch(se){hn.error(se)}})).apply(this,arguments)}function gc(){const w=window.document.getElementsByTagName("script");for(const D of Object.values(w))if(D.src&&D.src.includes(ba))return D;return null}const Fn=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),To=new class Zr{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function _c(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function So(w){return ql.apply(this,arguments)}function ql(){return(ql=(0,P.Z)(function*(w){var D;const{appId:A,apiKey:L}=w,Q={method:"GET",headers:_c(L)},se=gs.replace("{app-id}",A),Ee=yield fetch(se,Q);if(200!==Ee.status&&304!==Ee.status){let ke="";try{const Je=yield Ee.json();null!==(D=Je.error)&&void 0!==D&&D.message&&(ke=Je.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:ke})}return Ee.json()})).apply(this,arguments)}function vn(w){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,P.Z)(function*(w,D=To,A){const{appId:L,apiKey:Q,measurementId:se}=w.options;if(!L)throw Fn.create("no-app-id");if(!Q){if(se)return{measurementId:se,appId:L};throw Fn.create("no-api-key")}const Ee=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ke=new Pa;return setTimeout((0,P.Z)(function*(){ke.abort()}),void 0!==A?A:6e4),Ra({appId:L,apiKey:Q,measurementId:se},Ee,ke,D)})).apply(this,arguments)}function Ra(w,D,A){return _s.apply(this,arguments)}function _s(){return(_s=(0,P.Z)(function*(w,{throttleEndTimeMillis:D,backoffCount:A},L,Q=To){var se,Ee;const{appId:ke,measurementId:Je}=w;try{yield Ao(L,D)}catch(it){if(Je)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${null===(se=it)||void 0===se?void 0:se.message}]`),{appId:ke,measurementId:Je};throw it}try{const it=yield So(w);return Q.deleteThrottleMetadata(ke),it}catch(it){const dt=it;if(!Ma(dt)){if(Q.deleteThrottleMetadata(ke),Je)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${dt?.message}]`),{appId:ke,measurementId:Je};throw it}const nt=503===Number(null===(Ee=dt?.customData)||void 0===Ee?void 0:Ee.httpStatus)?(0,ne.$s)(A,Q.intervalMillis,30):(0,ne.$s)(A,Q.intervalMillis),nn={throttleEndTimeMillis:Date.now()+nt,backoffCount:A+1};return Q.setThrottleMetadata(ke,nn),hn.debug(`Calling attemptFetch again in ${nt} millis`),Ra(w,nn,L,Q)}})).apply(this,arguments)}function Ao(w,D){return new Promise((A,L)=>{const Q=Math.max(D-Date.now(),0),se=setTimeout(A,Q);w.addEventListener(()=>{clearTimeout(se),L(Fn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Ma(w){if(!(w instanceof ne.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Pa{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Hi,Mo;function $i(){return($i=(0,P.Z)(function*(w,D,A,L,Q){if(Q&&Q.global)w("event",A,L);else{const se=yield D;w("event",A,Object.assign(Object.assign({},L),{send_to:se}))}})).apply(this,arguments)}function vs(w){Mo=w}function Yl(w){Hi=w}function _i(){return Na.apply(this,arguments)}function Na(){return(Na=(0,P.Z)(function*(){var w;if(!(0,ne.hl)())return hn.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(D){return hn.warn(Fn.create("indexeddb-unavailable",{errorInfo:null===(w=D)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function Zs(){return(Zs=(0,P.Z)(function*(w,D,A,L,Q,se,Ee){var ke;const Je=vn(w);Je.then(Vn=>{A[Vn.measurementId]=Vn.appId,w.options.measurementId&&Vn.measurementId!==w.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Vn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vn=>hn.error(Vn)),D.push(Je);const it=_i().then(Vn=>{if(Vn)return L.getId()}),[dt,nt]=yield Promise.all([Je,it]);gc()||Sa(se,dt.measurementId),Mo&&(Q("consent","default",Mo),vs(void 0)),Q("js",new Date);const nn=null!==(ke=Ee?.config)&&void 0!==ke?ke:{};return nn.origin="firebase",nn.update=!0,null!=nt&&(nn[fc]=nt),Q("config",dt.measurementId,nn),Hi&&(Q("set",Hi),Yl(void 0)),dt.measurementId})).apply(this,arguments)}class xa{constructor(D){this.app=D}_delete(){return delete hr[this.app.options.appId],Promise.resolve()}}let hr={},Gi=[];const Ys={};let Js,Es,Qs="dataLayer",Po=!1;function jg(w,D,A){!function _f(){const w=[];if((0,ne.ru)()&&w.push("This is a browser extension environment."),(0,ne.zI)()||w.push("Cookies are not available."),w.length>0){const D=w.map((L,Q)=>`(${Q+1}) ${L}`).join(" "),A=Fn.create("invalid-analytics-context",{errorInfo:D});hn.warn(A.message)}}();const L=w.options.appId;if(!L)throw Fn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Fn.create("no-api-key");hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hr[L])throw Fn.create("already-exists",{id:L});if(!Po){!function pc(w){let D=[];Array.isArray(window[w])?D=window[w]:window[w]=D}(Qs);const{wrappedGtag:se,gtagCore:Ee}=function Io(w,D,A,L,Q){let se=function(...Ee){window[L].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(se=window[Q]),window[Q]=function Aa(w,D,A,L){function se(){return(se=(0,P.Z)(function*(Ee,ke,Je){try{"event"===Ee?yield zs(w,D,A,ke,Je):"config"===Ee?yield Nd(w,D,A,L,ke,Je):"consent"===Ee?w("consent","update",Je):w("set",ke)}catch(it){hn.error(it)}})).apply(this,arguments)}return function Q(Ee,ke,Je){return se.apply(this,arguments)}}(se,w,D,A),{gtagCore:se,wrappedGtag:window[Q]}}(hr,Gi,Ys,Qs,"gtag");Es=se,Js=Ee,Po=!0}return hr[L]=function Ks(w,D,A,L,Q,se,Ee){return Zs.apply(this,arguments)}(w,Gi,Ys,D,Js,Qs,A),new xa(w)}function $g(){return xd.apply(this,arguments)}function xd(){return(xd=(0,P.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const kd="@firebase/analytics";!function fr(){(0,ie._registerComponent)(new ce.wA(Gs,(D,{options:A})=>jg(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ie._registerComponent)(new ce.wA("analytics-internal",function w(D){try{const A=D.getProvider(Gs).getImmediate();return{logEvent:(L,Q,se)=>function $t(w,D,A,L){w=(0,ne.m9)(w),function yc(w,D,A,L,Q){return $i.apply(this,arguments)}(Es,hr[w.app.options.appId],D,A,L).catch(Q=>hn.error(Q))}(A,L,Q,se)}}catch(A){throw Fn.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ie.registerVersion)(kd,"0.8.0"),(0,ie.registerVersion)(kd,"0.8.0","esm2017")}();var Br=O(4408),Xs=O(7565);const Yr=new class Ar extends Xs.v{}(class Jl extends Br.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,A,L):(D.flush(this),0)}});var ct=O(4986),La=O(8505),Cs=O(5363),Oo=O(9468);const tr=new g.GfV("7.4.1"),No="__angularfire_symbol__analyticsIsSupportedValue",yi="__angularfire_symbol__analyticsIsSupported",Qr="__angularfire_symbol__remoteConfigIsSupportedValue",nr="__angularfire_symbol__remoteConfigIsSupported",Xl="__angularfire_symbol__messagingIsSupportedValue",Va="__angularfire_symbol__messagingIsSupported";function ko(w,D,A){if(D){if(1===D.length)return D[0];const se=D.filter(Ee=>Ee.app===A);if(1===se.length)return se[0]}return A.container.getProvider(w).getImmediate({optional:!0})}globalThis[yi]||(globalThis[yi]=$g().then(w=>globalThis[No]=w).catch(()=>globalThis[No]=!1)),globalThis[Va]||(globalThis[Va]=cc().then(w=>globalThis[Xl]=w).catch(()=>globalThis[Xl]=!1)),globalThis[nr]||(globalThis[nr]=ua().then(w=>globalThis[Qr]=w).catch(()=>globalThis[Qr]=!1));const pr=(w,D)=>{const A=D?[D]:(0,X.C6)(),L=[];return A.forEach(Q=>{Q.container.getProvider(w).instances.forEach(Ee=>{L.includes(Ee)||L.push(Ee)})}),L};function eo(){}class Qt{constructor(D,A=Yr){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,L){const Q=this.zone;return this.delegate.schedule(function(Ee){Q.runGuarded(()=>{D.apply(this,[Ee])})},A,L)}}class Jr{constructor(D){this.zone=D,this.task=null}call(D,A){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eo,{},eo,eo)),A.pipe((0,La.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ua=(()=>{class w{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Qt(Zone.current)),this.insideAngular=A.run(()=>new Qt(Zone.current,ct.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(A){return new(A||w)(g.LFG(g.R0b))},w.\u0275prov=g.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Wi(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function eu(w){return w.pipe((0,Cs.Q)(Wi().outsideAngular))}function vi(w){return Wi(),function tu(w){return function(A){return(A=A.lift(new Jr(w.ngZone))).pipe((0,Oo.R)(w.outsideAngular),(0,Cs.Q)(w.insideAngular))}}(Wi())(w)}},2090:(Qe,Ce,O)=>{O.d(Ce,{$s:()=>li,BH:()=>Oe,DV:()=>ft,Dv:()=>Ir,GJ:()=>Mt,L:()=>ue,LL:()=>Ae,Pz:()=>vt,Sg:()=>be,UG:()=>pe,UI:()=>ks,US:()=>ce,Wj:()=>Cn,Yr:()=>Ne,ZB:()=>j,ZR:()=>te,b$:()=>Ke,cI:()=>Tt,dS:()=>tt,eu:()=>fe,g5:()=>P,gK:()=>ur,gQ:()=>wr,h$:()=>oe,hl:()=>U,hu:()=>X,jU:()=>he,lb:()=>Kt,m9:()=>Pt,ne:()=>Fs,p$:()=>B,pd:()=>ar,r3:()=>Yn,ru:()=>je,tV:()=>de,uI:()=>$e,ug:()=>Ze,vZ:()=>sr,w1:()=>ge,w9:()=>Rt,xO:()=>Ni,xb:()=>Vt,z$:()=>me,zI:()=>Z,zd:()=>Gr});const X=function(z,H){if(!z)throw P(H)},P=function(z){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+z)},ie=function(z){const H=[];let V=0;for(let $=0;$<z.length;$++){let W=z.charCodeAt($);W<128?H[V++]=W:W<2048?(H[V++]=W>>6|192,H[V++]=63&W|128):55296==(64512&W)&&$+1<z.length&&56320==(64512&z.charCodeAt($+1))?(W=65536+((1023&W)<<10)+(1023&z.charCodeAt(++$)),H[V++]=W>>18|240,H[V++]=W>>12&63|128,H[V++]=W>>6&63|128,H[V++]=63&W|128):(H[V++]=W>>12|224,H[V++]=W>>6&63|128,H[V++]=63&W|128)}return H},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,H){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let W=0;W<z.length;W+=3){const ve=z[W],xe=W+1<z.length,Ye=xe?z[W+1]:0,Zt=W+2<z.length,kt=Zt?z[W+2]:0;let pt=(15&Ye)<<2|kt>>6,en=63&kt;Zt||(en=64,xe||(pt=64)),$.push(V[ve>>2],V[(3&ve)<<4|Ye>>4],V[pt],V[en])}return $.join("")},encodeString(z,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(z):this.encodeByteArray(ie(z),H)},decodeString(z,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(z):function(z){const H=[];let V=0,$=0;for(;V<z.length;){const W=z[V++];if(W<128)H[$++]=String.fromCharCode(W);else if(W>191&&W<224){const ve=z[V++];H[$++]=String.fromCharCode((31&W)<<6|63&ve)}else if(W>239&&W<365){const Zt=((7&W)<<18|(63&z[V++])<<12|(63&z[V++])<<6|63&z[V++])-65536;H[$++]=String.fromCharCode(55296+(Zt>>10)),H[$++]=String.fromCharCode(56320+(1023&Zt))}else{const ve=z[V++],xe=z[V++];H[$++]=String.fromCharCode((15&W)<<12|(63&ve)<<6|63&xe)}}return H.join("")}(this.decodeStringToByteArray(z,H))},decodeStringToByteArray(z,H){this.init_();const V=H?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let W=0;W<z.length;){const ve=V[z.charAt(W++)],Ye=W<z.length?V[z.charAt(W)]:0;++W;const kt=W<z.length?V[z.charAt(W)]:64;++W;const Et=W<z.length?V[z.charAt(W)]:64;if(++W,null==ve||null==Ye||null==kt||null==Et)throw Error();$.push(ve<<2|Ye>>4),64!==kt&&($.push(Ye<<4&240|kt>>2),64!==Et&&$.push(kt<<6&192|Et))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},oe=function(z){const H=ie(z);return ce.encodeByteArray(H,!0)},ue=function(z){return oe(z).replace(/\./g,"")},de=function(z){try{return ce.decodeString(z,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function B(z){return j(void 0,z)}function j(z,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return H}for(const V in H)!H.hasOwnProperty(V)||!Y(V)||(z[V]=j(z[V],H[V]));return z}function Y(z){return"__proto__"!==z}class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,V)=>{this.resolve=H,this.reject=V})}wrapCallback(H){return(V,$)=>{V?this.reject(V):this.resolve($),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(V):H(V,$))}}}function be(z,H){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=H||"demo-project",W=z.iat||0,ve=z.sub||z.user_id;if(!ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:W,exp:W+3600,auth_time:W,sub:ve,user_id:ve,firebase:{sign_in_provider:"custom",identities:{}}},z);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(xe)),""].join(".")}function me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function he(){return"object"==typeof self&&self.self===self}function je(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const z=me();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Ne(){return!1}function U(){return"object"==typeof indexedDB}function fe(){return new Promise((z,H)=>{try{let V=!0;const $="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open($);W.onsuccess=()=>{W.result.close(),V||self.indexedDB.deleteDatabase($),z(!0)},W.onupgradeneeded=()=>{V=!1},W.onerror=()=>{var ve;H((null===(ve=W.error)||void 0===ve?void 0:ve.message)||"")}}catch(V){H(V)}})}function Z(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class te extends Error{constructor(H,V,$){super(V),this.code=H,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ae.prototype.create)}}class Ae{constructor(H,V,$){this.service=H,this.serviceName=V,this.errors=$}create(H,...V){const $=V[0]||{},W=`${this.service}/${H}`,ve=this.errors[H],xe=ve?function Se(z,H){return z.replace(et,(V,$)=>{const W=H[$];return null!=W?String(W):`<${$}?>`})}(ve,$):"Error";return new te(W,`${this.serviceName}: ${xe} (${W}).`,$)}}const et=/\{\$([^}]+)}/g;function Tt(z){return JSON.parse(z)}function vt(z){return JSON.stringify(z)}const Ue=function(z){let H={},V={},$={},W="";try{const ve=z.split(".");H=Tt(de(ve[0])||""),V=Tt(de(ve[1])||""),W=ve[2],$=V.d||{},delete V.d}catch{}return{header:H,claims:V,data:$,signature:W}},Rt=function(z){const V=Ue(z).claims;return!!V&&"object"==typeof V&&V.hasOwnProperty("iat")},Mt=function(z){const H=Ue(z).claims;return"object"==typeof H&&!0===H.admin};function Yn(z,H){return Object.prototype.hasOwnProperty.call(z,H)}function ft(z,H){if(Object.prototype.hasOwnProperty.call(z,H))return z[H]}function Vt(z){for(const H in z)if(Object.prototype.hasOwnProperty.call(z,H))return!1;return!0}function ks(z,H,V){const $={};for(const W in z)Object.prototype.hasOwnProperty.call(z,W)&&($[W]=H.call(V,z[W],W,z));return $}function sr(z,H){if(z===H)return!0;const V=Object.keys(z),$=Object.keys(H);for(const W of V){if(!$.includes(W))return!1;const ve=z[W],xe=H[W];if(Wn(ve)&&Wn(xe)){if(!sr(ve,xe))return!1}else if(ve!==xe)return!1}for(const W of $)if(!V.includes(W))return!1;return!0}function Wn(z){return null!==z&&"object"==typeof z}function Ni(z){const H=[];for(const[V,$]of Object.entries(z))Array.isArray($)?$.forEach(W=>{H.push(encodeURIComponent(V)+"="+encodeURIComponent(W))}):H.push(encodeURIComponent(V)+"="+encodeURIComponent($));return H.length?"&"+H.join("&"):""}function Gr(z){const H={};return z.replace(/^\?/,"").split("&").forEach($=>{if($){const[W,ve]=$.split("=");H[decodeURIComponent(W)]=decodeURIComponent(ve)}}),H}function ar(z){const H=z.indexOf("?");if(!H)return"";const V=z.indexOf("#",H);return z.substring(H,V>0?V:void 0)}class wr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,V){V||(V=0);const $=this.W_;if("string"==typeof H)for(let Et=0;Et<16;Et++)$[Et]=H.charCodeAt(V)<<24|H.charCodeAt(V+1)<<16|H.charCodeAt(V+2)<<8|H.charCodeAt(V+3),V+=4;else for(let Et=0;Et<16;Et++)$[Et]=H[V]<<24|H[V+1]<<16|H[V+2]<<8|H[V+3],V+=4;for(let Et=16;Et<80;Et++){const pt=$[Et-3]^$[Et-8]^$[Et-14]^$[Et-16];$[Et]=4294967295&(pt<<1|pt>>>31)}let kt,An,W=this.chain_[0],ve=this.chain_[1],xe=this.chain_[2],Ye=this.chain_[3],Zt=this.chain_[4];for(let Et=0;Et<80;Et++){Et<40?Et<20?(kt=Ye^ve&(xe^Ye),An=1518500249):(kt=ve^xe^Ye,An=1859775393):Et<60?(kt=ve&xe|Ye&(ve|xe),An=2400959708):(kt=ve^xe^Ye,An=3395469782);const pt=(W<<5|W>>>27)+kt+Zt+An+$[Et]&4294967295;Zt=Ye,Ye=xe,xe=4294967295&(ve<<30|ve>>>2),ve=W,W=pt}this.chain_[0]=this.chain_[0]+W&4294967295,this.chain_[1]=this.chain_[1]+ve&4294967295,this.chain_[2]=this.chain_[2]+xe&4294967295,this.chain_[3]=this.chain_[3]+Ye&4294967295,this.chain_[4]=this.chain_[4]+Zt&4294967295}update(H,V){if(null==H)return;void 0===V&&(V=H.length);const $=V-this.blockSize;let W=0;const ve=this.buf_;let xe=this.inbuf_;for(;W<V;){if(0===xe)for(;W<=$;)this.compress_(H,W),W+=this.blockSize;if("string"==typeof H){for(;W<V;)if(ve[xe]=H.charCodeAt(W),++xe,++W,xe===this.blockSize){this.compress_(ve),xe=0;break}}else for(;W<V;)if(ve[xe]=H[W],++xe,++W,xe===this.blockSize){this.compress_(ve),xe=0;break}}this.inbuf_=xe,this.total_+=V}digest(){const H=[];let V=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let W=this.blockSize-1;W>=56;W--)this.buf_[W]=255&V,V/=256;this.compress_(this.buf_);let $=0;for(let W=0;W<5;W++)for(let ve=24;ve>=0;ve-=8)H[$]=this.chain_[W]>>ve&255,++$;return H}}function Fs(z,H){const V=new Be(z,H);return V.subscribe.bind(V)}class Be{constructor(H,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{H(this)}).catch($=>{this.error($)})}next(H){this.forEachObserver(V=>{V.next(H)})}error(H){this.forEachObserver(V=>{V.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,V,$){let W;if(void 0===H&&void 0===V&&void 0===$)throw new Error("Missing Observer.");W=function ai(z,H){if("object"!=typeof z||null===z)return!1;for(const V of H)if(V in z&&"function"==typeof z[V])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:V,complete:$},void 0===W.next&&(W.next=_n),void 0===W.error&&(W.error=_n),void 0===W.complete&&(W.complete=_n);const ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),ve}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,H)}sendOne(H,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{V(this.observers[H])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _n(){}const Ir=function(z,H,V,$){let W;if($<H?W="at least "+H:$>V&&(W=0===V?"none":"no more than "+V),W)throw new Error(z+" failed: Was called with "+$+(1===$?" argument.":" arguments.")+" Expects "+W+".")};function ur(z,H){return`${z} failed: ${H} argument `}function Cn(z,H,V,$){if((!$||V)&&"function"!=typeof V)throw new Error(ur(z,H)+"must be a valid function.")}function Kt(z,H,V,$){if((!$||V)&&("object"!=typeof V||null===V))throw new Error(ur(z,H)+"must be a valid context object.")}const tt=function(z){const H=[];let V=0;for(let $=0;$<z.length;$++){let W=z.charCodeAt($);if(W>=55296&&W<=56319){const ve=W-55296;$++,X($<z.length,"Surrogate pair missing trail surrogate."),W=65536+(ve<<10)+(z.charCodeAt($)-56320)}W<128?H[V++]=W:W<2048?(H[V++]=W>>6|192,H[V++]=63&W|128):W<65536?(H[V++]=W>>12|224,H[V++]=W>>6&63|128,H[V++]=63&W|128):(H[V++]=W>>18|240,H[V++]=W>>12&63|128,H[V++]=W>>6&63|128,H[V++]=63&W|128)}return H},Ze=function(z){let H=0;for(let V=0;V<z.length;V++){const $=z.charCodeAt(V);$<128?H++:$<2048?H+=2:$>=55296&&$<=56319?(H+=4,V++):H+=3}return H};function li(z,H=1e3,V=2){const $=H*Math.pow(V,z),W=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+W)}function Pt(z){return z&&z._delegate?z._delegate:z}},7401:(Qe,Ce,O)=>{var g=O(4650);let X=null;function P(){return X}const oe=new g.OlP("DocumentToken");let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function de(){return(0,g.LFG)(j)}()},providedIn:"platform"}),n})();const B=new g.OlP("Location Initialized");let j=(()=>{class n extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){Y()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){Y()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oe))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function Oe(){return new j((0,g.LFG)(oe))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function be(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(je)},providedIn:"root"}),n})();const he=new g.OlP("appBaseHref");let je=(()=>{class n extends pe{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return be(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+$e(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,c){const p=this.prepareExternalUrl(a+$e(c));this._platformLocation.pushState(e,s,p)}replaceState(e,s,a,c){const p=this.prepareExternalUrl(a+$e(c));this._platformLocation.replaceState(e,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ue),g.LFG(he,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ke=(()=>{class n extends pe{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=be(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,c){let p=this.prepareExternalUrl(a+$e(c));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,s,p)}replaceState(e,s,a,c){let p=this.prepareExternalUrl(a+$e(c));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ue),g.LFG(he,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n{constructor(e){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._baseHref=me(Ne(s)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+$e(s))}normalize(e){return n.stripTrailingSlash(function ye(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ne(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._locationStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$e(s)),a)}replaceState(e,s="",a=null){this._locationStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$e(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.normalizeQueryParams=$e,n.joinWithSlash=be,n.stripTrailingSlash=me,n.\u0275fac=function(e){return new(e||n)(g.LFG(pe))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function ge(){return new Ie((0,g.LFG)(pe))}()},providedIn:"root"}),n})();function Ne(n){return n.replace(/\/index.html$/,"")}let go=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();let da=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new Md((0,g.LFG)(oe),window)}),n})();class Md{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function er(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const c=a.shadowRoot;if(c){const p=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(p)return p}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(s-c[0],a-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Tr(this.window.history)||Tr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Tr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fs extends class uc extends class ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){X||(X=n)}(new fs)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ia(){return ps=ps||document.querySelector("base"),ps?ps.getAttribute("href"):null}();return null==e?null:function dr(n){Pn=Pn||document.createElement("a"),Pn.setAttribute("href",n);const t=Pn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ps=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function aa(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,c]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Pn,ps=null;const Xt=new g.OlP("TRANSITION_ID"),Gl=[{provide:g.ip1,useFactory:function cc(n,t,e){return()=>{e.get(g.CZH).donePromise.then(()=>{const s=P(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)s.remove(a[c])})}},deps:[Xt,oe,g.zs3],multi:!0}];let Wl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Da=new g.OlP("EventManagerPlugins");let dc=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let c=0;c<a.length;c++){const p=a[c];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Da),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class zl{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=P().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let Hs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),$s=(()=>{class n extends Hs{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(c=>{const p=this._doc.createElement("style");p.textContent=c,a.push(s.appendChild(p))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(hc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(hc))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function hc(n){P().remove(n)}const Gs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fc=/%COMP%/g;function Sa(n,t,e){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?Sa(n,a,e):(a=a.replace(fc,n),e.push(a))}return e}function pc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ws=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new zs(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case g.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new gc(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case g.ifc.ShadowDom:return new mc(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=Sa(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(dc),g.LFG($s),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class zs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Gs[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Io(t)?t.content:t).appendChild(e)}insertBefore(t,e,s){t&&(Io(t)?t.content:t).insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const c=Gs[a];c?t.setAttributeNS(c,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=Gs[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(g.JOm.DashCase|g.JOm.Important)?t.style.setProperty(e,s,a&g.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&g.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,pc(s)):this.eventManager.addEventListener(t,e,pc(s))}}function Io(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class gc extends zs{constructor(t,e,s,a){super(t),this.component=s;const c=Sa(a+"-"+s.id,s.styles,[]);e.addStyles(c),this.contentAttr=function hn(n){return"_ngcontent-%COMP%".replace(fc,n)}(a+"-"+s.id),this.hostAttr=function Ta(n){return"_nghost-%COMP%".replace(fc,n)}(a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class mc extends zs{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Sa(a.id,a.styles,[]);for(let p=0;p<c.length;p++){const v=document.createElement("style");v.textContent=c[p],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Fn=(()=>{class n extends zl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Do=["alt","control","meta","shift"],bo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let To=(()=>{class n extends zl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const c=n.parseEventName(s),p=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,c.domEventName,p))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(s.pop());let p="",v=s.indexOf("code");if(v>-1&&(s.splice(v,1),p="code."),Do.forEach(S=>{const F=s.indexOf(S);F>-1&&(s.splice(F,1),p+=S+".")}),p+=c,0!=s.length||0===c.length)return null;const I={};return I.domEventName=a,I.fullKey=p,I}static matchEventFullKeyCode(e,s){let a=bo[e.key]||e.key,c="";return s.indexOf("code.")>-1&&(a=e.code,c="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Do.forEach(p=>{p!==a&&(0,Zr[p])(e)&&(c+=p+".")}),c+=a,c===s)}static eventCallback(e,s,a){return c=>{n.matchEventFullKeyCode(c,e)&&a.runGuarded(()=>s(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Pa=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function Ra(){fs.makeCurrent()},multi:!0},{provide:oe,useFactory:function Ao(){return(0,g.RDi)(document),document},deps:[]}]),Hi=new g.OlP(""),yc=[{provide:g.rWj,useClass:class Od{addToWindow(t){g.dqk.getAngularTestability=(s,a=!0)=>{const c=t.findTestabilityInTree(s,a);if(null==c)throw new Error("Could not find testability for element.");return c},g.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(s=>{const a=g.dqk.getAllAngularTestabilities();let c=a.length,p=!1;const v=function(I){p=p||I,c--,0==c&&s(p)};a.forEach(function(I){I.whenStable(v)})})}findTestabilityInTree(t,e,s){return null==e?null:t.getTestability(e)??(s?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],$i=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function _s(){return new g.qLn},deps:[]},{provide:Da,useClass:Fn,multi:!0,deps:[oe,g.R0b,g.Lbi]},{provide:Da,useClass:To,multi:!0,deps:[oe]},{provide:Ws,useClass:Ws,deps:[dc,$s,g.AFp]},{provide:g.FYo,useExisting:Ws},{provide:Hs,useExisting:$s},{provide:$s,useClass:$s,deps:[oe]},{provide:dc,useClass:dc,deps:[Da,g.R0b]},{provide:class Bs{},useClass:Wl,deps:[]},[]];let Kl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:g.AFp,useValue:e.appId},{provide:Xt,useExisting:g.AFp},Gl]}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Hi,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[...$i,...yc],imports:[go,g.hGG]}),n})(),mi=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oe))},n.\u0275prov=g.Yz7({token:n,factory:function(e){let s=null;return s=e?new e:function qs(){return new mi((0,g.LFG)(oe))}(),s},providedIn:"root"}),n})();typeof window<"u"&&window;var $t=O(8996),Kn=O(9751);const{isArray:kd}=Array,{getPrototypeOf:Fa,prototype:fr,keys:Br}=Object;var Ar=O(8421),Yr=O(7669),On=O(5403),ct=O(4004);const{isArray:La}=Array;let Ff=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const Nc=new g.OlP("NgModelWithFormControlWarning");let $f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Ff]}),n})(),Gf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[$f]}),n})(),Vc=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Nc,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[$f]}),n})();function Xe(...n){const t=(0,Yr.yG)(n);return(0,$t.D)(n,t)}var ro=O(7579);class Zi extends ro.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}const Wf=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var qa=O(4671),Jd=O(9672);function Zy(...n){const t=(0,Yr.yG)(n),e=(0,Yr.jO)(n),{args:s,keys:a}=function Jl(n){if(1===n.length){const t=n[0];if(kd(t))return{args:t,keys:null};if(function Xs(n){return n&&"object"==typeof n&&Fa(n)===fr}(t)){const e=Br(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}(n);if(0===s.length)return(0,$t.D)([],t);const c=new Kn.y(function Uw(n,t,e=qa.y){return s=>{Yy(t,()=>{const{length:a}=n,c=new Array(a);let p=a,v=a;for(let I=0;I<a;I++)Yy(t,()=>{const S=(0,$t.D)(n[I],t);let F=!1;S.subscribe((0,On.x)(s,k=>{c[I]=k,F||(F=!0,v--),v||s.next(e(c.slice()))},()=>{--p||s.complete()}))},s)},s)}}(s,t,a?p=>function tr(n,t){return n.reduce((e,s,a)=>(e[s]=t[a],e),{})}(a,p):qa.y));return e?c.pipe(function Oo(n){return(0,ct.U)(t=>function Cs(n,t){return La(t)?n(...t):n(t)}(n,t))}(e)):c}function Yy(n,t,e){n?(0,Jd.f)(e,n,t):t()}var Uc=O(8189);function hm(...n){return function Bw(){return(0,Uc.J)(1)}()((0,$t.D)(n,(0,Yr.yG)(n)))}function Qy(n){return new Kn.y(t=>{(0,Ar.Xf)(n()).subscribe(t)})}var jw=O(9635),Xd=O(576);function eh(n,t){const e=(0,Xd.m)(n)?n:()=>n,s=a=>a.error(e());return new Kn.y(t?a=>t.schedule(s,0,a):s)}var yu=O(515),Jy=O(727),rr=O(4482);function fm(){return(0,rr.e)((n,t)=>{let e=null;n._refCount++;const s=(0,On.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class Xy extends Kn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,rr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Jy.w0;const e=this.getSubject();t.add(this.source.subscribe((0,On.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Jy.w0.EMPTY)}return t}refCount(){return fm()(this)}}function Ot(n,t){return(0,rr.e)((e,s)=>{let a=null,c=0,p=!1;const v=()=>p&&!a&&s.complete();e.subscribe((0,On.x)(s,I=>{a?.unsubscribe();let S=0;const F=c++;(0,Ar.Xf)(n(I,F)).subscribe(a=(0,On.x)(s,k=>s.next(t?t(I,k,F,S++):k),()=>{a=null,v()}))},()=>{p=!0,v()}))})}function vu(n){return n<=0?()=>yu.E:(0,rr.e)((t,e)=>{let s=0;t.subscribe((0,On.x)(e,a=>{++s<=n&&(e.next(a),n<=s&&e.complete())}))})}function Ts(n,t){return(0,rr.e)((e,s)=>{let a=0;e.subscribe((0,On.x)(s,c=>n.call(t,c,a++)&&s.next(c)))})}var Wt=O(5577);function Ka(n){return(0,rr.e)((t,e)=>{let s=!1;t.subscribe((0,On.x)(e,a=>{s=!0,e.next(a)},()=>{s||e.next(n),e.complete()}))})}function pm(n=Hw){return(0,rr.e)((t,e)=>{let s=!1;t.subscribe((0,On.x)(e,a=>{s=!0,e.next(a)},()=>s?e.complete():e.error(n())))})}function Hw(){return new Wf}function $o(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Ts((a,c)=>n(a,c,s)):qa.y,vu(1),e?Ka(t):pm(()=>new Wf))}function Za(n,t){return(0,Xd.m)(t)?(0,Wt.z)(n,t,1):(0,Wt.z)(n,1)}var Mr=O(8505);function Go(n){return(0,rr.e)((t,e)=>{let c,s=null,a=!1;s=t.subscribe((0,On.x)(e,void 0,void 0,p=>{c=(0,Ar.Xf)(n(p,Go(n)(t))),s?(s.unsubscribe(),s=null,c.subscribe(e)):a=!0})),a&&(s.unsubscribe(),s=null,c.subscribe(e))})}function $w(n,t,e,s,a){return(c,p)=>{let v=e,I=t,S=0;c.subscribe((0,On.x)(p,F=>{const k=S++;I=v?n(I,F,k):(v=!0,F),s&&p.next(I)},a&&(()=>{v&&p.next(I),p.complete()})))}}function th(n,t){return(0,rr.e)($w(n,t,arguments.length>=2,!0))}function gm(n){return n<=0?()=>yu.E:(0,rr.e)((t,e)=>{let s=[];t.subscribe((0,On.x)(e,a=>{s.push(a),n<s.length&&s.shift()},()=>{for(const a of s)e.next(a);e.complete()},void 0,()=>{s=null}))})}function tv(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Ts((a,c)=>n(a,c,s)):qa.y,gm(1),e?Ka(t):pm(()=>new Wf))}function mm(n){return(0,rr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const mt="primary",Di=Symbol("RouteTitle");class zw{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Bc(n){return new zw(n)}function mb(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let c=0;c<s.length;c++){const p=s[c],v=n[c];if(p.startsWith(":"))a[p.substring(1)]=v;else if(p!==v.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Ss(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!qw(n[a],t[a]))return!1;return!0}function qw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,c)=>s[c]===a)}return n===t}function As(n){return Array.prototype.concat.apply([],n)}function zf(n){return n.length>0?n[n.length-1]:null}function _r(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Wo(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,$t.D)(Promise.resolve(n)):Xe(n)}const Kw={exact:function vm(n,t,e){if(!wu(n.segments,t.segments)||!rh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!vm(n.children[s],t.children[s],e))return!1;return!0},subset:Eu},rv={exact:function ym(n,t){return Ss(n,t)},subset:function yb(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>qw(n[e],t[e]))},ignored:()=>!0};function qf(n,t,e){return Kw[e.paths](n.root,t.root,e.matrixParams)&&rv[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Eu(n,t,e){return Kf(n,t,t.segments,e)}function Kf(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!wu(a,e)||t.hasChildren()||!rh(a,e,s))}if(n.segments.length===e.length){if(!wu(n.segments,e)||!rh(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!Eu(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(wu(n.segments,a)&&rh(n.segments,a,s)&&n.children[mt])&&Kf(n.children[mt],t,c,s)}}function rh(n,t,e){return t.every((s,a)=>rv[e](n[a].parameters,s.parameters))}class Cu{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bc(this.queryParams)),this._queryParamMap}toString(){return sv.serialize(this)}}class wt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,_r(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}}class ih{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Bc(this.parameters)),this._parameterMap}toString(){return Cm(this)}}function wu(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}let iv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return new Em},providedIn:"root"}),n})();class Em{parse(t){const e=new wm(t);return new Cu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Hc(t.root,!0)}`,s=function Jw(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${Yf(e)}=${Yf(a)}`).join("&"):`${Yf(e)}=${Yf(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function Qw(n){return encodeURI(n)}(t.fragment)}`:""}`}}const sv=new Em;function jc(n){return n.segments.map(t=>Cm(t)).join("/")}function Hc(n,t){if(!n.hasChildren())return jc(n);if(t){const e=n.children[mt]?Hc(n.children[mt],!1):"",s=[];return _r(n.children,(a,c)=>{c!==mt&&s.push(`${c}:${Hc(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function Yw(n,t){let e=[];return _r(n.children,(s,a)=>{a===mt&&(e=e.concat(t(s,a)))}),_r(n.children,(s,a)=>{a!==mt&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===mt?[Hc(n.children[mt],!1)]:[`${a}:${Hc(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[mt]?`${jc(n)}/${e[0]}`:`${jc(n)}/(${e.join("//")})`}}function Zf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yf(n){return Zf(n).replace(/%3B/gi,";")}function Qf(n){return Zf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sh(n){return decodeURIComponent(n)}function Ya(n){return sh(n.replace(/\+/g,"%20"))}function Cm(n){return`${Qf(n.path)}${function ov(n){return Object.keys(n).map(t=>`;${Qf(t)}=${Qf(n[t])}`).join("")}(n.parameters)}`}const vb=/^[^\/()?;=#]+/;function Iu(n){const t=n.match(vb);return t?t[0]:""}const Xw=/^[^=?&#]+/,lv=/^[^&#]+/;class wm{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[mt]=new wt(t,e)),s}parseSegment(){const t=Iu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(t),new ih(sh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Iu(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=Iu(this.remaining);a&&(s=a,this.capture(s))}t[sh(e)]=sh(s)}parseQueryParam(t){const e=function av(n){const t=n.match(Xw);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const p=function uv(n){const t=n.match(lv);return t?t[0]:""}(this.remaining);p&&(s=p,this.capture(s))}const a=Ya(e),c=Ya(s);if(t.hasOwnProperty(a)){let p=t[a];Array.isArray(p)||(p=[p],t[a]=p),p.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Iu(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new g.vHH(4010,!1);let c;s.indexOf(":")>-1?(c=s.slice(0,s.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=mt);const p=this.parseChildren();e[c]=1===Object.keys(p).length?p[mt]:new wt([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new g.vHH(4011,!1)}}function Jf(n){return n.segments.length>0?new wt([],{[mt]:n}):n}function Du(n){const t={};for(const s of Object.keys(n.children)){const c=Du(n.children[s]);(c.segments.length>0||c.hasChildren())&&(t[s]=c)}return function Xf(n){if(1===n.numberOfChildren&&n.children[mt]){const t=n.children[mt];return new wt(n.segments.concat(t.segments),t.children)}return n}(new wt(n.segments,t))}function Qa(n){return n instanceof Cu}function t0(n,t,e,s,a){if(0===e.length)return Gc(t.root,t.root,t.root,s,a);const c=function bm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ep(!0,0,n);let t=0,e=!1;const s=n.reduce((a,c,p)=>{if("object"==typeof c&&null!=c){if(c.outlets){const v={};return _r(c.outlets,(I,S)=>{v[S]="string"==typeof I?I.split("/"):I}),[...a,{outlets:v}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===p?(c.split("/").forEach((v,I)=>{0==I&&"."===v||(0==I&&""===v?e=!0:".."===v?t++:""!=v&&a.push(v))}),a):[...a,c]},[]);return new ep(e,t,s)}(e);return c.toRoot()?Gc(t.root,t.root,new wt([],{}),s,a):function p(I){const S=function n0(n,t,e,s){if(n.isAbsolute)return new uh(t.root,!0,0);if(-1===s)return new uh(e,e===t.root,0);return function Tm(n,t,e){let s=n,a=t,c=e;for(;c>a;){if(c-=a,s=s.parent,!s)throw new g.vHH(4005,!1);a=s.segments.length}return new uh(s,!1,a-c)}(e,s+($c(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,t,n.snapshot?._urlSegment,I),F=S.processChildren?jr(S.segmentGroup,S.index,c.commands):Sm(S.segmentGroup,S.index,c.commands);return Gc(t.root,S.segmentGroup,F,s,a)}(n.snapshot?._lastPathIndex)}function $c(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function lh(n){return"object"==typeof n&&null!=n&&n.outlets}function Gc(n,t,e,s,a){let p,c={};s&&_r(s,(I,S)=>{c[S]=Array.isArray(I)?I.map(F=>`${F}`):`${I}`}),p=n===t?e:Dm(n,t,e);const v=Jf(Du(p));return new Cu(v,c,a)}function Dm(n,t,e){const s={};return _r(n.children,(a,c)=>{s[c]=a===t?e:Dm(a,t,e)}),new wt(n.segments,s)}class ep{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&$c(s[0]))throw new g.vHH(4003,!1);const a=s.find(lh);if(a&&a!==zf(s))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uh{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function Sm(n,t,e){if(n||(n=new wt([],{})),0===n.segments.length&&n.hasChildren())return jr(n,t,e);const s=function s0(n,t,e){let s=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return c;const p=n.segments[a],v=e[s];if(lh(v))break;const I=`${v}`,S=s<e.length-1?e[s+1]:null;if(a>0&&void 0===I)break;if(I&&S&&"object"==typeof S&&void 0===S.outlets){if(!hv(I,S,p))return c;s+=2}else{if(!hv(I,{},p))return c;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const c=new wt(n.segments.slice(0,s.pathIndex),{});return c.children[mt]=new wt(n.segments.slice(s.pathIndex),n.children),jr(c,0,a)}return s.match&&0===a.length?new wt(n.segments,{}):s.match&&!n.hasChildren()?tp(n,t,e):s.match?jr(n,0,a):tp(n,t,e)}function jr(n,t,e){if(0===e.length)return new wt(n.segments,{});{const s=function r0(n){return lh(n[0])?n[0].outlets:{[mt]:n}}(e),a={};return _r(s,(c,p)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[p]=Sm(n.children[p],t,c))}),_r(n.children,(c,p)=>{void 0===s[p]&&(a[p]=c)}),new wt(n.segments,a)}}function tp(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(lh(c)){const I=o0(c.outlets);return new wt(s,I)}if(0===a&&$c(e[0])){s.push(new ih(n.segments[t].path,dv(e[0]))),a++;continue}const p=lh(c)?c.outlets[mt]:`${c}`,v=a<e.length-1?e[a+1]:null;p&&v&&$c(v)?(s.push(new ih(p,dv(v))),a+=2):(s.push(new ih(p,{})),a++)}return new wt(s,{})}function o0(n){const t={};return _r(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=tp(new wt([],{}),0,e))}),t}function dv(n){const t={};return _r(n,(e,s)=>t[s]=`${e}`),t}function hv(n,t,e){return n==e.path&&Ss(t,e.parameters)}class zo{constructor(t,e){this.id=t,this.url=e}}class np extends zo{constructor(t,e,s="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bu extends zo{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rp extends zo{constructor(t,e,s,a){super(t,e),this.reason=s,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fv extends zo{constructor(t,e,s,a){super(t,e),this.error=s,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _t extends zo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a0 extends zo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pv extends zo{constructor(t,e,s,a,c){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gv extends zo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l0 extends zo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u0{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mv{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c0{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _v{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d0{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h0{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f0{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Am{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=qo(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=qo(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Rm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Rm(t,this._root).map(e=>e.value)}}function qo(n,t){if(n===t.value)return t;for(const e of t.children){const s=qo(n,e);if(s)return s}return null}function Rm(n,t){if(n===t.value)return[t];for(const e of t.children){const s=Rm(n,e);if(s.length)return s.unshift(t),s}return[]}class Rs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ja(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class vv extends Am{constructor(t,e){super(t),this.snapshot=e,Xa(this,t)}toString(){return this.snapshot.toString()}}function p0(n,t){const e=function Eb(n,t){const p=new Mm([],{},{},"",{},mt,t,null,n.root,-1,{});return new wv("",new Rs(p,[]))}(n,t),s=new Zi([new ih("",{})]),a=new Zi({}),c=new Zi({}),p=new Zi({}),v=new Zi(""),I=new Wc(s,a,p,v,c,mt,t,e.root);return I.snapshot=e.root,new vv(new Rs(I,[]),e)}class Wc{constructor(t,e,s,a,c,p,v,I){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=p,this.component=v,this.title=this.data?.pipe((0,ct.U)(S=>S[Di]))??Xe(void 0),this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(t=>Bc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(t=>Bc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ev(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],c=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(c.component)break;s--}}return function Cv(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Mm{constructor(t,e,s,a,c,p,v,I,S,F,k,K){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=p,this.component=v,this.title=this.data?.[Di],this.routeConfig=I,this._urlSegment=S,this._lastPathIndex=F,this._correctedLastPathIndex=K??F,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wv extends Am{constructor(t,e){super(e),this.url=t,Xa(this,e)}toString(){return Iv(this._root)}}function Xa(n,t){t.value._routerState=n,t.children.forEach(e=>Xa(n,e))}function Iv(n){const t=n.children.length>0?` { ${n.children.map(Iv).join(", ")} } `:"";return`${n.value}${t}`}function ip(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ss(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ss(t.params,e.params)||n.params.next(e.params),function _b(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ss(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ss(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zc(n,t){const e=Ss(n.params,t.params)&&function Zw(n,t){return wu(n,t)&&n.every((e,s)=>Ss(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||zc(n.parent,t.parent))}function qc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function m0(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return qc(n,s,a);return qc(n,s)})}(n,t,e);return new Rs(s,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const p=c.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(v=>qc(n,v)),p}}const s=function _0(n){return new Wc(new Zi(n.url),new Zi(n.params),new Zi(n.queryParams),new Zi(n.fragment),new Zi(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>qc(n,c));return new Rs(s,a)}}const Pm="ngNavigationCancelingError";function Dv(n,t){const{redirectTo:e,navigationBehaviorOptions:s}=Qa(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=bv(!1,0,t);return a.url=e,a.navigationBehaviorOptions=s,a}function bv(n,t,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[Pm]=!0,s.cancellationCode=t,e&&(s.url=e),s}function Om(n){return Tv(n)&&Qa(n.url)}function Tv(n){return n&&n[Pm]}class Sv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Kc,this.attachRef=null}}let Kc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const a=this.getOrCreateContext(e);a.outlet=s,this.contexts.set(e,a)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new Sv,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zc=!1;let Av=(()=>{class n{constructor(e,s,a,c,p){this.parentContexts=e,this.location=s,this.changeDetector=c,this.environmentInjector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=a||mt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,Zc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,Zc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,Zc);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new g.vHH(4013,Zc);this._activatedRoute=e;const a=this.location,p=e._futureSnapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,I=new Nm(e,v,a.injector);if(s&&function y0(n){return!!n.resolveComponentFactory}(s)){const S=s.resolveComponentFactory(p);this.activated=a.createComponent(S,a.length,I)}else this.activated=a.createComponent(p,{index:a.length,injector:I,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(Kc),g.Y36(g.s_b),g.$8M("name"),g.Y36(g.sBO),g.Y36(g.lqb))},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Nm{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===Wc?this.route:t===Kc?this.childContexts:this.parent.get(t,e)}}let Rv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(e,s){1&e&&g._UZ(0,"router-outlet")},dependencies:[Av],encapsulation:2}),n})();function Tu(n,t){return n.providers&&!n._injector&&(n._injector=(0,g.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ch(n){const t=n.children&&n.children.map(ch),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==mt&&(e.component=Rv),e}function bi(n){return n.outlet||mt}function op(n,t){const e=n.filter(s=>bi(s)===t);return e.push(...n.filter(s=>bi(s)!==t)),e}function ap(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Cb{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),ip(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=Ja(e);t.children.forEach(c=>{const p=c.value.outlet;this.deactivateRoutes(c,a[p],s),delete a[p]}),_r(a,(c,p)=>{this.deactivateRouteAndItsChildren(c,s)})}deactivateRoutes(t,e,s){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const p=s.getContext(a.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,s);else c&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,c=Ja(t);for(const p of Object.keys(c))this.deactivateRouteAndItsChildren(c[p],a);if(s&&s.outlet){const p=s.outlet.detach(),v=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:v})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,c=Ja(t);for(const p of Object.keys(c))this.deactivateRouteAndItsChildren(c[p],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=Ja(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],s),this.forwardEvent(new h0(c.value.snapshot))}),t.children.length&&this.forwardEvent(new _v(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,c=e?e.value:null;if(ip(a),a===c)if(a.component){const p=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const p=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(v.contexts),p.attachRef=v.componentRef,p.route=v.route.value,p.outlet&&p.outlet.attach(v.componentRef,v.route.value),ip(v.route.value),this.activateChildRoutes(t,null,p.children)}else{const v=ap(a.snapshot),I=v?.get(g._Vd)??null;p.attachRef=null,p.route=a,p.resolver=I,p.injector=v,p.outlet&&p.outlet.activateWith(a,p.injector),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,s)}}class dh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Su{constructor(t,e){this.component=t,this.route=e}}function Fm(n,t,e){const s=n._root;return lp(s,t?t._root:null,e,[s.value])}function el(n,t){const e=Symbol(),s=t.get(n,e);return s===e?"function"!=typeof n||(0,g.Z0I)(n)?t.get(n):n:s}function lp(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ja(t);return n.children.forEach(p=>{(function w0(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,p=t?t.value:null,v=e?e.getContext(n.value.outlet):null;if(p&&c.routeConfig===p.routeConfig){const I=function I0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!wu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!wu(n.url,t.url)||!Ss(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zc(n,t)||!Ss(n.queryParams,t.queryParams);default:return!zc(n,t)}}(p,c,c.routeConfig.runGuardsAndResolvers);I?a.canActivateChecks.push(new dh(s)):(c.data=p.data,c._resolvedData=p._resolvedData),lp(n,t,c.component?v?v.children:null:e,s,a),I&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new Su(v.outlet.component,p))}else p&&hh(t,v,a),a.canActivateChecks.push(new dh(s)),lp(n,null,c.component?v?v.children:null:e,s,a)})(p,c[p.value.outlet],e,s.concat([p.value]),a),delete c[p.value.outlet]}),_r(c,(p,v)=>hh(p,e.getContext(v),a)),a}function hh(n,t,e){const s=Ja(n),a=n.value;_r(s,(c,p)=>{hh(c,a.component?t?t.children.getContext(p):null:t,e)}),e.canDeactivateChecks.push(new Su(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function fh(n){return"function"==typeof n}function xv(n){return n instanceof Wf||"EmptyError"===n?.name}const Um=Symbol("INITIAL_VALUE");function ph(){return Ot(n=>Zy(n.map(t=>t.pipe(vu(1),function ev(...n){const t=(0,Yr.yG)(n);return(0,rr.e)((e,s)=>{(t?hm(n,e,t):hm(n,e)).subscribe(s)})}(Um)))).pipe((0,ct.U)(t=>{for(const e of t)if(!0!==e){if(e===Um)return Um;if(!1===e||e instanceof Cu)return e}return!0}),Ts(t=>t!==Um),vu(1)))}function kv(n){return(0,jw.z)((0,Mr.b)(t=>{if(Qa(t))throw Dv(0,t)}),(0,ct.U)(t=>!0===t))}const gh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jm(n,t,e,s,a){const c=mh(n,t,e);return c.matched?function Fv(n,t,e,s){const a=t.canMatch;return a&&0!==a.length?Xe(a.map(p=>{const v=el(p,n);return Wo(function Nv(n){return n&&fh(n.canMatch)}(v)?v.canMatch(t,e):n.runInContext(()=>v(t,e)))})).pipe(ph(),kv()):Xe(!0)}(s=Tu(t,s),t,e).pipe((0,ct.U)(p=>!0===p?c:{...gh})):Xe(c)}function mh(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...gh}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||mb)(e,n,t);if(!a)return{...gh};const c={};_r(a.posParams,(v,I)=>{c[I]=v.path});const p=a.consumed.length>0?{...c,...a.consumed[a.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:p,positionalParamSegments:a.posParams??{}}}function up(n,t,e,s,a="corrected"){if(e.length>0&&function b0(n,t,e){return e.some(s=>_h(n,t,s)&&bi(s)!==mt)}(n,e,s)){const p=new wt(t,function Lv(n,t,e,s){const a={};a[mt]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&bi(c)!==mt){const p=new wt([],{});p._sourceSegment=n,p._segmentIndexShift=t.length,a[bi(c)]=p}return a}(n,t,s,new wt(e,n.children)));return p._sourceSegment=n,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function T0(n,t,e){return e.some(s=>_h(n,t,s))}(n,e,s)){const p=new wt(n.segments,function nl(n,t,e,s,a,c){const p={};for(const v of s)if(_h(n,e,v)&&!a[bi(v)]){const I=new wt([],{});I._sourceSegment=n,I._segmentIndexShift="legacy"===c?n.segments.length:t.length,p[bi(v)]=I}return{...a,...p}}(n,t,e,s,n.children,a));return p._sourceSegment=n,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:e}}const c=new wt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function _h(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Vv(n,t,e,s){return!!(bi(n)===s||s!==mt&&_h(t,e,n))&&("**"===n.path||mh(t,n,e).matched)}function Uv(n,t,e){return 0===t.length&&!n.children[e]}const Au=!1;class Zo{constructor(t){this.segmentGroup=t||null}}class cp{constructor(t){this.urlTree=t}}function so(n){return eh(new Zo(n))}function dp(n){return eh(new cp(n))}class Hm{constructor(t,e,s,a,c){this.injector=t,this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=c,this.allowRedirects=!0}apply(){const t=up(this.urlTree.root,[],[],this.config).segmentGroup,e=new wt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,mt).pipe((0,ct.U)(c=>this.createUrlTree(Du(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Go(c=>{if(c instanceof cp)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Zo?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,mt).pipe((0,ct.U)(a=>this.createUrlTree(Du(a),t.queryParams,t.fragment))).pipe(Go(a=>{throw a instanceof Zo?this.noMatchError(a):a}))}noMatchError(t){return new g.vHH(4002,Au)}createUrlTree(t,e,s){const a=Jf(t);return new Cu(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,ct.U)(c=>new wt([],c))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const c of Object.keys(s.children))"primary"===c?a.unshift(c):a.push(c);return(0,$t.D)(a).pipe(Za(c=>{const p=s.children[c],v=op(e,c);return this.expandSegmentGroup(t,v,p,c).pipe((0,ct.U)(I=>({segment:I,outlet:c})))}),th((c,p)=>(c[p.outlet]=p.segment,c),{}),tv())}expandSegment(t,e,s,a,c,p){return(0,$t.D)(s).pipe(Za(v=>this.expandSegmentAgainstRoute(t,e,s,v,a,c,p).pipe(Go(S=>{if(S instanceof Zo)return Xe(null);throw S}))),$o(v=>!!v),Go((v,I)=>{if(xv(v))return Uv(e,a,c)?Xe(new wt([],{})):so(e);throw v}))}expandSegmentAgainstRoute(t,e,s,a,c,p,v){return Vv(a,e,c,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,p):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,c,p):so(e):so(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,c,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,c,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const c=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?dp(c):this.lineralizeSegments(s,c).pipe((0,Wt.z)(p=>{const v=new wt(p,{});return this.expandSegment(t,v,e,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,c,p){const{matched:v,consumedSegments:I,remainingSegments:S,positionalParamSegments:F}=mh(e,a,c);if(!v)return so(e);const k=this.applyRedirectCommands(I,a.redirectTo,F);return a.redirectTo.startsWith("/")?dp(k):this.lineralizeSegments(a,k).pipe((0,Wt.z)(K=>this.expandSegment(t,e,s,K.concat(S),p,!1)))}matchSegmentAgainstRoute(t,e,s,a,c){return"**"===s.path?(t=Tu(s,t),s.loadChildren?(s._loadedRoutes?Xe({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(t,s)).pipe((0,ct.U)(v=>(s._loadedRoutes=v.routes,s._loadedInjector=v.injector,new wt(a,{})))):Xe(new wt(a,{}))):jm(e,s,a,t).pipe(Ot(({matched:p,consumedSegments:v,remainingSegments:I})=>p?this.getChildConfig(t=s._injector??t,s,a).pipe((0,Wt.z)(F=>{const k=F.injector??t,K=F.routes,{segmentGroup:le,slicedSegments:Te}=up(e,v,I,K),We=new wt(le.segments,le.children);if(0===Te.length&&We.hasChildren())return this.expandChildren(k,K,We).pipe((0,ct.U)(Bt=>new wt(v,Bt)));if(0===K.length&&0===Te.length)return Xe(new wt(v,{}));const ze=bi(s)===c;return this.expandSegment(k,We,K,Te,ze?mt:c,!0).pipe((0,ct.U)(At=>new wt(v.concat(At.segments),At.children)))})):so(e)))}getChildConfig(t,e,s){return e.children?Xe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Xe({routes:e._loadedRoutes,injector:e._loadedInjector}):function Bm(n,t,e,s){const a=t.canLoad;return void 0===a||0===a.length?Xe(!0):Xe(a.map(p=>{const v=el(p,n);return Wo(function wb(n){return n&&fh(n.canLoad)}(v)?v.canLoad(t,e):n.runInContext(()=>v(t,e)))})).pipe(ph(),kv())}(t,e,s).pipe((0,Wt.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,Mr.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function Bv(n){return eh(bv(Au,3))}())):Xe({routes:[],injector:t})}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return Xe(s);if(a.numberOfChildren>1||!a.children[mt])return eh(new g.vHH(4e3,Au));a=a.children[mt]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreateUrlTree(t,e,s,a){const c=this.createSegmentGroup(t,e.root,s,a);return new Cu(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return _r(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[c]=e[v]}else s[c]=a}),s}createSegmentGroup(t,e,s,a){const c=this.createSegments(t,e.segments,s,a);let p={};return _r(e.children,(v,I)=>{p[I]=this.createSegmentGroup(t,v,s,a)}),new wt(c,p)}createSegments(t,e,s,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new g.vHH(4001,Au);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}class Gm{}class A0{constructor(t,e,s,a,c,p,v,I){this.injector=t,this.rootComponentType=e,this.config=s,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=p,this.relativeLinkResolution=v,this.urlSerializer=I}recognize(){const t=up(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,mt).pipe((0,ct.U)(e=>{if(null===e)return null;const s=new Mm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Rs(s,e),c=new wv(this.url,a);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(t){const e=t.value,s=Ev(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.processChildren(t,e,s):this.processSegment(t,e,s,s.segments,a)}processChildren(t,e,s){return(0,$t.D)(Object.keys(s.children)).pipe(Za(a=>{const c=s.children[a],p=op(e,a);return this.processSegmentGroup(t,p,c,a)}),th((a,c)=>a&&c?(a.push(...c),a):null),function Gw(n,t=!1){return(0,rr.e)((e,s)=>{let a=0;e.subscribe((0,On.x)(s,c=>{const p=n(c,a++);(p||t)&&s.next(c),!p&&s.complete()}))})}(a=>null!==a),Ka(null),tv(),(0,ct.U)(a=>{if(null===a)return null;const c=Wm(a);return function Hv(n){n.sort((t,e)=>t.value.outlet===mt?-1:e.value.outlet===mt?1:t.value.outlet.localeCompare(e.value.outlet))}(c),c}))}processSegment(t,e,s,a,c){return(0,$t.D)(e).pipe(Za(p=>this.processSegmentAgainstRoute(p._injector??t,p,s,a,c)),$o(p=>!!p),Go(p=>{if(xv(p))return Uv(s,a,c)?Xe([]):Xe(null);throw p}))}processSegmentAgainstRoute(t,e,s,a,c){if(e.redirectTo||!Vv(e,s,a,c))return Xe(null);let p;if("**"===e.path){const v=a.length>0?zf(a).parameters:{},I=zm(s)+a.length;p=Xe({snapshot:new Mm(a,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,P0(e),bi(e),e.component??e._loadedComponent??null,e,ni(s),I,Wv(e),I),consumedSegments:[],remainingSegments:[]})}else p=jm(s,e,a,t).pipe((0,ct.U)(({matched:v,consumedSegments:I,remainingSegments:S,parameters:F})=>{if(!v)return null;const k=zm(s)+I.length;return{snapshot:new Mm(I,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,P0(e),bi(e),e.component??e._loadedComponent??null,e,ni(s),k,Wv(e),k),consumedSegments:I,remainingSegments:S}}));return p.pipe(Ot(v=>{if(null===v)return Xe(null);const{snapshot:I,consumedSegments:S,remainingSegments:F}=v;t=e._injector??t;const k=e._loadedInjector??t,K=function R0(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:le,slicedSegments:Te}=up(s,S,F,K.filter(ze=>void 0===ze.redirectTo),this.relativeLinkResolution);if(0===Te.length&&le.hasChildren())return this.processChildren(k,K,le).pipe((0,ct.U)(ze=>null===ze?null:[new Rs(I,ze)]));if(0===K.length&&0===Te.length)return Xe([new Rs(I,[])]);const We=bi(e)===c;return this.processSegment(k,K,le,Te,We?mt:c).pipe((0,ct.U)(ze=>null===ze?null:[new Rs(I,ze)]))}))}}function $v(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Wm(n){const t=[],e=new Set;for(const s of n){if(!$v(s)){t.push(s);continue}const a=t.find(c=>s.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=Wm(s.children);t.push(new Rs(s.value,a))}return t.filter(s=>!e.has(s))}function ni(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function zm(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function P0(n){return n.data||{}}function Wv(n){return n.resolve||{}}function Kv(n){return"string"==typeof n.title||null===n.title}function fp(n){return Ot(t=>{const e=n(t);return e?(0,$t.D)(e).pipe((0,ct.U)(()=>t)):Xe(t)})}let Zv=(()=>{class n{buildTitle(e){let s,a=e.root;for(;void 0!==a;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(c=>c.outlet===mt);return s}getResolvedTitleForRoute(e){return e.data[Di]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(Yv)},providedIn:"root"}),n})(),Yv=(()=>{class n extends Zv{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(mi))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qv{}class oo extends class F0{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const pp=new g.OlP("",{providedIn:"root",factory:()=>({})}),Xv=new g.OlP("ROUTES");let gp=(()=>{class n{constructor(e,s){this.injector=e,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Xe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=Wo(e.loadComponent()).pipe((0,Mr.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),mm(()=>{this.componentLoaders.delete(e)})),a=new Xy(s,()=>new ro.x).pipe(fm());return this.componentLoaders.set(e,a),a}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Xe({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const c=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,ct.U)(v=>{this.onLoadEndListener&&this.onLoadEndListener(s);let I,S,F=!1;Array.isArray(v)?S=v:(I=v.create(e).injector,S=As(I.get(Xv,[],g.XFs.Self|g.XFs.Optional)));return{routes:S.map(ch),injector:I}}),mm(()=>{this.childrenLoaders.delete(s)})),p=new Xy(c,()=>new ro.x).pipe(fm());return this.childrenLoaders.set(s,p),p}loadModuleFactoryOrRoutes(e){return Wo(e()).pipe((0,Wt.z)(s=>s instanceof g.YKP||Array.isArray(s)?Xe(s):(0,$t.D)(this.compiler.compileModuleAsync(s))))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.zs3),g.LFG(g.Sil))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class L0{}class V0{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Zm(n){throw n}function U0(n,t,e){return t.parse("/")}const B0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_p={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function vh(){const n=(0,g.f3M)(iv),t=(0,g.f3M)(Kc),e=(0,g.f3M)(Ie),s=(0,g.f3M)(g.zs3),a=(0,g.f3M)(g.Sil),c=(0,g.f3M)(Xv,{optional:!0})??[],p=(0,g.f3M)(pp,{optional:!0})??{},v=(0,g.f3M)(Yv),I=(0,g.f3M)(Zv,{optional:!0}),S=(0,g.f3M)(L0,{optional:!0}),F=(0,g.f3M)(Qv,{optional:!0}),k=new Pr(null,n,t,e,s,a,As(c));return S&&(k.urlHandlingStrategy=S),F&&(k.routeReuseStrategy=F),k.titleStrategy=I??v,function Ym(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(p,k),k}let Pr=(()=>{class n{constructor(e,s,a,c,p,v,I){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=c,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ro.x,this.errorHandler=Zm,this.malformedUriErrorHandler=U0,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Xe(void 0),this.urlHandlingStrategy=new V0,this.routeReuseStrategy=new oo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=p.get(gp),this.configLoader.onLoadEndListener=K=>this.triggerEvent(new mv(K)),this.configLoader.onLoadStartListener=K=>this.triggerEvent(new u0(K)),this.ngModule=p.get(g.h0i),this.console=p.get(g.c2e);const k=p.get(g.R0b);this.isNgZoneEnabled=k instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=function nh(){return new Cu(new wt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=p0(this.currentUrlTree,this.rootComponentType),this.transitions=new Zi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(Ts(a=>0!==a.id),(0,ct.U)(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ot(a=>{let c=!1,p=!1;return Xe(a).pipe((0,Mr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ot(v=>{const I=this.browserUrlTree.toString(),S=!this.navigated||v.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return j0(v.source)&&(this.browserUrlTree=v.extractedUrl),Xe(v).pipe(Ot(k=>{const K=this.transitions.getValue();return s.next(new np(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),K!==this.transitions.getValue()?yu.E:Promise.resolve(k)}),function $m(n,t,e,s){return Ot(a=>function jv(n,t,e,s,a){return new Hm(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,ct.U)(c=>({...a,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mr.b)(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},a.urlAfterRedirects=k.urlAfterRedirects}),function qm(n,t,e,s,a,c){return(0,Wt.z)(p=>function Ob(n,t,e,s,a,c,p="emptyOnly",v="legacy"){return new A0(n,t,e,s,a,p,v,c).recognize().pipe(Ot(I=>null===I?function S0(n){return new Kn.y(t=>t.error(n))}(new Gm):Xe(I)))}(n,t,e,p.urlAfterRedirects,s.serialize(p.urlAfterRedirects),s,a,c).pipe((0,ct.U)(v=>({...p,targetSnapshot:v}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mr.b)(k=>{if(a.targetSnapshot=k.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const le=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(le,k)}this.browserUrlTree=k.urlAfterRedirects}const K=new _t(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);s.next(K)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:K,extractedUrl:le,source:Te,restoredState:We,extras:ze}=v,Ft=new np(K,this.serializeUrl(le),Te,We);s.next(Ft);const At=p0(le,this.rootComponentType).snapshot;return Xe(a={...v,targetSnapshot:At,urlAfterRedirects:le,extras:{...ze,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=v.rawUrl,v.resolve(null),yu.E}),(0,Mr.b)(v=>{const I=new a0(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(I)}),(0,ct.U)(v=>a={...v,guards:Fm(v.targetSnapshot,v.currentSnapshot,this.rootContexts)}),function bb(n,t){return(0,Wt.z)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:p}}=e;return 0===p.length&&0===c.length?Xe({...e,guardsResult:!0}):function Tb(n,t,e,s){return(0,$t.D)(n).pipe((0,Wt.z)(a=>function tl(n,t,e,s,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Xe(c.map(v=>{const I=ap(t)??a,S=el(v,I);return Wo(function Ov(n){return n&&fh(n.canDeactivate)}(S)?S.canDeactivate(n,t,e,s):I.runInContext(()=>S(n,t,e,s))).pipe($o())})).pipe(ph()):Xe(!0)}(a.component,a.route,e,t,s)),$o(a=>!0!==a,!0))}(p,s,a,n).pipe((0,Wt.z)(v=>v&&function Pv(n){return"boolean"==typeof n}(v)?function Sb(n,t,e,s){return(0,$t.D)(t).pipe(Za(a=>hm(function Rb(n,t){return null!==n&&t&&t(new c0(n)),Xe(!0)}(a.route.parent,s),function Ab(n,t){return null!==n&&t&&t(new d0(n)),Xe(!0)}(a.route,s),function Pb(n,t,e){const s=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(p=>function Lm(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(p)).filter(p=>null!==p).map(p=>Qy(()=>Xe(p.guards.map(I=>{const S=ap(p.node)??e,F=el(I,S);return Wo(function Ib(n){return n&&fh(n.canActivateChild)}(F)?F.canActivateChild(s,n):S.runInContext(()=>F(s,n))).pipe($o())})).pipe(ph())));return Xe(c).pipe(ph())}(n,a.path,e),function Mb(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return Xe(!0);const a=s.map(c=>Qy(()=>{const p=ap(t)??e,v=el(c,p);return Wo(function D0(n){return n&&fh(n.canActivate)}(v)?v.canActivate(t,n):p.runInContext(()=>v(t,n))).pipe($o())}));return Xe(a).pipe(ph())}(n,a.route,e))),$o(a=>!0!==a,!0))}(s,c,n,t):Xe(v)),(0,ct.U)(v=>({...e,guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,Mr.b)(v=>{if(a.guardsResult=v.guardsResult,Qa(v.guardsResult))throw Dv(0,v.guardsResult);const I=new pv(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(I)}),Ts(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",3),!1)),fp(v=>{if(v.guards.canActivateChecks.length)return Xe(v).pipe((0,Mr.b)(I=>{const S=new gv(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}),Ot(I=>{let S=!1;return Xe(I).pipe(function zv(n,t){return(0,Wt.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return Xe(e);let c=0;return(0,$t.D)(a).pipe(Za(p=>function O0(n,t,e,s){const a=n.routeConfig,c=n._resolve;return void 0!==a?.title&&!Kv(a)&&(c[Di]=a.title),function N0(n,t,e,s){const a=function x0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return Xe({});const c={};return(0,$t.D)(a).pipe((0,Wt.z)(p=>function qv(n,t,e,s){const a=ap(t)??s,c=el(n,a);return Wo(c.resolve?c.resolve(t,e):a.runInContext(()=>c(t,e)))}(n[p],t,e,s).pipe($o(),(0,Mr.b)(v=>{c[p]=v}))),gm(1),function Ww(n){return(0,ct.U)(()=>n)}(c),Go(p=>xv(p)?yu.E:eh(p)))}(c,n,t,s).pipe((0,ct.U)(p=>(n._resolvedData=p,n.data=Ev(n,e).resolve,a&&Kv(a)&&(n.data[Di]=a.title),null)))}(p.route,s,n,t)),(0,Mr.b)(()=>c++),gm(1),(0,Wt.z)(p=>c===a.length?Xe(e):yu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(I),this.cancelNavigationTransition(I,"",2))}}))}),(0,Mr.b)(I=>{const S=new l0(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}))}),fp(v=>{const I=S=>{const F=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&F.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,Mr.b)(k=>{S.component=k}),(0,ct.U)(()=>{})));for(const k of S.children)F.push(...I(k));return F};return Zy(I(v.targetSnapshot.root)).pipe(Ka(),vu(1))}),fp(()=>this.afterPreactivation()),(0,ct.U)(v=>{const I=function g0(n,t,e){const s=qc(n,t._root,e?e._root:void 0);return new vv(s,t)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return a={...v,targetRouterState:I}}),(0,Mr.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,t,e)=>(0,ct.U)(s=>(new Cb(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,Mr.b)({next(){c=!0},complete(){c=!0}}),mm(()=>{c||p||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Go(v=>{if(p=!0,Tv(v)){Om(v)||(this.navigated=!0,this.restoreHistory(a,!0));const I=new rp(a.id,this.serializeUrl(a.extractedUrl),v.message,v.cancellationCode);if(s.next(I),Om(v)){const S=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),F={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||j0(a.source)};this.scheduleNavigation(S,"imperative",null,F,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const I=new fv(a.id,this.serializeUrl(a.extractedUrl),v,a.targetSnapshot??void 0);s.next(I);try{a.resolve(this.errorHandler(v))}catch(S){a.reject(S)}}return yu.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{const a={replaceUrl:!0},c=e.state?.navigationId?e.state:null;if(c){const v={...c};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(a.state=v)}const p=this.parseUrl(e.url);this.scheduleNavigation(p,s,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(ch),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:c,fragment:p,queryParamsHandling:v,preserveFragment:I}=s,S=a||this.routerState.root,F=I?this.currentUrlTree.fragment:p;let k=null;switch(v){case"merge":k={...this.currentUrlTree.queryParams,...c};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=c||null}return null!==k&&(k=this.removeEmptyProps(k)),t0(S,this.currentUrlTree,e,k,F??null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=Qa(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function Qm(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new g.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?{...B0}:!1===s?{..._p}:s,Qa(e))return qf(this.currentUrlTree,e,a);const c=this.parseUrl(e);return qf(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const c=e[a];return null!=c&&(s[a]=c),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new bu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,c,p){if(this.disposed)return Promise.resolve(!1);let v,I,S;p?(v=p.resolve,I=p.reject,S=p.promise):S=new Promise((K,le)=>{v=K,I=le});const F=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),k=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):k=0,this.setTransition({id:F,targetPageId:k,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:v,reject:I,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(K=>Promise.reject(K))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),c={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s,a){const c=new rp(e.id,this.serializeUrl(e.extractedUrl),s,a);this.triggerEvent(c),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:function(){return vh()},providedIn:"root"}),n})();function j0(n){return"imperative"!==n}class Ep{}let Cp=(()=>{class n{constructor(e,s,a,c,p){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(Ts(e=>e instanceof bu),Za(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const c of s){c.providers&&!c._injector&&(c._injector=(0,g.MMx)(c.providers,e,`Route: ${c.path}`));const p=c._injector??e,v=c._loadedInjector??p;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?a.push(this.preloadConfig(p,c)):(c.children||c._loadedRoutes)&&a.push(this.processRoutes(v,c.children??c._loadedRoutes))}return(0,$t.D)(a).pipe((0,Uc.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):Xe(null);const c=a.pipe((0,Wt.z)(p=>null===p?Xe(void 0):(s._loadedRoutes=p.routes,s._loadedInjector=p.injector,this.processRoutes(p.injector??e,p.routes))));if(s.loadComponent&&!s._loadedComponent){const p=this.loader.loadComponent(s);return(0,$t.D)([c,p]).pipe((0,Uc.J)())}return c})}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Pr),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Ep),g.LFG(gp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ru=new g.OlP("");let nE=(()=>{class n{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof np?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof f0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new f0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Qc(n,t){return{\u0275kind:n,\u0275providers:t}}function Mu(n){return[{provide:Xv,multi:!0,useValue:n}]}function $0(){const n=(0,g.f3M)(g.zs3);return t=>{const e=n.get(g.z2F);if(t!==e.components[0])return;const s=n.get(Pr),a=n.get(iE);1===n.get(sE)&&s.initialNavigation(),n.get(Xm,null,g.XFs.Optional)?.setUpPreloading(),n.get(Ru,null,g.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),a.next(),a.complete()}}const iE=new g.OlP("",{factory:()=>new ro.x}),sE=new g.OlP("",{providedIn:"root",factory:()=>1});const Xm=new g.OlP("");function e_(n){return Qc(0,[{provide:Xm,useExisting:Cp},{provide:Ep,useExisting:n}])}const oE=new g.OlP("ROUTER_FORROOT_GUARD"),q0=[Ie,{provide:iv,useClass:Em},{provide:Pr,useFactory:vh},Kc,{provide:Wc,useFactory:function rE(n){return n.routerState.root},deps:[Pr]},gp];function K0(){return new g.PXZ("Router",Pr)}let aE=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[q0,[],Mu(e),{provide:oE,useFactory:Fb,deps:[[Pr,new g.FiY,new g.tp0]]},{provide:pp,useValue:s||{}},s?.useHash?{provide:pe,useClass:Ke}:{provide:pe,useClass:je},{provide:Ru,useFactory:()=>{const n=(0,g.f3M)(Pr),t=(0,g.f3M)(da),e=(0,g.f3M)(pp);return e.scrollOffset&&t.setOffset(e.scrollOffset),new nE(n,t,e)}},s?.preloadingStrategy?e_(s.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:K0},s?.initialNavigation?Eh(s):[],[{provide:lE,useFactory:$0},{provide:g.tb,multi:!0,useExisting:lE}]]}}static forChild(e){return{ngModule:n,providers:[Mu(e)]}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oE,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Rv]}),n})();function Fb(n){return"guarded"}function Eh(n){return["disabled"===n.initialNavigation?Qc(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const t=(0,g.f3M)(Pr);return()=>{t.setUpLocationChangeListener()}}},{provide:sE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Qc(2,[{provide:sE,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:t=>{const e=t.get(B,Promise.resolve());let s=!1;return()=>e.then(()=>new Promise(c=>{const p=t.get(Pr),v=t.get(iE);(function a(c){t.get(Pr).events.pipe(Ts(v=>v instanceof bu||v instanceof rp||v instanceof fv),(0,ct.U)(v=>v instanceof bu||v instanceof rp&&(0===v.code||1===v.code)&&null),Ts(v=>null!==v),vu(1)).subscribe(()=>{c()})})(()=>{c(!0),s=!0}),p.afterPreactivation=()=>(c(!0),s||v.closed?Xe(void 0):v),p.initialNavigation()}))}}]).\u0275providers:[]]}const lE=new g.OlP(""),Q0=[];let ao=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[aE.forRoot(Q0),aE]}),n})(),Ch=(()=>{class n{constructor(){this.title="PPLabo4Szellner"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,s){1&e&&g._UZ(0,"router-outlet")},dependencies:[Av]}),n})();var zt=O(2011),il=O(4986),Xc=O(6451),Ti=O(3099);function ed(n,t){return n===t}var td=O(5032),Sn=O(5813),Ou=(O(2476),O(3942)),ri=O(4859),Or=O(5861),Yi=O(9681),x=O(2090),Ih=O(1877);const n_="@firebase/database";let Ip="";function i_(n){Ip=n}class cE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,x.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,x.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class dE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,x.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const hE=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new cE(t)}}catch{}return new dE},Nu=hE("localStorage"),s_=hE("sessionStorage"),id=new Ih.Yd("@firebase/database"),fE=function(){let n=1;return function(){return n++}}(),o_=function(n){const t=(0,x.dS)(n),e=new x.gQ;e.update(t);const s=e.digest();return x.US.encodeByteArray(s)},xu=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=xu.apply(null,s):t+="object"==typeof s?(0,x.Pz)(s):s,t+=" "}return t};let ku=null,Dp=!0;const bp=function(n,t){(0,x.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(id.logLevel=Ih.in.VERBOSE,ku=id.log.bind(id),t&&s_.set("logging_enabled",!0)):"function"==typeof n?ku=n:(ku=null,s_.remove("logging_enabled"))},Hn=function(...n){if(!0===Dp&&(Dp=!1,null===ku&&!0===s_.get("logging_enabled")&&bp(!0)),ku){const t=xu.apply(null,n);ku(t)}},Dh=function(n){return function(...t){Hn(n,...t)}},bh=function(...n){const t="FIREBASE INTERNAL ERROR: "+xu(...n);id.error(t)},Qi=function(...n){const t=`FIREBASE FATAL ERROR: ${xu(...n)}`;throw id.error(t),new Error(t)},yr=function(...n){const t="FIREBASE WARNING: "+xu(...n);id.warn(t)},sd=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},lo="[MIN_NAME]",Ji="[MAX_NAME]",sl=function(n,t){if(n===t)return 0;if(n===lo||t===Ji)return-1;if(t===lo||n===Ji)return 1;{const e=Th(n),s=Th(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},X0=function(n,t){return n===t?0:n<t?-1:1},od=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,x.Pz)(t))},Tp=function(n){if("object"!=typeof n||null===n)return(0,x.Pz)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,x.Pz)(t[s]),e+=":",e+=Tp(n[t[s]]);return e+="}",e},a_=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function ir(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const gE=function(n){(0,x.hu)(!sd(n),"Invalid JSON number");const s=1023;let a,c,p,v,I;0===n?(c=0,p=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(v=Math.min(Math.floor(Math.log(n)/Math.LN2),s),c=v+s,p=Math.round(n*Math.pow(2,52-v)-Math.pow(2,52))):(c=0,p=Math.round(n/Math.pow(2,-1074))));const S=[];for(I=52;I;I-=1)S.push(p%2?1:0),p=Math.floor(p/2);for(I=11;I;I-=1)S.push(c%2?1:0),c=Math.floor(c/2);S.push(a?1:0),S.reverse();const F=S.join("");let k="";for(I=0;I<64;I+=8){let K=parseInt(F.substr(I,8),2).toString(16);1===K.length&&(K="0"+K),k+=K}return k.toLowerCase()},l_=new RegExp("^-?(0*)\\d{1,10}$"),u_=-2147483648,Sp=2147483647,Th=function(n){if(l_.test(n)){const t=Number(n);if(t>=u_&&t<=Sp)return t}return null},Fu=function(n){try{n()}catch(t){setTimeout(()=>{throw yr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},ad=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class yE{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){yr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class vE{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Hn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yr(t)}}let Ap=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const d_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DE="websocket",h_="long_polling";class Pp{constructor(t,e,s,a,c=!1,p="",v=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=p,this.includeNamespaceInQueryParams=v,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nu.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Nu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function bE(n,t,e){let s;if((0,x.hu)("string"==typeof t,"typeof type must == string"),(0,x.hu)("object"==typeof e,"typeof params must == object"),t===DE)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==h_)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ld(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return ir(e,(c,p)=>{a.push(c+"="+p)}),s+a.join("&")}class nI{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,x.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,x.p$)(this.counters_)}}const Op={},f_={};function Np(n){const t=n.toString();return Op[t]||(Op[t]=new nI),Op[t]}class TE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&Fu(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ol{constructor(t,e,s,a,c,p,v){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=c,this.transportSessionId=p,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dh(t),this.stats_=Np(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),bE(e,h_,I))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new TE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,x.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fp((...c)=>{const[p,v,I,S,F]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=v,this.password=I;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[p,v]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(p,v)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&d_.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ol.forceAllow_=!0}static forceDisallow(){ol.forceDisallow_=!0}static isAvailable(){return!((0,x.Yr)()||!ol.forceAllow_&&(ol.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,x.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,x.h$)(e),a=a_(s,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,x.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,x.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Fp{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,x.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=fE(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Fp.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(v){Hn("frame writing exception"),v.stack&&Hn(v.stack),Hn(v)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Hn("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const p=this.pendingSegs.shift();s=s+"&seg"+a+"="+p.seg+"&ts"+a+"="+p.ts+"&d"+a+"="+p.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,x.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{Hn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let Vp=null;typeof MozWebSocket<"u"?Vp=MozWebSocket:typeof WebSocket<"u"&&(Vp=WebSocket);let Lu=(()=>{class n{constructor(e,s,a,c,p,v,I){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dh(this.connId),this.stats_=Np(s),this.connURL=n.connectionURL_(s,v,I,c,a),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,c,p){const v={v:"5"};return!(0,x.Yr)()&&typeof location<"u"&&location.hostname&&d_.test(location.hostname)&&(v.r="f"),s&&(v.s=s),a&&(v.ls=a),c&&(v.ac=c),p&&(v.p=p),bE(e,DE,v)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nu.set("previous_websocket_failure",!0);try{let a;if((0,x.Yr)()){a={headers:{"User-Agent":`Firebase/5/${Ip}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,v=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;v&&(a.proxy={origin:v})}this.mySock=new Vp(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Vp&&!n.forceDisallow_}static previouslyFailed(){return Nu.isInMemoryStorage||!0===Nu.get("previous_websocket_failure")}markConnectionHealthy(){Nu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,x.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,x.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,x.Pz)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=a_(s,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),OE=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ol,Lu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=Lu&&Lu.isAvailable();let a=s&&!Lu.previouslyFailed();if(e.webSocketOnly&&(s||yr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Lu];else{const c=this.transports_=[];for(const p of n.ALL_TRANSPORTS)p&&p.isAvailable()&&c.push(p);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class jE{constructor(t,e,s,a,c,p,v,I,S,F){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=p,this.onReady_=v,this.onDisconnect_=I,this.onKill_=S,this.lastSessionId=F,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dh("c:"+this.id+":"),this.transportManager_=new OE(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=ad(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=od("t",t),s=od("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=od("t",t),s=od("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=od("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?bh("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bh("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&yr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),ad(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ad(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class HE{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class $E{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,x.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!s||s===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,x.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Bp extends $E{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,x.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Bp}getInitialEvent(t){return(0,x.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class qt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ut(){return new qt("")}function bt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function al(n){return n.pieces_.length-n.pieceNum_}function rn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new qt(n.pieces_,t)}function y_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ah(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function v_(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new qt(t,0)}function gn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof qt)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new qt(e,0)}function It(n){return n.pieceNum_>=n.pieces_.length}function Nr(n,t){const e=bt(n),s=bt(t);if(null===e)return t;if(e===s)return Nr(rn(n),rn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function zE(n,t){const e=Ah(n,0),s=Ah(t,0);for(let a=0;a<e.length&&a<s.length;a++){const c=sl(e[a],s[a]);if(0!==c)return c}return e.length===s.length?0:e.length<s.length?-1:1}function jp(n,t){if(al(n)!==al(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function Si(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(al(n)>al(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class qE{constructor(t,e){this.errorPrefix_=e,this.parts_=Ah(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,x.ug)(this.parts_[s]);E_(this)}}function E_(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ai(n))}function Ai(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class C_ extends $E{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new C_}getInitialEvent(t){return(0,x.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Rh=1e3;let $p,cd=(()=>{class n extends HE{constructor(e,s,a,c,p,v,I,S){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=p,this.authTokenProvider_=v,this.appCheckTokenProvider_=I,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=Dh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Rh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,x.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");C_.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Bp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const c=++this.requestNumber_,p={r:c,a:e,b:s};this.log_((0,x.Pz)(p)),(0,x.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const s=new x.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:v=>{const I=v.d;"ok"===v.s?s.resolve(I):s.reject(I)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,a,c){this.initConnection_();const p=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+p),this.listens.has(v)||this.listens.set(v,new Map),(0,x.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,x.hu)(!this.listens.get(v).has(p),"listen() called twice for same path/queryId.");const I={onComplete:c,hashFn:s,query:e,tag:a};this.listens.get(v).set(p,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),c=s._queryIdentifier;this.log_("Listen on "+a+" for "+c);const p={p:a};e.tag&&(p.q=s._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,I=>{const S=I.d,F=I.s;n.warnOnListenWarnings_(S,s),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",I),"ok"!==F&&this.removeListen_(a,c),e.onComplete&&e.onComplete(F,S))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,x.r3)(e,"w")){const a=(0,x.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+s._queryParams.getIndex().toString()+'"',p=s._path.toString();yr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,x.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,x.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,c=>{const p=c.s,v=c.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,x.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,s)}sendUnlisten_(e,s,a,c){this.log_("Unlisten on "+e+" for "+s);const p={p:e};c&&(p.q=a,p.t=c),this.sendRequest("n",p)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,c){const p={p:s,d:a};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,v=>{c&&setTimeout(()=>{c(v.s,v.d)},Math.floor(0))})}put(e,s,a,c){this.putInternal("p",e,s,a,c)}merge(e,s,a,c){this.putInternal("m",e,s,a,c)}putInternal(e,s,a,c,p){this.initConnection_();const v={p:s,d:a};void 0!==p&&(v.h=p),this.outstandingPuts_.push({action:e,request:v,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,p=>{this.log_(s+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(p.s,p.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,x.Pz)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):bh("Unrecognized action received from server: "+(0,x.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,x.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Rh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Rh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Or.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+n.nextConnectionId_++,v=e.lastSessionId;let I=!1,S=null;const F=function(){S?S.close():(I=!0,c())};e.realtime_={close:F,sendRequest:function(le){(0,x.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(le)}};const K=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[le,Te]=yield Promise.all([e.authTokenProvider_.getToken(K),e.appCheckTokenProvider_.getToken(K)]);I?Hn("getToken() completed but was canceled"):(Hn("getToken() completed. Creating connection."),e.authToken_=le&&le.accessToken,e.appCheckToken_=Te&&Te.token,S=new jE(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,c,We=>{yr(We+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(le){e.log_("Failed to get token: "+le),I||(e.repoInfo_.nodeAdmin&&yr(le),F())}}})()}interrupt(e){Hn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Hn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,x.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Rh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(p=>Tp(p)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,s){const a=new qt(e).toString();let c;if(this.listens.has(a)){const p=this.listens.get(a);c=p.get(s),p.delete(s),0===p.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,s){Hn("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Hn("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,x.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Ip.replace(/\./g,"-")]=1,(0,x.uI)()?e["framework.cordova"]=1:(0,x.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Bp.getInstance().currentlyOnline();return(0,x.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Pe{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Pe(t,e)}}class Hp{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new Pe(lo,t),a=new Pe(lo,e);return 0!==this.compare(s,a)}minPost(){return Pe.MIN}}class QE extends Hp{static get __EMPTY_NODE(){return $p}static set __EMPTY_NODE(t){$p=t}compare(t,e){return sl(t.name,e.name)}isDefinedOn(t){throw(0,x.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Pe.MIN}maxPost(){return new Pe(Ji,$p)}makePost(t,e){return(0,x.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Pe(t,$p)}toString(){return".key"}}const Hr=new QE;class Gp{constructor(t,e,s,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let p=1;for(;!t.isEmpty();)if(p=e?s(t.key,e):1,a&&(p*=-1),p<0)t=this.isReverse_?t.left:t.right;else{if(0===p){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let qp,ii=(()=>{class n{constructor(e,s,a,c,p){this.key=e,this.value=s,this.color=a??n.RED,this.left=c??Nt.EMPTY_NODE,this.right=p??Nt.EMPTY_NODE}copy(e,s,a,c,p){return new n(e??this.key,s??this.value,a??this.color,c??this.left,p??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let c=this;const p=a(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,s,a),null):0===p?c.copy(null,s,null,null,null):c.copy(null,null,null,null,c.right.insert(e,s,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,c;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return Nt.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Nt{constructor(t,e=Nt.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Nt(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ii.BLACK,null,null))}remove(t){return new Nt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ii.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Gp(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Gp(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Gp(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Gp(this.root_,null,this.comparator_,!0,t)}}function Ub(n,t){return sl(n.name,t.name)}function zp(n,t){return sl(n,t)}Nt.EMPTY_NODE=new class Wp{copy(t,e,s,a,c){return this}insert(t,e,s){return new ii(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const D_=function(n){return"number"==typeof n?"number:"+gE(n):"string:"+n},b_=function(n){if(n.isLeafNode()){const t=n.val();(0,x.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,x.r3)(t,".sv"),"Priority must be a string or number.")}else(0,x.hu)(n===qp||n.isEmpty(),"priority of unexpected type.");(0,x.hu)(n===qp||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let T_,JE,XE,Vu=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,x.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),b_(this.priorityNode_)}static set __childrenNodeConstructor(e){T_=e}static get __childrenNodeConstructor(){return T_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return It(e)?this:".priority"===bt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=bt(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,x.hu)(".priority"!==a||1===al(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(rn(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+D_(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?gE(this.value_):this.value_,this.lazyHash_=o_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,x.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(s),p=n.VALUE_TYPE_ORDER.indexOf(a);return(0,x.hu)(c>=0,"Unknown leaf type: "+s),(0,x.hu)(p>=0,"Unknown leaf type: "+a),c===p?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const an=new class pI extends Hp{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),c=s.compareTo(a);return 0===c?sl(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Pe.MIN}maxPost(){return new Pe(Ji,new Vu("[PRIORITY-POST]",XE))}makePost(t,e){const s=JE(t);return new Pe(e,new Vu("[PRIORITY-POST]",s))}toString(){return".priority"}},gI=Math.log(2);class Kp{constructor(t){this.count=parseInt(Math.log(t+1)/gI,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ph=function(n,t,e,s){n.sort(t);const a=function(I,S){const F=S-I;let k,K;if(0===F)return null;if(1===F)return k=n[I],K=e?e(k):k,new ii(K,k.node,ii.BLACK,null,null);{const le=parseInt(F/2,10)+I,Te=a(I,le),We=a(le+1,S);return k=n[le],K=e?e(k):k,new ii(K,k.node,ii.BLACK,Te,We)}},v=function(I){let S=null,F=null,k=n.length;const K=function(Te,We){const ze=k-Te,Ft=k;k-=Te;const At=a(ze+1,Ft),Bt=n[ze],Dt=e?e(Bt):Bt;le(new ii(Dt,Bt.node,We,null,At))},le=function(Te){S?(S.left=Te,S=Te):(F=Te,S=Te)};for(let Te=0;Te<I.count;++Te){const We=I.nextBitIsOne(),ze=Math.pow(2,I.count-(Te+1));We?K(ze,ii.BLACK):(K(ze,ii.BLACK),K(ze,ii.RED))}return F}(new Kp(n.length));return new Nt(s||t,v)};let Zp;const Uu={};class Yo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,x.hu)(Uu&&an,"ChildrenNode.ts has not been loaded"),Zp=Zp||new Yo({".priority":Uu},{".priority":an}),Zp}get(t){const e=(0,x.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Nt?e:null}hasIndex(t){return(0,x.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,x.hu)(t!==Hr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const c=e.getIterator(Pe.Wrap);let v,p=c.getNext();for(;p;)a=a||t.isDefinedOn(p.node),s.push(p),p=c.getNext();v=a?Ph(s,t.getCompare()):Uu;const I=t.toString(),S=Object.assign({},this.indexSet_);S[I]=t;const F=Object.assign({},this.indexes_);return F[I]=v,new Yo(F,S)}addToIndexes(t,e){const s=(0,x.UI)(this.indexes_,(a,c)=>{const p=(0,x.DV)(this.indexSet_,c);if((0,x.hu)(p,"Missing index implementation for "+c),a===Uu){if(p.isDefinedOn(t.node)){const v=[],I=e.getIterator(Pe.Wrap);let S=I.getNext();for(;S;)S.name!==t.name&&v.push(S),S=I.getNext();return v.push(t),Ph(v,p.getCompare())}return Uu}{const v=e.get(t.name);let I=a;return v&&(I=I.remove(new Pe(t.name,v))),I.insert(t,t.node)}});return new Yo(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,x.UI)(this.indexes_,a=>{if(a===Uu)return a;{const c=e.get(t.name);return c?a.remove(new Pe(t.name,c)):a}});return new Yo(s,this.indexSet_)}}let Qo,ht=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&b_(this.priorityNode_),this.children_.isEmpty()&&(0,x.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qo||(Qo=new n(new Nt(zp),null,Yo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qo}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?Qo:s}}getChild(e){const s=bt(e);return null===s?this:this.getImmediateChild(s).getChild(rn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,x.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new Pe(e,s);let c,p;s.isEmpty()?(c=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,s),p=this.indexMap_.addToIndexes(a,this.children_));const v=c.isEmpty()?Qo:this.priorityNode_;return new n(c,v,p)}}updateChild(e,s){const a=bt(e);if(null===a)return s;{(0,x.hu)(".priority"!==bt(e)||1===al(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(rn(e),s);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,c=0,p=!0;if(this.forEachChild(an,(v,I)=>{s[v]=I.val(e),a++,p&&n.INTEGER_REGEXP_.test(v)?c=Math.max(c,Number(v)):p=!1}),!e&&p&&c<2*a){const v=[];for(const I in s)v[I]=s[I];return v}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+D_(this.getPriority().val())+":"),this.forEachChild(an,(s,a)=>{const c=a.hash();""!==c&&(e+=":"+s+":"+c)}),this.lazyHash_=""===e?"":o_(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const c=this.resolveIndex_(a);if(c){const p=c.getPredecessorKey(new Pe(e,s));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Pe(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Pe(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>s(c.name,c.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Pe.Wrap);let p=c.peek();for(;null!=p&&s.compare(p,e)<0;)c.getNext(),p=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Pe.Wrap);let p=c.peek();for(;null!=p&&s.compare(p,e)>0;)c.getNext(),p=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Oh?-1:0}withIndex(e){if(e===Hr||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Hr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(an),c=s.getIterator(an);let p=a.getNext(),v=c.getNext();for(;p&&v;){if(p.name!==v.name||!p.node.equals(v.node))return!1;p=a.getNext(),v=c.getNext()}return null===p&&null===v}return!1}return!1}}resolveIndex_(e){return e===Hr?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Oh=new class mI extends ht{constructor(){super(new Nt(zp),ht.EMPTY_NODE,Yo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ht.EMPTY_NODE}isEmpty(){return!1}};function En(n,t=null){if(null===n)return ht.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,x.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Vu(n,En(t));if(n instanceof Array){let e=ht.EMPTY_NODE;return ir(n,(s,a)=>{if((0,x.r3)(n,s)&&"."!==s.substring(0,1)){const c=En(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(s,c))}}),e.updatePriority(En(t))}{const e=[];let s=!1;if(ir(n,(p,v)=>{if("."!==p.substring(0,1)){const I=En(v);I.isEmpty()||(s=s||!I.getPriority().isEmpty(),e.push(new Pe(p,I)))}}),0===e.length)return ht.EMPTY_NODE;const c=Ph(e,Ub,p=>p.name,zp);if(s){const p=Ph(e,an.getCompare());return new ht(c,En(t),new Yo({".priority":p},{".priority":an}))}return new ht(c,En(t),Yo.Default)}}Object.defineProperties(Pe,{MIN:{value:new Pe(lo,ht.EMPTY_NODE)},MAX:{value:new Pe(Ji,Oh)}}),QE.__EMPTY_NODE=ht.EMPTY_NODE,Vu.__childrenNodeConstructor=ht,function hI(n){qp=n}(Oh),function Mh(n){XE=n}(Oh),function fI(n){JE=n}(En);class Yp extends Hp{constructor(t){super(),this.indexPath_=t,(0,x.hu)(!It(t)&&".priority"!==bt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),c=s.compareTo(a);return 0===c?sl(t.name,e.name):c}makePost(t,e){const s=En(t),a=ht.EMPTY_NODE.updateChild(this.indexPath_,s);return new Pe(e,a)}maxPost(){const t=ht.EMPTY_NODE.updateChild(this.indexPath_,Oh);return new Pe(Ji,t)}toString(){return Ah(this.indexPath_,0).join("/")}}const S_=new class eC extends Hp{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?sl(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Pe.MIN}maxPost(){return Pe.MAX}makePost(t,e){const s=En(t);return new Pe(e,s)}toString(){return".value"}},Bu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Bb=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Bu.charAt(e%64),e=Math.floor(e/64);(0,x.hu)(0===e,"Cannot push at time == 0");let p=c.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)p+=Bu.charAt(t[a]);return(0,x.hu)(20===p.length,"nextPushId: Length should be 20."),p}}(),vI=function(n){if(n===""+Sp)return"-";const t=Th(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let p=0;p<e.length;p++)e[p]=n.charAt(p);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return Ji;const c=Bu.charAt(Bu.indexOf(e[s])+1);return e[s]=c,e.slice(0,s+1).join("")},EI=function(n){if(n===""+u_)return lo;const t=Th(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+Sp:(delete e[e.length-1],e.join("")):(e[e.length-1]=Bu.charAt(Bu.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function R_(n){return{type:"value",snapshotNode:n}}function Jo(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Nh(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function xh(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class ju{constructor(t){this.index_=t}updateChild(t,e,s,a,c,p){(0,x.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=t.getImmediateChild(e);return v.getChild(a).equals(s.getChild(a))&&v.isEmpty()===s.isEmpty()||(null!=p&&(s.isEmpty()?t.hasChild(e)?p.trackChildChange(Nh(e,v)):(0,x.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?p.trackChildChange(Jo(e,s)):p.trackChildChange(xh(e,s,v))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(an,(a,c)=>{e.hasChild(a)||s.trackChildChange(Nh(a,c))}),e.isLeafNode()||e.forEachChild(an,(a,c)=>{if(t.hasChild(a)){const p=t.getImmediateChild(a);p.equals(c)||s.trackChildChange(xh(a,c,p))}else s.trackChildChange(Jo(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ht.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class kh{constructor(t){this.indexedFilter_=new ju(t.getIndex()),this.index_=t.getIndex(),this.startPost_=kh.getStartPost_(t),this.endPost_=kh.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,a,c,p){return this.matches(new Pe(e,s))||(s=ht.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,c,p)}updateFullNode(t,e,s){e.isLeafNode()&&(e=ht.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(ht.EMPTY_NODE);const c=this;return e.forEachChild(an,(p,v)=>{c.matches(new Pe(p,v))||(a=a.updateImmediateChild(p,ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class CI{constructor(t){this.rangedFilter_=new kh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,a,c,p){return this.rangedFilter_.matches(new Pe(e,s))||(s=ht.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,c,p):this.fullLimitUpdateChild_(t,e,s,c,p)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=ht.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=ht.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;c.hasNext()&&p<this.limit_;){const v=c.getNext();let I;if(I=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),v)<=0:this.index_.compare(v,this.rangedFilter_.getEndPost())<=0,!I)break;a=a.updateImmediateChild(v.name,v.node),p++}}else{let c,p,v,I;if(a=e.withIndex(this.index_),a=a.updatePriority(ht.EMPTY_NODE),this.reverse_){I=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();const k=this.index_.getCompare();v=(K,le)=>k(le,K)}else I=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();let S=0,F=!1;for(;I.hasNext();){const k=I.getNext();!F&&v(c,k)<=0&&(F=!0),F&&S<this.limit_&&v(k,p)<=0?S++:a=a.updateImmediateChild(k.name,ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,c){let p;if(this.reverse_){const k=this.index_.getCompare();p=(K,le)=>k(le,K)}else p=this.index_.getCompare();const v=t;(0,x.hu)(v.numChildren()===this.limit_,"");const I=new Pe(e,s),S=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),F=this.rangedFilter_.matches(I);if(v.hasChild(e)){const k=v.getImmediateChild(e);let K=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=K&&(K.name===e||v.hasChild(K.name));)K=a.getChildAfterChild(this.index_,K,this.reverse_);const le=null==K?1:p(K,I);if(F&&!s.isEmpty()&&le>=0)return c?.trackChildChange(xh(e,s,k)),v.updateImmediateChild(e,s);{c?.trackChildChange(Nh(e,k));const We=v.updateImmediateChild(e,ht.EMPTY_NODE);return null!=K&&this.rangedFilter_.matches(K)?(c?.trackChildChange(Jo(K.name,K.node)),We.updateImmediateChild(K.name,K.node)):We}}return s.isEmpty()?t:F&&p(S,I)>=0?(null!=c&&(c.trackChildChange(Nh(S.name,S.node)),c.trackChildChange(Jo(e,s))),v.updateImmediateChild(e,s).updateImmediateChild(S.name,ht.EMPTY_NODE)):t}}class Qp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=an}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ji}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,x.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===an}copy(){const t=new Qp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function M_(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Hu(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Fh(n,t){const e=n.copy();return e.index_=t,e}function iC(n){const t={};if(n.isDefault())return t;let e;return n.index_===an?e="$priority":n.index_===S_?e="$value":n.index_===Hr?e="$key":((0,x.hu)(n.index_ instanceof Yp,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,x.Pz)(e),n.startSet_&&(t.startAt=(0,x.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,x.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,x.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,x.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function P_(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==an&&(t.i=n.index_.toString()),t}class Jp extends HE{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=Dh("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,x.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const p=Jp.getListenId_(t,s),v={};this.listens_[p]=v;const I=iC(t._queryParams);this.restRequest_(c+".json",I,(S,F)=>{let k=F;if(404===S&&(k=null,S=null),null===S&&this.onDataUpdate_(c,k,!1,s),(0,x.DV)(this.listens_,p)===v){let K;K=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(K,null)}})}unlisten(t,e){const s=Jp.getListenId_(t,e);delete this.listens_[s]}get(t){const e=iC(t._queryParams),s=t._path.toString(),a=new x.BH;return this.restRequest_(s+".json",e,(c,p)=>{let v=p;404===c&&(v=null,c=null),null===c?(this.onDataUpdate_(s,v,!1,null),a.resolve(v)):a.reject(new Error(v))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,x.xO)(e);this.log_("Sending REST request for "+p);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(s&&4===v.readyState){this.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);let I=null;if(v.status>=200&&v.status<300){try{I=(0,x.cI)(v.responseText)}catch{yr("Failed to parse JSON response for "+p+": "+v.responseText)}s(null,I)}else 401!==v.status&&404!==v.status&&yr("Got unsuccessful REST response for "+p+" Status: "+v.status),s(v.status);s=null}},v.open("GET",p,!0),v.send()})}}class sC{constructor(){this.rootNode_=ht.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Xp(){return{value:null,children:new Map}}function ll(n,t,e){if(It(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=bt(t);n.children.has(s)||n.children.set(s,Xp()),ll(n.children.get(s),t=rn(t),e)}}function O_(n,t){if(It(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(an,(s,a)=>{ll(n,new qt(s),a)}),O_(n,t)}}if(n.children.size>0){const e=bt(t);return t=rn(t),n.children.has(e)&&O_(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function eg(n,t,e){null!==n.value?e(t,n.value):function oC(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{eg(a,new qt(t.toString()+"/"+s),e)})}class TI{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ir(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class AI{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new TI(t);const s=1e4+2e4*Math.random();ad(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;ir(t,(a,c)=>{c>0&&(0,x.r3)(this.statsToReport_,a)&&(e[a]=c,s=!0)}),s&&this.server_.reportStats(e),ad(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ri=(()=>{return(n=Ri||(Ri={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ri;var n})();function F_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class tg{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=Ri.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(It(this.path)){if(null!=this.affectedTree.value)return(0,x.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new qt(t));return new tg(Ut(),e,this.revert)}}return(0,x.hu)(bt(this.path)===t,"operationForChild called for unrelated child."),new tg(rn(this.path),this.affectedTree,this.revert)}}class Lh{constructor(t,e){this.source=t,this.path=e,this.type=Ri.LISTEN_COMPLETE}operationForChild(t){return It(this.path)?new Lh(this.source,Ut()):new Lh(this.source,rn(this.path))}}class $u{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=Ri.OVERWRITE}operationForChild(t){return It(this.path)?new $u(this.source,Ut(),this.snap.getImmediateChild(t)):new $u(this.source,rn(this.path),this.snap)}}class dd{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=Ri.MERGE}operationForChild(t){if(It(this.path)){const e=this.children.subtree(new qt(t));return e.isEmpty()?null:e.value?new $u(this.source,Ut(),e.value):new dd(this.source,Ut(),e)}return(0,x.hu)(bt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new dd(this.source,rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ul{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(It(t))return this.isFullyInitialized()&&!this.filtered_;const e=bt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class lC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Vh(n,t,e,s,a,c){const p=s.filter(v=>v.type===e);p.sort((v,I)=>function cC(n,t,e){if(null==t.childName||null==e.childName)throw(0,x.g5)("Should only compare child_ events.");const s=new Pe(t.childName,t.snapshotNode),a=new Pe(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,v,I)),p.forEach(v=>{const I=function RI(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,v,c);a.forEach(S=>{S.respondsTo(v.type)&&t.push(S.createEvent(I,n.query_))})})}function ng(n,t){return{eventCache:n,serverCache:t}}function Uh(n,t,e,s){return ng(new ul(t,e,s),n.serverCache)}function dC(n,t,e,s){return ng(n.eventCache,new ul(t,e,s))}function hd(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let rg;class ln{constructor(t,e=(()=>(rg||(rg=new Nt(X0)),rg))()){this.value=t,this.children=e}static fromObject(t){let e=new ln(null);return ir(t,(s,a)=>{e=e.set(new qt(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ut(),value:this.value};if(It(t))return null;{const s=bt(t),a=this.children.get(s);if(null!==a){const c=a.findRootMostMatchingPathAndValue(rn(t),e);return null!=c?{path:gn(new qt(s),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(It(t))return this;{const e=bt(t),s=this.children.get(e);return null!==s?s.subtree(rn(t)):new ln(null)}}set(t,e){if(It(t))return new ln(e,this.children);{const s=bt(t),c=(this.children.get(s)||new ln(null)).set(rn(t),e),p=this.children.insert(s,c);return new ln(this.value,p)}}remove(t){if(It(t))return this.children.isEmpty()?new ln(null):new ln(null,this.children);{const e=bt(t),s=this.children.get(e);if(s){const a=s.remove(rn(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new ln(null):new ln(this.value,c)}return this}}get(t){if(It(t))return this.value;{const e=bt(t),s=this.children.get(e);return s?s.get(rn(t)):null}}setTree(t,e){if(It(t))return e;{const s=bt(t),c=(this.children.get(s)||new ln(null)).setTree(rn(t),e);let p;return p=c.isEmpty()?this.children.remove(s):this.children.insert(s,c),new ln(this.value,p)}}fold(t){return this.fold_(Ut(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,c)=>{s[a]=c.fold_(gn(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,Ut(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(It(t))return null;{const c=bt(t),p=this.children.get(c);return p?p.findOnPath_(rn(t),gn(e,c),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ut(),e)}foreachOnPath_(t,e,s){if(It(t))return this;{this.value&&s(e,this.value);const a=bt(t),c=this.children.get(a);return c?c.foreachOnPath_(rn(t),gn(e,a),s):new ln(null)}}foreach(t){this.foreach_(Ut(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(gn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Ps{constructor(t){this.writeTree_=t}static empty(){return new Ps(new ln(null))}}function Gu(n,t,e){if(It(t))return new Ps(new ln(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let c=s.value;const p=Nr(a,t);return c=c.updateChild(p,e),new Ps(n.writeTree_.set(a,c))}{const a=new ln(e),c=n.writeTree_.setTree(t,a);return new Ps(c)}}}function V_(n,t,e){let s=n;return ir(e,(a,c)=>{s=Gu(s,gn(t,a),c)}),s}function U_(n,t){if(It(t))return Ps.empty();{const e=n.writeTree_.setTree(t,new ln(null));return new Ps(e)}}function cl(n,t){return null!=dl(n,t)}function dl(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Nr(e.path,t)):null}function hC(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(an,(s,a)=>{t.push(new Pe(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new Pe(s,a.value))}),t}function Wu(n,t){if(It(t))return n;{const e=dl(n,t);return new Ps(null!=e?new ln(e):n.writeTree_.subtree(t))}}function ig(n){return n.writeTree_.isEmpty()}function hl(n,t){return fC(Ut(),n.writeTree_,t)}function fC(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,x.hu)(null!==c.value,"Priority writes must always be leaf nodes"),s=c.value):e=fC(gn(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(gn(n,".priority"),s)),e}}function fd(n,t){return bC(t,n)}function mC(n,t){if(n.snap)return Si(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Si(gn(n.path,e),t))return!0;return!1}function yC(n){return n.visible}function vC(n,t,e){let s=Ps.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const p=c.path;let v;if(c.snap)Si(e,p)?(v=Nr(e,p),s=Gu(s,v,c.snap)):Si(p,e)&&(v=Nr(p,e),s=Gu(s,Ut(),c.snap.getChild(v)));else{if(!c.children)throw(0,x.g5)("WriteRecord should have .snap or .children");if(Si(e,p))v=Nr(e,p),s=V_(s,v,c.children);else if(Si(p,e))if(v=Nr(p,e),It(v))s=V_(s,Ut(),c.children);else{const I=(0,x.DV)(c.children,bt(v));if(I){const S=I.getChild(rn(v));s=Gu(s,Ut(),S)}}}}}return s}function EC(n,t,e,s,a){if(s||a){const c=Wu(n.visibleWrites,t);return!a&&ig(c)?e:a||null!=e||cl(c,Ut())?hl(vC(n.allWrites,function(S){return(S.visible||a)&&(!s||!~s.indexOf(S.writeId))&&(Si(S.path,t)||Si(t,S.path))},t),e||ht.EMPTY_NODE):null}{const c=dl(n.visibleWrites,t);if(null!=c)return c;{const p=Wu(n.visibleWrites,t);return ig(p)?e:null!=e||cl(p,Ut())?hl(p,e||ht.EMPTY_NODE):null}}}function sg(n,t,e,s){return EC(n.writeTree,n.treePath,t,e,s)}function IC(n,t){return function PI(n,t,e){let s=ht.EMPTY_NODE;const a=dl(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(an,(c,p)=>{s=s.updateImmediateChild(c,p)}),s;if(e){const c=Wu(n.visibleWrites,t);return e.forEachChild(an,(p,v)=>{const I=hl(Wu(c,new qt(p)),v);s=s.updateImmediateChild(p,I)}),hC(c).forEach(p=>{s=s.updateImmediateChild(p.name,p.node)}),s}return hC(Wu(n.visibleWrites,t)).forEach(p=>{s=s.updateImmediateChild(p.name,p.node)}),s}(n.writeTree,n.treePath,t)}function xI(n,t,e,s){return function OI(n,t,e,s,a){(0,x.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const c=gn(t,e);if(cl(n.visibleWrites,c))return null;{const p=Wu(n.visibleWrites,c);return ig(p)?a.getChild(e):hl(p,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function og(n,t){return function jb(n,t){return dl(n.visibleWrites,t)}(n.writeTree,gn(n.treePath,t))}function j_(n,t,e){return function CC(n,t,e,s){const a=gn(t,e),c=dl(n.visibleWrites,a);return null!=c?c:s.isCompleteForChild(e)?hl(Wu(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function DC(n,t){return bC(gn(n.treePath,t),n.writeTree)}function bC(n,t){return{treePath:n,writeTree:t}}class FI{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,x.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,x.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(s,xh(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(s,Nh(s,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(s,Jo(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,x.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,xh(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const TC=new class LI{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class H_{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new ul(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return j_(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xo(this.viewCache_),c=function kI(n,t,e,s,a,c){return function wC(n,t,e,s,a,c,p){let v;const I=Wu(n.visibleWrites,t),S=dl(I,Ut());if(null!=S)v=S;else{if(null==e)return[];v=hl(I,e)}if(v=v.withIndex(p),v.isEmpty()||v.isLeafNode())return[];{const F=[],k=p.getCompare(),K=c?v.getReverseIteratorFrom(s,p):v.getIteratorFrom(s,p);let le=K.getNext();for(;le&&F.length<a;)0!==k(le,s)&&F.push(le),le=K.getNext();return F}}(n.writeTree,n.treePath,t,e,s,a,c)}(this.writes_,a,e,1,s,t);return 0===c.length?null:c[0]}}function $_(n,t,e,s,a,c){const p=t.eventCache;if(null!=og(s,e))return t;{let v,I;if(It(e))if((0,x.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=Xo(t),k=IC(s,S instanceof ht?S:ht.EMPTY_NODE);v=n.filter.updateFullNode(t.eventCache.getNode(),k,c)}else{const S=sg(s,Xo(t));v=n.filter.updateFullNode(t.eventCache.getNode(),S,c)}else{const S=bt(e);if(".priority"===S){(0,x.hu)(1===al(e),"Can't have a priority with additional path components");const F=p.getNode();I=t.serverCache.getNode();const k=xI(s,e,F,I);v=null!=k?n.filter.updatePriority(F,k):p.getNode()}else{const F=rn(e);let k;if(p.isCompleteForChild(S)){I=t.serverCache.getNode();const K=xI(s,e,p.getNode(),I);k=null!=K?p.getNode().getImmediateChild(S).updateChild(F,K):p.getNode().getImmediateChild(S)}else k=j_(s,S,t.serverCache);v=null!=k?n.filter.updateChild(p.getNode(),S,k,F,a,c):p.getNode()}}return Uh(t,v,p.isFullyInitialized()||It(e),n.filter.filtersNodes())}}function jh(n,t,e,s,a,c,p,v){const I=t.serverCache;let S;const F=p?n.filter:n.filter.getIndexedFilter();if(It(e))S=F.updateFullNode(I.getNode(),s,null);else if(F.filtersNodes()&&!I.isFiltered()){const le=I.getNode().updateChild(e,s);S=F.updateFullNode(I.getNode(),le,null)}else{const le=bt(e);if(!I.isCompleteForPath(e)&&al(e)>1)return t;const Te=rn(e),ze=I.getNode().getImmediateChild(le).updateChild(Te,s);S=".priority"===le?F.updatePriority(I.getNode(),ze):F.updateChild(I.getNode(),le,ze,Te,TC,null)}const k=dC(t,S,I.isFullyInitialized()||It(e),F.filtersNodes());return $_(n,k,e,a,new H_(a,k,c),v)}function ag(n,t,e,s,a,c,p){const v=t.eventCache;let I,S;const F=new H_(a,t,c);if(It(e))S=n.filter.updateFullNode(t.eventCache.getNode(),s,p),I=Uh(t,S,!0,n.filter.filtersNodes());else{const k=bt(e);if(".priority"===k)S=n.filter.updatePriority(t.eventCache.getNode(),s),I=Uh(t,S,v.isFullyInitialized(),v.isFiltered());else{const K=rn(e),le=v.getNode().getImmediateChild(k);let Te;if(It(K))Te=s;else{const We=F.getCompleteChild(k);Te=null!=We?".priority"===y_(K)&&We.getChild(v_(K)).isEmpty()?We:We.updateChild(K,s):ht.EMPTY_NODE}I=le.equals(Te)?t:Uh(t,n.filter.updateChild(v.getNode(),k,Te,K,F,p),v.isFullyInitialized(),n.filter.filtersNodes())}}return I}function G_(n,t){return n.eventCache.isCompleteForChild(t)}function AC(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function W_(n,t,e,s,a,c,p,v){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,I=t;S=It(e)?s:new ln(null).setTree(e,s);const F=t.serverCache.getNode();return S.children.inorderTraversal((k,K)=>{if(F.hasChild(k)){const Te=AC(0,t.serverCache.getNode().getImmediateChild(k),K);I=jh(n,I,new qt(k),Te,a,c,p,v)}}),S.children.inorderTraversal((k,K)=>{const le=!t.serverCache.isCompleteForChild(k)&&null===K.value;if(!F.hasChild(k)&&!le){const We=AC(0,t.serverCache.getNode().getImmediateChild(k),K);I=jh(n,I,new qt(k),We,a,c,p,v)}}),I}class $I{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new ju(s.getIndex()),c=function wI(n){return n.loadsAllData()?new ju(n.getIndex()):n.hasLimit()?new CI(n):new kh(n)}(s);this.processor_=function VI(n){return{filter:n}}(c);const p=e.serverCache,v=e.eventCache,I=a.updateFullNode(ht.EMPTY_NODE,p.getNode(),null),S=c.updateFullNode(ht.EMPTY_NODE,v.getNode(),null),F=new ul(I,p.isFullyInitialized(),a.filtersNodes()),k=new ul(S,v.isFullyInitialized(),c.filtersNodes());this.viewCache_=ng(k,F),this.eventGenerator_=new lC(this.query_)}get query(){return this.query_}}function Hh(n,t){const e=Xo(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!It(t)&&!e.getImmediateChild(bt(t)).isEmpty())?e.getChild(t):null}function RC(n){return 0===n.eventRegistrations_.length}function Os(n,t,e){const s=[];if(e){(0,x.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const p=c.createCancelEvent(e,a);p&&s.push(p)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const p=n.eventRegistrations_[c];if(p.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(p)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function MC(n,t,e,s){t.type===Ri.MERGE&&null!==t.source.queryId&&((0,x.hu)(Xo(n.viewCache_),"We should always have a full cache before handling merges"),(0,x.hu)(hd(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function BI(n,t,e,s,a){const c=new FI;let p,v;if(e.type===Ri.OVERWRITE){const S=e;S.source.fromUser?p=ag(n,t,S.path,S.snap,s,a,c):((0,x.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered()&&!It(S.path),p=jh(n,t,S.path,S.snap,s,a,v,c))}else if(e.type===Ri.MERGE){const S=e;S.source.fromUser?p=function SC(n,t,e,s,a,c,p){let v=t;return s.foreach((I,S)=>{const F=gn(e,I);G_(t,bt(F))&&(v=ag(n,v,F,S,a,c,p))}),s.foreach((I,S)=>{const F=gn(e,I);G_(t,bt(F))||(v=ag(n,v,F,S,a,c,p))}),v}(n,t,S.path,S.children,s,a,c):((0,x.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered(),p=W_(n,t,S.path,S.children,s,a,v,c))}else if(e.type===Ri.ACK_USER_WRITE){const S=e;p=S.revert?function HI(n,t,e,s,a,c){let p;if(null!=og(s,e))return t;{const v=new H_(s,t,a),I=t.eventCache.getNode();let S;if(It(e)||".priority"===bt(e)){let F;if(t.serverCache.isFullyInitialized())F=sg(s,Xo(t));else{const k=t.serverCache.getNode();(0,x.hu)(k instanceof ht,"serverChildren would be complete if leaf node"),F=IC(s,k)}S=n.filter.updateFullNode(I,F,c)}else{const F=bt(e);let k=j_(s,F,t.serverCache);null==k&&t.serverCache.isCompleteForChild(F)&&(k=I.getImmediateChild(F)),S=null!=k?n.filter.updateChild(I,F,k,rn(e),v,c):t.eventCache.getNode().hasChild(F)?n.filter.updateChild(I,F,ht.EMPTY_NODE,rn(e),v,c):I,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(p=sg(s,Xo(t)),p.isLeafNode()&&(S=n.filter.updateFullNode(S,p,c)))}return p=t.serverCache.isFullyInitialized()||null!=og(s,Ut()),Uh(t,S,p,n.filter.filtersNodes())}}(n,t,S.path,s,a,c):function Hb(n,t,e,s,a,c,p){if(null!=og(a,e))return t;const v=t.serverCache.isFiltered(),I=t.serverCache;if(null!=s.value){if(It(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return jh(n,t,e,I.getNode().getChild(e),a,c,v,p);if(It(e)){let S=new ln(null);return I.getNode().forEachChild(Hr,(F,k)=>{S=S.set(new qt(F),k)}),W_(n,t,e,S,a,c,v,p)}return t}{let S=new ln(null);return s.foreach((F,k)=>{const K=gn(e,F);I.isCompleteForPath(K)&&(S=S.set(F,I.getNode().getChild(K)))}),W_(n,t,e,S,a,c,v,p)}}(n,t,S.path,S.affectedTree,s,a,c)}else{if(e.type!==Ri.LISTEN_COMPLETE)throw(0,x.g5)("Unknown operation type: "+e.type);p=function jI(n,t,e,s,a){const c=t.serverCache;return $_(n,dC(t,c.getNode(),c.isFullyInitialized()||It(e),c.isFiltered()),e,s,TC,a)}(n,t,e.path,s,c)}const I=c.getChanges();return function Bh(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),c=hd(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(c)||!s.getNode().getPriority().equals(c.getPriority()))&&e.push(R_(hd(t)))}}(t,p,I),{viewCache:p,changes:I}}(n.processor_,a,t,e,s);return function UI(n,t){(0,x.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,x.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,x.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,pd(n,c.changes,c.viewCache.eventCache.getNode(),null)}function pd(n,t,e,s){return function uC(n,t,e,s){const a=[],c=[];return t.forEach(p=>{"child_changed"===p.type&&n.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&c.push(function nC(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(p.childName,p.snapshotNode))}),Vh(n,a,"child_removed",t,s,e),Vh(n,a,"child_added",t,s,e),Vh(n,a,"child_moved",c,s,e),Vh(n,a,"child_changed",t,s,e),Vh(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let lg,md;class PC{constructor(){this.views=new Map}}function K_(n,t,e,s){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,x.hu)(null!=c,"SyncTree gave us an op for an invalid query."),MC(c,t,e,s)}{let c=[];for(const p of n.views.values())c=c.concat(MC(p,t,e,s));return c}}function OC(n,t,e,s,a){const p=n.views.get(t._queryIdentifier);if(!p){let v=sg(e,a?s:null),I=!1;v?I=!0:s instanceof ht?(v=IC(e,s),I=!1):(v=ht.EMPTY_NODE,I=!1);const S=ng(new ul(v,I,!1),new ul(s,a,!1));return new $I(t,S)}return p}function dg(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ea(n,t){let e=null;for(const s of n.views.values())e=e||Hh(s,t);return e}function kC(n,t){return t._queryParams.loadsAllData()?gd(n):n.views.get(t._queryIdentifier)}function FC(n,t){return null!=kC(n,t)}function zu(n){return null!=gd(n)}function gd(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Y_=1;class VC{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ln(null),this.pendingWriteTree_=function NI(){return{visibleWrites:Ps.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Q_(n,t,e,s,a){return function MI(n,t,e,s,a){(0,x.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=Gu(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?qu(n,new $u({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function fl(n,t,e=!1){const s=function B_(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function gC(n,t){const e=n.allWrites.findIndex(v=>v.writeId===t);(0,x.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,c=!1,p=n.allWrites.length-1;for(;a&&p>=0;){const v=n.allWrites[p];v.visible&&(p>=e&&mC(v,s.path)?a=!1:Si(s.path,v.path)&&(c=!0)),p--}return!!a&&(c?(function _C(n){n.visibleWrites=vC(n.allWrites,yC,Ut()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=U_(n.visibleWrites,s.path):ir(s.children,I=>{n.visibleWrites=U_(n.visibleWrites,gn(s.path,I))}),!0))}(n.pendingWriteTree_,t)){let c=new ln(null);return null!=s.snap?c=c.set(Ut(),!0):ir(s.children,p=>{c=c.set(new qt(p),!0)}),qu(n,new tg(s.path,c,e))}return[]}function _d(n,t,e){return qu(n,new $u({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function $h(n,t,e,s,a=!1){const c=t._path,p=n.syncPointTree_.get(c);let v=[];if(p&&("default"===t._queryIdentifier||FC(p,t))){const I=function xC(n,t,e,s){const a=t._queryIdentifier,c=[];let p=[];const v=zu(n);if("default"===a)for(const[I,S]of n.views.entries())p=p.concat(Os(S,e,s)),RC(S)&&(n.views.delete(I),S.query._queryParams.loadsAllData()||c.push(S.query));else{const I=n.views.get(a);I&&(p=p.concat(Os(I,e,s)),RC(I)&&(n.views.delete(a),I.query._queryParams.loadsAllData()||c.push(I.query)))}return v&&!zu(n)&&c.push(new(function ug(){return(0,x.hu)(lg,"Reference.ts has not been loaded"),lg}())(t._repo,t._path)),{removed:c,events:p}}(p,t,e,s);(function cg(n){return 0===n.views.size})(p)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const S=I.removed;if(v=I.events,!a){const F=-1!==S.findIndex(K=>K._queryParams.loadsAllData()),k=n.syncPointTree_.findOnPath(c,(K,le)=>zu(le));if(F&&!k){const K=n.syncPointTree_.subtree(c);if(!K.isEmpty()){const le=function $C(n){return n.fold((t,e,s)=>{if(e&&zu(e))return[gd(e)];{let a=[];return e&&(a=dg(e)),ir(s,(c,p)=>{a=a.concat(p)}),a}})}(K);for(let Te=0;Te<le.length;++Te){const We=le[Te],ze=We.query,Ft=Ku(n,We);n.listenProvider_.startListening(ta(ze),Wh(n,ze),Ft.hashFn,Ft.onComplete)}}}!k&&S.length>0&&!s&&(F?n.listenProvider_.stopListening(ta(t),null):S.forEach(K=>{const le=n.queryToTagMap.get(fg(K));n.listenProvider_.stopListening(ta(K),le)}))}!function QI(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=fg(s),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,S)}return v}function X_(n,t,e,s){const a=jC(n,s);if(null!=a){const c=HC(a),p=c.path,v=c.queryId,I=Nr(p,t);return pg(n,p,new $u(F_(v),I,e))}return[]}function hg(n,t,e,s=!1){const a=t._path;let c=null,p=!1;n.syncPointTree_.foreachOnPath(a,(K,le)=>{const Te=Nr(K,a);c=c||ea(le,Te),p=p||zu(le)});let I,v=n.syncPointTree_.get(a);v?(p=p||zu(v),c=c||ea(v,Ut())):(v=new PC,n.syncPointTree_=n.syncPointTree_.set(a,v)),null!=c?I=!0:(I=!1,c=ht.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((le,Te)=>{const We=ea(Te,Ut());We&&(c=c.updateImmediateChild(le,We))}));const S=FC(v,t);if(!S&&!t._queryParams.loadsAllData()){const K=fg(t);(0,x.hu)(!n.queryToTagMap.has(K),"View does not exist, but we have a tag");const le=function ey(){return Y_++}();n.queryToTagMap.set(K,le),n.tagToQueryMap.set(le,K)}let k=function NC(n,t,e,s,a,c){const p=OC(n,t,s,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,p),function z_(n,t){n.eventRegistrations_.push(t)}(p,e),function q_(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(an,(c,p)=>{s.push(Jo(c,p))}),e.isFullyInitialized()&&s.push(R_(e.getNode())),pd(n,s,e.getNode(),t)}(p,e)}(v,t,e,fd(n.pendingWriteTree_,a),c,I);if(!S&&!p&&!s){const K=kC(v,t);k=k.concat(function JI(n,t,e){const s=t._path,a=Wh(n,t),c=Ku(n,e),p=n.listenProvider_.startListening(ta(t),a,c.hashFn,c.onComplete),v=n.syncPointTree_.subtree(s);if(a)(0,x.hu)(!zu(v.value),"If we're adding a query, it shouldn't be shadowed");else{const I=v.fold((S,F,k)=>{if(!It(S)&&F&&zu(F))return[gd(F).query];{let K=[];return F&&(K=K.concat(dg(F).map(le=>le.query))),ir(k,(le,Te)=>{K=K.concat(Te)}),K}});for(let S=0;S<I.length;++S){const F=I[S];n.listenProvider_.stopListening(ta(F),Wh(n,F))}}return p}(n,t,K))}return k}function Gh(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(p,v)=>{const S=ea(v,Nr(p,t));if(S)return S});return EC(a,t,c,e,!0)}function qu(n,t){return BC(t,n.syncPointTree_,null,fd(n.pendingWriteTree_,Ut()))}function BC(n,t,e,s){if(It(n.path))return xr(n,t,e,s);{const a=t.get(Ut());null==e&&null!=a&&(e=ea(a,Ut()));let c=[];const p=bt(n.path),v=n.operationForChild(p),I=t.children.get(p);if(I&&v){const S=e?e.getImmediateChild(p):null,F=DC(s,p);c=c.concat(BC(v,I,S,F))}return a&&(c=c.concat(K_(a,n,s,e))),c}}function xr(n,t,e,s){const a=t.get(Ut());null==e&&null!=a&&(e=ea(a,Ut()));let c=[];return t.children.inorderTraversal((p,v)=>{const I=e?e.getImmediateChild(p):null,S=DC(s,p),F=n.operationForChild(p);F&&(c=c.concat(xr(F,v,I,S)))}),a&&(c=c.concat(K_(a,n,s,e))),c}function Ku(n,t){const e=t.query,s=Wh(n,e);return{hashFn:()=>(function GI(n){return n.viewCache_.serverCache.getNode()}(t)||ht.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function KI(n,t,e){const s=jC(n,e);if(s){const a=HC(s),c=a.path,p=a.queryId,v=Nr(c,t);return pg(n,c,new Lh(F_(p),v))}return[]}(n,e._path,s):function UC(n,t){return qu(n,new Lh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function mE(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return $h(n,e,null,c)}}}}function Wh(n,t){const e=fg(t);return n.queryToTagMap.get(e)}function fg(n){return n._path.toString()+"$"+n._queryIdentifier}function jC(n,t){return n.tagToQueryMap.get(t)}function HC(n){const t=n.indexOf("$");return(0,x.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new qt(n.substr(0,t))}}function pg(n,t,e){const s=n.syncPointTree_.get(t);return(0,x.hu)(s,"Missing sync point for query tag that we're tracking"),K_(s,e,fd(n.pendingWriteTree_,t),null)}function ta(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Z_(){return(0,x.hu)(md,"Reference.ts has not been loaded"),md}())(n._repo,n._path):n}class gg{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new gg(e)}node(){return this.node_}}class ty{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=gn(this.path_,t);return new ty(this.syncTree_,e)}node(){return Gh(this.syncTree_,this.path_)}}const GC=function(n,t,e){return n&&"object"==typeof n?((0,x.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ny(n[".sv"],t,e):"object"==typeof n[".sv"]?WC(n[".sv"],t):void(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ny=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,x.hu)(!1,"Unexpected server value: "+n)},WC=function(n,t,e){n.hasOwnProperty("increment")||(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,x.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,x.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const p=a.getValue();return"number"!=typeof p?s:p+s},ry=function(n,t,e,s){return zh(t,new ty(e,n),s)},yd=function(n,t,e){return zh(n,new gg(t),e)};function zh(n,t,e){const s=n.getPriority().val(),a=GC(s,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const p=n,v=GC(p.getValue(),t,e);return v!==p.getValue()||a!==p.getPriority().val()?new Vu(v,En(a)):n}{const p=n;return c=p,a!==p.getPriority().val()&&(c=c.updatePriority(new Vu(a))),p.forEachChild(an,(v,I)=>{const S=zh(I,t.getImmediateChild(v),e);S!==I&&(c=c.updateImmediateChild(v,S))}),c}}class zC{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function qh(n,t){let e=t instanceof qt?t:new qt(t),s=n,a=bt(e);for(;null!==a;){const c=(0,x.DV)(s.node.children,a)||{children:{},childCount:0};s=new zC(a,s,c),e=rn(e),a=bt(e)}return s}function Zu(n){return n.node.value}function mg(n,t){n.node.value=t,qC(n)}function Yu(n){return n.node.childCount>0}function Kh(n,t){ir(n.node.children,(e,s)=>{t(new zC(e,n,s))})}function _g(n,t,e,s){e&&!s&&t(n),Kh(n,a=>{_g(a,t,!0,s)}),e&&s&&t(n)}function Zh(n){return new qt(null===n.parent?n.name:Zh(n.parent)+"/"+n.name)}function qC(n){null!==n.parent&&function tD(n,t,e){const s=function eD(n){return void 0===Zu(n)&&!Yu(n)}(e),a=(0,x.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,qC(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,qC(n))}(n.parent,n.name,n)}const nD=/[\[\].#$\/\u0000-\u001F\u007F]/,rD=/[\[\].#$\u0000-\u001F\u007F]/,yg=10485760,Yh=function(n){return"string"==typeof n&&0!==n.length&&!nD.test(n)},KC=function(n){return"string"==typeof n&&0!==n.length&&!rD.test(n)},vd=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!sd(n)||n&&"object"==typeof n&&(0,x.r3)(n,".sv")},co=function(n,t,e,s){s&&void 0===t||Qh((0,x.gK)(n,"value"),t,e)},Qh=function(n,t,e){const s=e instanceof qt?new qE(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Ai(s));if("function"==typeof t)throw new Error(n+"contains a function "+Ai(s)+" with contents = "+t.toString());if(sd(t))throw new Error(n+"contains "+t.toString()+" "+Ai(s));if("string"==typeof t&&t.length>yg/3&&(0,x.ug)(t)>yg)throw new Error(n+"contains a string greater than "+yg+" utf8 bytes "+Ai(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(ir(t,(p,v)=>{if(".value"===p)a=!0;else if(".priority"!==p&&".sv"!==p&&(c=!0,!Yh(p)))throw new Error(n+" contains an invalid key ("+p+") "+Ai(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function KE(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,x.ug)(t),E_(n)})(s,p),Qh(n,v,s),function ZE(n){const t=n.parts_.pop();n.byteLength_-=(0,x.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&c)throw new Error(n+' contains ".value" child '+Ai(s)+" in addition to actual children.")}},QC=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,x.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];ir(t,(p,v)=>{const I=new qt(p);if(Qh(a,v,gn(e,I)),".priority"===y_(I)&&!vd(v))throw new Error(a+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(I)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const c=Ah(s);for(let p=0;p<c.length;p++)if((".priority"!==c[p]||p!==c.length-1)&&!Yh(c[p]))throw new Error(n+"contains an invalid key ("+c[p]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(zE);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&Si(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,c)},vg=function(n,t,e){if(!e||void 0!==t){if(sd(t))throw new Error((0,x.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vd(t))throw new Error((0,x.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ed=function(n,t,e,s){if(!(s&&void 0===e||Yh(e)))throw new Error((0,x.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Cd=function(n,t,e,s){if(!(s&&void 0===e||KC(e)))throw new Error((0,x.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ts=function(n,t){if(".info"===bt(t))throw new Error(n+" failed = Can't modify data under /.info/")},XC=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Yh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),KC(n)}(e))throw new Error((0,x.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Gb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jh(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],c=a.getPath();null!==e&&!jp(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function iD(n,t,e){Jh(n,e),sD(n,s=>jp(s,t))}function ns(n,t,e){Jh(n,e),sD(n,s=>Si(s,t)||Si(t,s))}function sD(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?(Wb(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Wb(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();ku&&Hn("event: "+e.toString()),Fu(s)}}}const oD="repo_interrupt";class qb{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xp(),this.transactionQueueTree_=new zC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xh(n){const e=n.infoData_.getNode(new qt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Eg(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Xh(n)})}function iy(n,t,e,s,a){n.dataUpdateCount++;const c=new qt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let p=[];if(a)if(s){const I=(0,x.UI)(e,S=>En(S));p=function ZI(n,t,e,s){const a=jC(n,s);if(a){const c=HC(a),p=c.path,v=c.queryId,I=Nr(p,t),S=ln.fromObject(e);return pg(n,p,new dd(F_(v),I,S))}return[]}(n.serverSyncTree_,c,I,a)}else{const I=En(e);p=X_(n.serverSyncTree_,c,I,a)}else if(s){const I=(0,x.UI)(e,S=>En(S));p=function J_(n,t,e){const s=ln.fromObject(e);return qu(n,new dd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,c,I)}else{const I=En(e);p=_d(n.serverSyncTree_,c,I)}let v=c;p.length>0&&(v=Qu(n,c)),ns(n.eventQueue_,v,p)}function ef(n,t){Cg(n,"connected",t),!1===t&&function tw(n){tf(n,"onDisconnectEvents");const t=Eg(n),e=Xp();eg(n.onDisconnect_,Ut(),(a,c)=>{const p=ry(a,c,n.serverSyncTree_,t);ll(e,a,p)});let s=[];eg(e,Ut(),(a,c)=>{s=s.concat(_d(n.serverSyncTree_,a,c));const p=cy(n,a);Qu(n,p)}),n.onDisconnect_=Xp(),ns(n.eventQueue_,Ut(),s)}(n)}function Cg(n,t,e){const s=new qt("/.info/"+t),a=En(e);n.infoData_.updateSnapshot(s,a);const c=_d(n.infoSyncTree_,s,a);ns(n.eventQueue_,s,c)}function sy(n){return n.nextWriteId_++}function wg(n,t,e,s,a){tf(n,"set",{path:t.toString(),value:e,priority:s});const c=Eg(n),p=En(e,s),v=Gh(n.serverSyncTree_,t),I=yd(p,v,c),S=sy(n),F=Q_(n.serverSyncTree_,t,I,S,!0);Jh(n.eventQueue_,F),n.server_.put(t.toString(),p.val(!0),(K,le)=>{const Te="ok"===K;Te||yr("set at "+t+" failed: "+K);const We=fl(n.serverSyncTree_,S,!Te);ns(n.eventQueue_,t,We),pl(0,a,K,le)});const k=cy(n,t);Qu(n,k),ns(n.eventQueue_,k,[])}function Zb(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&O_(n.onDisconnect_,t),pl(0,e,s,a)})}function lD(n,t,e,s){const a=En(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(c,p)=>{"ok"===c&&ll(n.onDisconnect_,t,a),pl(0,s,c,p)})}function ay(n,t,e){let s;s=".info"===bt(t._path)?$h(n.infoSyncTree_,t,e):$h(n.serverSyncTree_,t,e),iD(n.eventQueue_,t._path,s)}function dD(n){n.persistentConnection_&&n.persistentConnection_.interrupt(oD)}function tf(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Hn(e,...t)}function pl(n,t,e,s){t&&Fu(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;s&&(c+=": "+s);const p=new Error(c);p.code=a,t(p)}})}function ly(n,t,e){return Gh(n.serverSyncTree_,t,e)||ht.EMPTY_NODE}function uy(n,t=n.transactionQueueTree_){if(t||wd(n,t),Zu(t)){const e=rs(n,t);(0,x.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function fD(n,t,e){const s=e.map(S=>S.currentWriteId),a=ly(n,t,s);let c=a;const p=a.hash();for(let S=0;S<e.length;S++){const F=e[S];(0,x.hu)(0===F.status,"tryToSendTransactionQueue_: items in queue should all be run."),F.status=1,F.retryCount++;const k=Nr(t,F.path);c=c.updateChild(k,F.currentOutputSnapshotRaw)}const v=c.val(!0),I=t;n.server_.put(I.toString(),v,S=>{tf(n,"transaction put response",{path:I.toString(),status:S});let F=[];if("ok"===S){const k=[];for(let K=0;K<e.length;K++)e[K].status=2,F=F.concat(fl(n.serverSyncTree_,e[K].currentWriteId)),e[K].onComplete&&k.push(()=>e[K].onComplete(null,!0,e[K].currentOutputSnapshotResolved)),e[K].unwatcher();wd(n,qh(n.transactionQueueTree_,t)),uy(n,n.transactionQueueTree_),ns(n.eventQueue_,t,F);for(let K=0;K<k.length;K++)Fu(k[K])}else{if("datastale"===S)for(let k=0;k<e.length;k++)e[k].status=3===e[k].status?4:0;else{yr("transaction at "+I.toString()+" failed: "+S);for(let k=0;k<e.length;k++)e[k].status=4,e[k].abortReason=S}Qu(n,t)}},p)}(n,Zh(t),e)}else Yu(t)&&Kh(t,e=>{uy(n,e)})}function Qu(n,t){const e=pD(n,t),s=Zh(e);return function nw(n,t,e){if(0===t.length)return;const s=[];let a=[];const p=t.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<t.length;v++){const I=t[v],S=Nr(e,I.path);let k,F=!1;if((0,x.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)F=!0,k=I.abortReason,a=a.concat(fl(n.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)F=!0,k="maxretry",a=a.concat(fl(n.serverSyncTree_,I.currentWriteId,!0));else{const K=ly(n,I.path,p);I.currentInputSnapshot=K;const le=t[v].update(K.val());if(void 0!==le){Qh("transaction failed: Data returned ",le,I.path);let Te=En(le);"object"==typeof le&&null!=le&&(0,x.r3)(le,".priority")||(Te=Te.updatePriority(K.getPriority()));const ze=I.currentWriteId,Ft=Eg(n),At=yd(Te,K,Ft);I.currentOutputSnapshotRaw=Te,I.currentOutputSnapshotResolved=At,I.currentWriteId=sy(n),p.splice(p.indexOf(ze),1),a=a.concat(Q_(n.serverSyncTree_,I.path,At,I.currentWriteId,I.applyLocally)),a=a.concat(fl(n.serverSyncTree_,ze,!0))}else F=!0,k="nodata",a=a.concat(fl(n.serverSyncTree_,I.currentWriteId,!0))}ns(n.eventQueue_,e,a),a=[],F&&(t[v].status=2,setTimeout(t[v].unwatcher,Math.floor(0)),t[v].onComplete&&s.push("nodata"===k?()=>t[v].onComplete(null,!1,t[v].currentInputSnapshot):()=>t[v].onComplete(new Error(k),!1,null)))}wd(n,n.transactionQueueTree_);for(let v=0;v<s.length;v++)Fu(s[v]);uy(n,n.transactionQueueTree_)}(n,rs(n,e),s),s}function pD(n,t){let e,s=n.transactionQueueTree_;for(e=bt(t);null!==e&&void 0===Zu(s);)s=qh(s,e),e=bt(t=rn(t));return s}function rs(n,t){const e=[];return rw(n,t,e),e.sort((s,a)=>s.order-a.order),e}function rw(n,t,e){const s=Zu(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);Kh(t,a=>{rw(n,a,e)})}function wd(n,t){const e=Zu(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,mg(t,e.length>0?e:void 0)}Kh(t,s=>{wd(n,s)})}function cy(n,t){const e=Zh(pD(n,t)),s=qh(n.transactionQueueTree_,t);return function $b(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{si(n,a)}),si(n,s),_g(s,a=>{si(n,a)}),e}function si(n,t){const e=Zu(t);if(e){const s=[];let a=[],c=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,x.hu)(c===p-1,"All SENT items should be at beginning of queue."),c=p,e[p].status=3,e[p].abortReason="set"):((0,x.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),a=a.concat(fl(n.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&s.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===c?mg(t,void 0):e.length=c+1,ns(n.eventQueue_,Zh(t),a);for(let p=0;p<s.length;p++)Fu(s[p])}}const hy=function(n,t){const e=mD(n),s=e.namespace;return"firebase.com"===e.domain&&Qi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&Qi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Pp(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new qt(e.pathString)}},mD=function(n){let t="",e="",s="",a="",c="",p=!0,v="https",I=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(v=n.substring(0,S-1),n=n.substring(S+2));let F=n.indexOf("/");-1===F&&(F=n.length);let k=n.indexOf("?");-1===k&&(k=n.length),t=n.substring(0,Math.min(F,k)),F<k&&(a=function gD(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(F,k)));const K=function dy(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):yr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,k)));S=t.indexOf(":"),S>=0?(p="https"===v||"wss"===v,I=parseInt(t.substring(S+1),10)):S=t.length;const le=t.slice(0,S);if("localhost"===le.toLowerCase())e="localhost";else if(le.split(".").length<=2)e=le;else{const Te=t.indexOf(".");s=t.substring(0,Te).toLowerCase(),e=t.substring(Te+1),c=s}"ns"in K&&(c=K.ns)}return{host:t,port:I,domain:e,subdomain:s,secure:p,scheme:v,pathString:a,namespace:c}};class Dg{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,x.Pz)(this.snapshot.exportVal())}}class fy{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class bg{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,x.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class iw{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new x.BH;return Zb(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ts("OnDisconnect.remove",this._path);const t=new x.BH;return lD(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ts("OnDisconnect.set",this._path),co("OnDisconnect.set",t,this._path,!1);const e=new x.BH;return lD(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ts("OnDisconnect.setWithPriority",this._path),co("OnDisconnect.setWithPriority",t,this._path,!1),vg("OnDisconnect.setWithPriority",e,!1);const s=new x.BH;return function uD(n,t,e,s,a){const c=En(e,s);n.server_.onDisconnectPut(t.toString(),c.val(!0),(p,v)=>{"ok"===p&&ll(n.onDisconnect_,t,c),pl(0,a,p,v)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){ts("OnDisconnect.update",this._path),QC("OnDisconnect.update",t,this._path,!1);const e=new x.BH;return function cD(n,t,e,s){if((0,x.xb)(e))return Hn("onDisconnect().update() called with empty data.  Don't do anything."),void pl(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,c)=>{"ok"===a&&ir(e,(p,v)=>{const I=En(v);ll(n.onDisconnect_,gn(t,p),I)}),pl(0,s,a,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class $r{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return It(this._path)?null:y_(this._path)}get ref(){return new is(this._repo,this._path)}get _queryIdentifier(){const t=P_(this._queryParams),e=Tp(t);return"{}"===e?"default":e}get _queryObject(){return P_(this._queryParams)}isEqual(t){if(!((t=(0,x.m9)(t))instanceof $r))return!1;const e=this._repo===t._repo,s=jp(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function cI(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function nf(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function gl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Hr){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==lo)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Ji)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===an){if(null!=t&&!vd(t)||null!=e&&!vd(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,x.hu)(n.getIndex()instanceof Yp||n.getIndex()===S_,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rf(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class is extends $r{constructor(t,e){super(t,e,new Qp,!1)}get parent(){const t=v_(this._path);return null===t?null:new is(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class na{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new qt(t),s=ia(this.ref,t);return new na(this._node.getChild(e),s,an)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new na(a,ia(this.ref,s),an)))}hasChild(t){const e=new qt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ra(n,t){return(n=(0,x.m9)(n))._checkNotDeleted("ref"),void 0!==t?ia(n._root,t):n._root}function py(n,t){(n=(0,x.m9)(n))._checkNotDeleted("refFromURL");const e=hy(t,n._repo.repoInfo_.nodeAdmin);XC("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&Qi("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),ra(n,e.path.toString())}function ia(n,t){return null===bt((n=(0,x.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Cd("child","path",e,!1)):Cd("child","path",t,!1),new is(n._repo,gn(n._path,t));var e}function gy(n,t){n=(0,x.m9)(n),ts("set",n._path),co("set",t,n._path,!1);const e=new x.BH;return wg(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function ED(n,t){QC("update",t,n._path,!1);const e=new x.BH;return function aD(n,t,e,s){tf(n,"update",{path:t.toString(),value:e});let a=!0;const c=Eg(n),p={};if(ir(e,(v,I)=>{a=!1,p[v]=ry(gn(t,v),En(I),n.serverSyncTree_,c)}),a)Hn("update() called with empty data.  Don't do anything."),pl(0,s,"ok",void 0);else{const v=sy(n),I=function qI(n,t,e,s){!function pC(n,t,e,s){(0,x.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=V_(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=ln.fromObject(e);return qu(n,new dd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,p,v);Jh(n.eventQueue_,I),n.server_.merge(t.toString(),e,(S,F)=>{const k="ok"===S;k||yr("update at "+t+" failed: "+S);const K=fl(n.serverSyncTree_,v,!k),le=K.length>0?Qu(n,t):t;ns(n.eventQueue_,le,K),pl(0,s,S,F)}),ir(e,S=>{const F=cy(n,gn(t,S));Qu(n,F)}),ns(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function sw(n){n=(0,x.m9)(n);const t=new bg(()=>{}),e=new Tg(t);return function oy(n,t,e){const s=function YI(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(S,F)=>{const k=Nr(S,e);s=s||ea(F,k)});let a=n.syncPointTree_.get(e);a?s=s||ea(a,Ut()):(a=new PC,n.syncPointTree_=n.syncPointTree_.set(e,a));const c=null!=s,p=c?new ul(s,!0,!1):null;return function WI(n){return hd(n.viewCache_)}(OC(a,t,fd(n.pendingWriteTree_,t._path),c?p.getNode():ht.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=s?Promise.resolve(s):n.server_.get(t).then(a=>{const c=En(a).withIndex(t._queryParams.getIndex());let p;if(hg(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())p=_d(n.serverSyncTree_,t._path,c);else{const v=Wh(n.serverSyncTree_,t);p=X_(n.serverSyncTree_,t._path,c,v)}return ns(n.eventQueue_,t._path,p),$h(n.serverSyncTree_,t,e,null,!0),c},a=>(tf(n,"get for query "+(0,x.Pz)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(s=>new na(s,new is(n._repo,n._path),n._queryParams.getIndex()))}class Tg{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new Dg("value",this,new na(t.snapshotNode,new is(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new fy(this,t,e):null}matches(t){return t instanceof Tg&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class sf{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new fy(this,t,e):null}createEvent(t,e){(0,x.hu)(null!=t.childName,"Child events should have a childName.");const s=ia(new is(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new Dg(t.type,this,new na(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof sf&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function af(n,t,e,s,a){let c;if("object"==typeof s&&(c=void 0,a=s),"function"==typeof s&&(c=s),a&&a.onlyOnce){const I=e,S=(F,k)=>{ay(n._repo,n,v),I(F,k)};S.userCallback=e.userCallback,S.context=e.context,e=S}const p=new bg(e,c||void 0),v="value"===t?new Tg(p):new sf(t,p);return function Ig(n,t,e){let s;s=".info"===bt(t._path)?hg(n.infoSyncTree_,t,e):hg(n.serverSyncTree_,t,e),iD(n.eventQueue_,t._path,s)}(n._repo,n,v),()=>ay(n._repo,n,v)}function Sg(n,t,e,s){return af(n,"value",t,e,s)}function CD(n,t,e,s){return af(n,"child_added",t,e,s)}function Ag(n,t,e,s){return af(n,"child_changed",t,e,s)}function my(n,t,e,s){return af(n,"child_moved",t,e,s)}function _y(n,t,e,s){return af(n,"child_removed",t,e,s)}function yy(n,t,e){let s=null;const a=e?new bg(e):null;"value"===t?s=new Tg(a):t&&(s=new sf(t,a)),ay(n._repo,n,s)}class ss{}class vy extends ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){co("endAt",this._value,t._path,!0);const e=Hu(t._queryParams,this._value,this._key);if(rf(e),gl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class Mg extends ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){co("endBefore",this._value,t._path,!1);const e=function bI(n,t,e){let s,a;return n.index_===Hr?("string"==typeof t&&(t=EI(t)),a=Hu(n,t,e)):(s=null==e?lo:EI(e),a=Hu(n,t,s)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(rf(e),gl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class aw extends ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){co("startAt",this._value,t._path,!0);const e=M_(t._queryParams,this._value,this._key);if(rf(e),gl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class uw extends ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){co("startAfter",this._value,t._path,!1);const e=function DI(n,t,e){let s;if(n.index_===Hr)"string"==typeof t&&(t=vI(t)),s=M_(n,t,e);else{let a;a=null==e?Ji:vI(e),s=M_(n,t,a)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(rf(e),gl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class ID extends ss{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $r(t._repo,t._path,function II(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Xb extends ss{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $r(t._repo,t._path,function rC(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class DD extends ss{constructor(t){super(),this._path=t}_apply(t){nf(t,"orderByChild");const e=new qt(this._path);if(It(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Yp(e),a=Fh(t._queryParams,s);return gl(a),new $r(t._repo,t._path,a,!0)}}class TD extends ss{_apply(t){nf(t,"orderByKey");const e=Fh(t._queryParams,Hr);return gl(e),new $r(t._repo,t._path,e,!0)}}class tT extends ss{_apply(t){nf(t,"orderByPriority");const e=Fh(t._queryParams,an);return gl(e),new $r(t._repo,t._path,e,!0)}}class rT extends ss{_apply(t){nf(t,"orderByValue");const e=Fh(t._queryParams,S_);return gl(e),new $r(t._repo,t._path,e,!0)}}class SD extends ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(co("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new vy(this._value,this._key)._apply(new aw(this._value,this._key)._apply(t))}}function Ns(n,...t){let e=(0,x.m9)(n);for(const s of t)e=s._apply(e);return e}(function zI(n){(0,x.hu)(!lg,"__referenceConstructor has already been defined"),lg=n})(is),function LC(n){(0,x.hu)(!md,"__referenceConstructor has already been defined"),md=n}(is);const Og={};function Ng(n,t,e,s,a){let c=s||n.options.databaseURL;void 0===c&&(n.options.projectId||Qi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Hn("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let I,S,p=hy(c,a),v=p.repoInfo;typeof process<"u"&&process.env&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(I=!0,c=`http://${S}?ns=${v.namespace}`,p=hy(c,a),v=p.repoInfo):I=!p.repoInfo.secure;const F=a&&I?new Ap(Ap.OWNER):new vE(n.name,n.options,t);XC("Invalid Firebase Database URL",p),It(p.path)||Qi("Database URL must point to the root of a Firebase Database (not including a child path).");const k=function RD(n,t,e,s){let a=Og[t.name];a||(a={},Og[t.name]=a);let c=a[n.toURLString()];return c&&Qi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new qb(n,false,e,s),a[n.toURLString()]=c,c}(v,n,F,new yE(n.name,e));return new wy(k,n)}class wy{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Kb(n,t,e){if(n.stats_=Np(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Jp(n.repoInfo_,(s,a,c,p)=>{iy(n,s,a,c,p)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>ef(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,x.Pz)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new cd(n.repoInfo_,t,(s,a,c,p)=>{iy(n,s,a,c,p)},s=>{ef(n,s)},s=>{!function ew(n,t){ir(t,(e,s)=>{Cg(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function Lb(n,t){const e=n.toString();return f_[e]||(f_[e]=t()),f_[e]}(n.repoInfo_,()=>new AI(n.stats_,n.server_)),n.infoData_=new sC,n.infoSyncTree_=new VC({startListening:(s,a,c,p)=>{let v=[];const I=n.infoData_.getNode(s._path);return I.isEmpty()||(v=_d(n.infoSyncTree_,s._path,I),setTimeout(()=>{p("ok")},0)),v},stopListening:()=>{}}),Cg(n,"connected",!1),n.serverSyncTree_=new VC({startListening:(s,a,c,p)=>(n.server_.listen(s,c,a,(v,I)=>{const S=p(v,I);ns(n.eventQueue_,s._path,S)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new is(this._repo,Ut())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ey(n,t){const e=Og[t];(!e||e[n.key]!==n)&&Qi(`Database ${t}(${n.repoInfo_}) has already been deleted.`),dD(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Qi("Cannot call "+t+" on a deleted database.")}}function lf(){OE.IS_TRANSPORT_INITIALIZED&&yr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function sT(){lf(),ol.forceDisallow()}function oT(){lf(),Lu.forceDisallow(),ol.forceAllow()}function PD(n,t){bp(n,t)}const ND={".sv":"timestamp"};class gw{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}cd.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},cd.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function OD(n){i_(Yi.SDK_VERSION),(0,Yi._registerComponent)(new ri.wA("database",(t,{instanceIdentifier:e})=>Ng(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Yi.registerVersion)(n_,"0.13.6",n),(0,Yi.registerVersion)(n_,"0.13.6","esm2017")}();const mw=new Ih.Yd("@firebase/database-compat"),xg=function(n){mw.warn("FIREBASE WARNING: "+n)};class cT{constructor(t){this._delegate=t}cancel(t){(0,x.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,x.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,x.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,x.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,x.Dv)("OnDisconnect.set",1,2,arguments.length),(0,x.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,x.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,x.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),c=>s(c)),a}update(t,e){if((0,x.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,xg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,x.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class dT{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,x.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class yl{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,x.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,x.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,x.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,x.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,x.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Cd("DataSnapshot.child","path",t,!1),new yl(this._database,this._delegate.child(t))}hasChild(t){return(0,x.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Cd("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,x.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,x.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,x.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new yl(this._database,e)))}hasChildren(){return(0,x.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,x.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,x.Dv)("DataSnapshot.ref",0,0,arguments.length),new Mi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class vr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var c;(0,x.Dv)("Query.on",2,4,arguments.length),(0,x.Wj)("Query.on","callback",e,!1);const p=vr.getCancelAndContextArgs_("Query.on",s,a),v=(S,F)=>{e.call(p.context,new yl(this.database,S),F)};v.userCallback=e,v.context=p.context;const I=null===(c=p.cancel)||void 0===c?void 0:c.bind(p.context);switch(t){case"value":return Sg(this._delegate,v,I),e;case"child_added":return CD(this._delegate,v,I),e;case"child_removed":return _y(this._delegate,v,I),e;case"child_changed":return Ag(this._delegate,v,I),e;case"child_moved":return my(this._delegate,v,I),e;default:throw new Error((0,x.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,x.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,x.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,x.Wj)("Query.off","callback",e,!0),(0,x.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,yy(this._delegate,t,a)}else yy(this._delegate,t)}get(){return sw(this._delegate).then(t=>new yl(this.database,t))}once(t,e,s,a){(0,x.Dv)("Query.once",1,4,arguments.length),(0,x.Wj)("Query.once","callback",e,!0);const c=vr.getCancelAndContextArgs_("Query.once",s,a),p=new x.BH,v=(S,F)=>{const k=new yl(this.database,S);e&&e.call(c.context,k,F),p.resolve(k)};v.userCallback=e,v.context=c.context;const I=S=>{c.cancel&&c.cancel.call(c.context,S),p.reject(S)};switch(t){case"value":Sg(this._delegate,v,I,{onlyOnce:!0});break;case"child_added":CD(this._delegate,v,I,{onlyOnce:!0});break;case"child_removed":_y(this._delegate,v,I,{onlyOnce:!0});break;case"child_changed":Ag(this._delegate,v,I,{onlyOnce:!0});break;case"child_moved":my(this._delegate,v,I,{onlyOnce:!0});break;default:throw new Error((0,x.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(t){return(0,x.Dv)("Query.limitToFirst",1,1,arguments.length),new vr(this.database,Ns(this._delegate,function Jb(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ID(n)}(t)))}limitToLast(t){return(0,x.Dv)("Query.limitToLast",1,1,arguments.length),new vr(this.database,Ns(this._delegate,function cw(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Xb(n)}(t)))}orderByChild(t){return(0,x.Dv)("Query.orderByChild",1,1,arguments.length),new vr(this.database,Ns(this._delegate,function bD(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Cd("orderByChild","path",n,!1),new DD(n)}(t)))}orderByKey(){return(0,x.Dv)("Query.orderByKey",0,0,arguments.length),new vr(this.database,Ns(this._delegate,function eT(){return new TD}()))}orderByPriority(){return(0,x.Dv)("Query.orderByPriority",0,0,arguments.length),new vr(this.database,Ns(this._delegate,function nT(){return new tT}()))}orderByValue(){return(0,x.Dv)("Query.orderByValue",0,0,arguments.length),new vr(this.database,Ns(this._delegate,function iT(){return new rT}()))}startAt(t=null,e){return(0,x.Dv)("Query.startAt",0,2,arguments.length),new vr(this.database,Ns(this._delegate,function lw(n=null,t){return Ed("startAt","key",t,!0),new aw(n,t)}(t,e)))}startAfter(t=null,e){return(0,x.Dv)("Query.startAfter",0,2,arguments.length),new vr(this.database,Ns(this._delegate,function wD(n,t){return Ed("startAfter","key",t,!0),new uw(n,t)}(t,e)))}endAt(t=null,e){return(0,x.Dv)("Query.endAt",0,2,arguments.length),new vr(this.database,Ns(this._delegate,function Rg(n,t){return Ed("endAt","key",t,!0),new vy(n,t)}(t,e)))}endBefore(t=null,e){return(0,x.Dv)("Query.endBefore",0,2,arguments.length),new vr(this.database,Ns(this._delegate,function ow(n,t){return Ed("endBefore","key",t,!0),new Mg(n,t)}(t,e)))}equalTo(t,e){return(0,x.Dv)("Query.equalTo",1,2,arguments.length),new vr(this.database,Ns(this._delegate,function Pg(n,t){return Ed("equalTo","key",t,!0),new SD(n,t)}(t,e)))}toString(){return(0,x.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,x.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,x.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof vr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,x.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,x.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,x.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Mi(this.database,new is(this._delegate._repo,this._delegate._path))}}class Mi extends vr{constructor(t,e){super(t,new $r(e._repo,e._path,new Qp,!1)),this.database=t,this._delegate=e}getKey(){return(0,x.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,x.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Mi(this.database,ia(this._delegate,t))}getParent(){(0,x.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Mi(this.database,t):null}getRoot(){return(0,x.Dv)("Reference.root",0,0,arguments.length),new Mi(this.database,this._delegate.root)}set(t,e){(0,x.Dv)("Reference.set",1,2,arguments.length),(0,x.Wj)("Reference.set","onComplete",e,!0);const s=gy(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,x.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,xg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ts("Reference.update",this._delegate._path),(0,x.Wj)("Reference.update","onComplete",e,!0);const s=ED(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,x.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,x.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function vD(n,t,e){if(ts("setWithPriority",n._path),co("setWithPriority",t,n._path,!1),vg("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new x.BH;return wg(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),c=>s(c)),a}remove(t){(0,x.Dv)("Reference.remove",0,1,arguments.length),(0,x.Wj)("Reference.remove","onComplete",t,!0);const e=function Qb(n){return ts("remove",n._path),gy(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,x.Dv)("Reference.transaction",1,3,arguments.length),(0,x.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,x.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,x.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function xD(n,t,e){var s;if(n=(0,x.m9)(n),ts("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=e?.applyLocally)||void 0===s||s,c=new x.BH,v=Sg(n,()=>{});return function hD(n,t,e,s,a,c){tf(n,"transaction on "+t);const p={path:t,update:e,onComplete:s,status:null,order:fE(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=ly(n,t,void 0);p.currentInputSnapshot=v;const I=p.update(v.val());if(void 0===I)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{Qh("transaction failed: Data returned ",I,p.path),p.status=0;const S=qh(n.transactionQueueTree_,t),F=Zu(S)||[];let k;F.push(p),mg(S,F),"object"==typeof I&&null!==I&&(0,x.r3)(I,".priority")?(k=(0,x.DV)(I,".priority"),(0,x.hu)(vd(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(Gh(n.serverSyncTree_,t)||ht.EMPTY_NODE).getPriority().val();const K=Eg(n),le=En(I,k),Te=yd(le,v,K);p.currentOutputSnapshotRaw=le,p.currentOutputSnapshotResolved=Te,p.currentWriteId=sy(n);const We=Q_(n.serverSyncTree_,t,Te,p.currentWriteId,p.applyLocally);ns(n.eventQueue_,t,We),uy(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(I,S,F)=>{let k=null;I?c.reject(I):(k=new na(F,new is(n._repo,n._path),an),c.resolve(new gw(S,k)))},v,a),c.promise}(this._delegate,t,{applyLocally:s}).then(c=>new dT(c.committed,new yl(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(t,e){(0,x.Dv)("Reference.setPriority",1,2,arguments.length),(0,x.Wj)("Reference.setPriority","onComplete",e,!0);const s=function yD(n,t){n=(0,x.m9)(n),ts("setPriority",n._path),vg("setPriority",t,!1);const e=new x.BH;return wg(n._repo,gn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,x.Dv)("Reference.push",0,2,arguments.length),(0,x.Wj)("Reference.push","onComplete",e,!0);const s=function _D(n,t){n=(0,x.m9)(n),ts("push",n._path),co("push",t,n._path,!0);const e=Xh(n._repo),s=Bb(e),a=ia(n,s),c=ia(n,s);let p;return p=null!=t?gy(c,t).then(()=>c):Promise.resolve(c),a.then=p.then.bind(p),a.catch=p.then.bind(p,void 0),a}(this._delegate,t),a=s.then(p=>new Mi(this.database,p));e&&a.then(()=>e(null),p=>e(p));const c=new Mi(this.database,s);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return ts("Reference.onDisconnect",this._delegate._path),new cT(new iw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class kg{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:sT,forceLongPolling:oT}}useEmulator(t,e,s={}){!function aT(n,t,e,s={}){(n=(0,x.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Qi("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let c;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&Qi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Ap(Ap.OWNER);else if(s.mockUserToken){const p="string"==typeof s.mockUserToken?s.mockUserToken:(0,x.Sg)(s.mockUserToken,n.app.options.projectId);c=new Ap(p)}!function dw(n,t,e,s){n.repoInfo_=new Pp(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(a,t,e,c)}(this._delegate,t,e,s)}ref(t){if((0,x.Dv)("database.ref",0,1,arguments.length),t instanceof Mi){const e=py(this._delegate,t.toString());return new Mi(this,e)}{const e=ra(this._delegate,t);return new Mi(this,e)}}refFromURL(t){(0,x.Dv)("database.refFromURL",1,1,arguments.length);const s=py(this._delegate,t);return new Mi(this,s)}goOffline(){return(0,x.Dv)("database.goOffline",0,0,arguments.length),function hw(n){(n=(0,x.m9)(n))._checkNotDeleted("goOffline"),dD(n._repo)}(this._delegate)}goOnline(){return(0,x.Dv)("database.goOnline",0,0,arguments.length),function MD(n){(n=(0,x.m9)(n))._checkNotDeleted("goOnline"),function Yb(n){n.persistentConnection_&&n.persistentConnection_.resume(oD)}(n._repo)}(this._delegate)}}kg.ServerValue={TIMESTAMP:function fw(){return ND}(),increment:n=>function pw(n){return{".sv":{increment:n}}}(n)};var fT=Object.freeze({__proto__:null,initStandalone:function hT({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:c=!1}){i_(e);const p=new ri.zt("auth-internal",new ri.H0("database-standalone"));return p.setComponent(new ri.wA("auth-internal",()=>s,"PRIVATE")),{instance:new kg(Ng(n,p,void 0,t,c),n),namespace:a}}});const pT=kg.ServerValue;!function gT(n){n.INTERNAL.registerComponent(new ri.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new kg(a,s)},"PUBLIC").setServiceProps({Reference:Mi,Query:vr,Database:kg,DataSnapshot:yl,enableLogging:PD,INTERNAL:fT,ServerValue:pT}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.6")}(Ou.Z);var Fg=O(5363),mT=O(6063);class _T extends ro.x{constructor(t=1/0,e=1/0,s=mT.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:p}=this;e||(s.push(t),!a&&s.push(c.now()+p)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:a}=this,c=a.slice();for(let p=0;p<c.length&&!t.closed;p+=s?1:2)t.next(c[p]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:a}=this,c=(a?1:2)*t;if(t<1/0&&c<s.length&&s.splice(0,s.length-c),!a){const p=e.now();let v=0;for(let I=1;I<s.length&&s[I]<=p;I+=2)v=I;v&&s.splice(0,v+1)}}}function VD(n,t,e){let s,a=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):s=n??1/0,(0,Ti.B)({connector:()=>new _T(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function UD(n,t){return(0,Xd.m)(t)?Ot(()=>n,t):Ot(()=>n)}var _w=O(9468);O(5867);const qe=new Map,ot={activated:!1,tokenObservers:[]},De={initialized:!1,enabled:!1};function Ge(n){return qe.get(n)||ot}function yt(n,t){qe.set(n,t)}function sn(){return De}class Ay{constructor(t,e,s,a,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Or.Z)(function*(){e.stop();try{e.pending=new x.BH,yield function Ry(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new x.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Er=new x.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yT(n){if(!Ge(n).activated)throw Er.create("use-before-activation",{appName:n.name})}function HD(n,t){return $D.apply(this,arguments)}function $D(){return($D=(0,Or.Z)(function*({url:n,body:t},e){var s,a;const c={"Content-Type":"application/json"},p=e.getImmediate({optional:!0});if(p){const le=yield p.getHeartbeatsHeader();le&&(c["X-Firebase-Client"]=le)}const v={method:"POST",body:JSON.stringify(t),headers:c};let I,S;try{I=yield fetch(n,v)}catch(le){throw Er.create("fetch-network-error",{originalErrorMessage:null===(s=le)||void 0===s?void 0:s.message})}if(200!==I.status)throw Er.create("fetch-status-error",{httpStatus:I.status});try{S=yield I.json()}catch(le){throw Er.create("fetch-parse-error",{originalErrorMessage:null===(a=le)||void 0===a?void 0:a.message})}const F=S.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw Er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${S.ttl}`});const k=1e3*Number(F[1]),K=Date.now();return{token:S.token,expireTimeMillis:K+k,issuedAtTimeMillis:K}})).apply(this,arguments)}function GS(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Py="firebase-app-check-store";let Ew=null;function ET(){return Ew||(Ew=new Promise((n,t)=>{var e;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{n(a.target.result)},s.onerror=a=>{var c;t(Er.create("storage-open",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Py,{keyPath:"compositeKey"})}}catch(s){t(Er.create("storage-open",{originalErrorMessage:null===(e=s)||void 0===e?void 0:e.message}))}}),Ew)}function GD(){return(GD=(0,Or.Z)(function*(n,t){const s=(yield ET()).transaction(Py,"readwrite"),c=s.objectStore(Py).put({compositeKey:n,value:t});return new Promise((p,v)=>{c.onsuccess=I=>{p()},s.onerror=I=>{var S;v(Er.create("storage-set",{originalErrorMessage:null===(S=I.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Oy=new Ih.Yd("@firebase/app-check");function DT(n,t){return(0,x.hl)()?function KS(n,t){return function CT(n,t){return GD.apply(this,arguments)}(function IT(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Oy.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function bT(){return sn().enabled}function TT(){return KD.apply(this,arguments)}function KD(){return(KD=(0,Or.Z)(function*(){const n=sn();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const eA={error:"UNKNOWN_ERROR"};function tA(n){return x.US.encodeString(JSON.stringify(n),!1)}function Cw(n){return ZD.apply(this,arguments)}function ZD(){return(ZD=(0,Or.Z)(function*(n,t=!1){const e=n.app;yT(e);const s=Ge(e);let c,a=s.token;if(!a){const I=yield s.cachedTokenPromise;I&&ww(I)&&(a=I)}if(!t&&a&&ww(a))return{token:a.token};let v,p=!1;if(bT()){s.exchangeTokenPromise||(s.exchangeTokenPromise=HD(GS(e,yield TT()),n.heartbeatServiceProvider).then(S=>(s.exchangeTokenPromise=void 0,S)),p=!0);const I=yield s.exchangeTokenPromise;return yield DT(e,I),yt(e,Object.assign(Object.assign({},s),{token:I})),{token:I.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(I=>(s.exchangeTokenPromise=void 0,I)),p=!0),a=yield s.exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?Oy.warn(I.message):Oy.error(I),c=I}return a?(v={token:a.token},yt(e,Object.assign(Object.assign({},s),{token:a})),yield DT(e,a)):v=rA(c),p&&AT(e,v),v})).apply(this,arguments)}function QD(n,t){const e=Ge(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),yt(n,Object.assign(Object.assign({},e),{tokenObservers:s}))}function ST(n){const{app:t}=n,e=Ge(t);let s=e.tokenRefresher;s||(s=function nA(n){const{app:t}=n;return new Ay((0,Or.Z)(function*(){let s;if(s=Ge(t).token?yield Cw(n,!0):yield Cw(n),s.error)throw s.error}),()=>!0,()=>{const e=Ge(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),yt(t,Object.assign(Object.assign({},e),{tokenRefresher:s}))),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function AT(n,t){const e=Ge(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch{}}function ww(n){return n.expireTimeMillis-Date.now()>0}function rA(n){return{token:tA(eA),error:n}}class iA{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ge(this.app);for(const e of t)QD(this.app,e.next);return Promise.resolve()}}const FT="app-check-internal";!function yA(){(0,Yi._registerComponent)(new ri.wA("app-check",n=>function sA(n,t){return new iA(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(FT).initialize()})),(0,Yi._registerComponent)(new ri.wA(FT,n=>function oA(n){return{getToken:t=>Cw(n,t),addTokenListener:t=>function YD(n,t,e,s){const{app:a}=n,c=Ge(a),p={next:e,error:s,type:t};if(yt(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,p]})),c.token&&ww(c.token)){const v=c.token;Promise.resolve().then(()=>{e({token:v.token}),ST(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>ST(n))}(n,"INTERNAL",t),removeTokenListener:t=>QD(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yi.registerVersion)("@firebase/app-check","0.5.12")}();class Dw{constructor(){return(0,Sn.vb)("app-check")}}typeof window<"u"&&window;var VT=O(127);const UT=new g.OlP("angularfire2.auth.use-emulator"),BT=new g.OlP("angularfire2.auth.settings"),jT=new g.OlP("angularfire2.auth.tenant-id"),HT=new g.OlP("angularfire2.auth.langugage-code"),$T=new g.OlP("angularfire2.auth.use-device-language"),GT=new g.OlP("angularfire.auth.persistence"),WT=(n,t,e,s,a,c,p,v)=>(0,zt.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=t.runOutsideAngular(()=>n.auth());if(e&&I.useEmulator(...e),s&&(I.tenantId=s),I.languageCode=a,c&&I.useDeviceLanguage(),p)for(const[S,F]of Object.entries(p))I.settings[S]=F;return v&&I.setPersistence(v),I},[e,s,a,c,p,v]);let zT=(()=>{class n{constructor(e,s,a,c,p,v,I,S,F,k,K,le){const Te=new ro.x,We=Xe(void 0).pipe((0,Fg.Q)(p.outsideAngular),Ot(()=>c.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2476)))),(0,ct.U)(()=>(0,zt.on)(e,c,s)),(0,ct.U)(ze=>WT(ze,c,v,S,F,k,I,K)),VD({bufferSize:1,refCount:!1}));if(function qn(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{We.pipe($o()).subscribe();const Ft=We.pipe(Ot(Dt=>Dt.getRedirectResult().then(Cr=>Cr,()=>null)),Sn.iC,VD({bufferSize:1,refCount:!1})),At=We.pipe(Ot(Dt=>new Kn.y(Cr=>({unsubscribe:c.runOutsideAngular(()=>Dt.onAuthStateChanged(os=>Cr.next(os),os=>Cr.error(os),()=>Cr.complete()))})))),Bt=We.pipe(Ot(Dt=>new Kn.y(Cr=>({unsubscribe:c.runOutsideAngular(()=>Dt.onIdTokenChanged(os=>Cr.next(os),os=>Cr.error(os),()=>Cr.complete()))}))));this.authState=Ft.pipe(UD(At),(0,_w.R)(p.outsideAngular),(0,Fg.Q)(p.insideAngular)),this.user=Ft.pipe(UD(Bt),(0,_w.R)(p.outsideAngular),(0,Fg.Q)(p.insideAngular)),this.idToken=this.user.pipe(Ot(Dt=>Dt?(0,$t.D)(Dt.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(Ot(Dt=>Dt?(0,$t.D)(Dt.getIdTokenResult()):Xe(null))),this.credential=(0,Xc.T)(Ft,Te,this.authState.pipe(Ts(Dt=>!Dt))).pipe((0,ct.U)(Dt=>Dt?.user?Dt:null),(0,_w.R)(p.outsideAngular),(0,Fg.Q)(p.insideAngular))}return(0,zt.pX)(this,We,c,{spy:{apply:(ze,Ft,At)=>{(ze.startsWith("signIn")||ze.startsWith("createUser"))&&At.then(Bt=>Te.next(Bt))}}})}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(zt.Dh),g.LFG(zt.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Sn.HU),g.LFG(UT,8),g.LFG(BT,8),g.LFG(jT,8),g.LFG(HT,8),g.LFG($T,8),g.LFG(GT,8),g.LFG(Dw,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function qT(n){return null==n}function KT(n){return"function"==typeof n.set}function ZT(n,t){return KT(t)?t:n.ref(t)}function YT(n,t){if(function DA(n){return"string"==typeof n}(n))return t.stringCase();if(KT(n))return t.firebaseCase();if(function bA(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Ny(n,t,e="on",s=il.z){return new Kn.y(a=>{let c=null;return c=n[e](t,(p,v)=>{s.schedule(()=>{a.next({snapshot:p,prevKey:v})}),"once"===e&&s.schedule(()=>a.complete())},p=>{s.schedule(()=>a.error(p))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,ct.U)(a=>{const{snapshot:c,prevKey:p}=a;let v=null;return c.exists()&&(v=c.key),{type:t,payload:c,prevKey:p,key:v}}),(0,Ti.B)())}function QT(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function AA(n,t){const{payload:e,prevKey:s,key:a}=t,c=QT(n,a),p=function SA(n,t){if(qT(t))return 0;{const e=QT(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let v=null;t.payload.forEach(I=>{const S={payload:I,type:"value",prevKey:v,key:I.key};return v=I.key,n=[...n,S],!1})}return n;case"child_added":if(c>-1){const v=n[c-1];(v&&v.key||null)!==s&&(n=n.filter(I=>I.payload.key!==e.key)).splice(p,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(p,0,t)}return n;case"child_removed":return n.filter(v=>v.payload.key!==e.key);case"child_changed":return n.map(v=>v.payload.key===a?t:v);case"child_moved":if(c>-1){const v=n.splice(c,1)[0];return(n=n.slice()).splice(p,0,v),n}return n;default:return n}}function JT(n){return(qT(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function XT(n,t,e){return function TA(n,t,e){return Ny(n,"value","once",e).pipe(Ot(s=>{const a=[Xe(s)];return t.forEach(c=>a.push(Ny(n,c,"on",e))),(0,Xc.T)(...a).pipe(th(AA,[]))}),function t_(n,t=qa.y){return n=n??ed,(0,rr.e)((e,s)=>{let a,c=!0;e.subscribe((0,On.x)(s,p=>{const v=t(p);(c||!n(a,v))&&(c=!1,a=v,s.next(p))}))})}())}(n,t=JT(t),e)}function eS(n,t,e){const s=(t=JT(t)).map(a=>Ny(n,a,"on",e));return(0,Xc.T)(...s)}function tS(n,t){return function(s,a){return YT(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function OA(n){return function(e){return e?YT(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function nS(n,t){return function(){return Ny(n,"value","on",t)}}const kA=new g.OlP("angularfire2.realtimeDatabaseURL"),FA=new g.OlP("angularfire2.database.use-emulator");let LA=(()=>{class n{constructor(e,s,a,c,p,v,I,S,F,k,K,le,Te,We,ze){this.schedulers=v;const Ft=I,At=(0,zt.on)(e,p,s);S&&WT(At,p,F,K,le,Te,k,We),this.database=(0,zt.cc)(`${At.name}.database.${a}`,"AngularFireDatabase",At.name,()=>{const Bt=p.runOutsideAngular(()=>At.database(a||void 0));return Ft&&Bt.useEmulator(...Ft),Bt},[Ft])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>ZT(this.database,e));let c=a;return s&&(c=s(a)),function NA(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:tS(s,"update"),set:tS(s,"set"),push:a=>s.push(a),remove:OA(s),snapshotChanges:a=>XT(n,a,e).pipe(Sn.iC),stateChanges:a=>eS(n,a,e).pipe(Sn.iC),auditTrail:a=>function RA(n,t,e){return function PA(n,t,e){return function MA(n,t){return Ny(n,"value","on",t).pipe((0,ct.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function nd(...n){const t=(0,Yr.jO)(n);return(0,rr.e)((e,s)=>{const a=n.length,c=new Array(a);let p=n.map(()=>!1),v=!1;for(let I=0;I<a;I++)(0,Ar.Xf)(n[I]).subscribe((0,On.x)(s,S=>{c[I]=S,!v&&!p[I]&&(p[I]=!0,(v=p.every(qa.y))&&(p=null))},td.Z));e.subscribe((0,On.x)(s,I=>{if(v){const S=[I,...c];s.next(t?t(...S):S)}}))})}(t),(0,ct.U)(([a,c])=>{const p=a.lastKeyToLoad,v=c.map(I=>I.key);return{actions:c,lastKeyToLoad:p,loadedKeys:v}}),function rd(n){return(0,rr.e)((t,e)=>{let s=!1,a=0;t.subscribe((0,On.x)(e,c=>(s||(s=!n(c,a++)))&&e.next(c)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,ct.U)(a=>a.actions))}(n,eS(n,t).pipe(th((a,c)=>[...a,c],[])),e)}(n,a,e).pipe(Sn.iC),valueChanges:(a,c)=>XT(n,a,e).pipe((0,ct.U)(v=>v.map(I=>c&&c.idField?Object.assign(Object.assign({},I.payload.val()),{[c.idField]:I.key}):I.payload.val())),Sn.iC)}}(c,this)}object(e){return function xA(n,t){return{query:n,snapshotChanges:()=>nS(n,t.schedulers.outsideAngular)().pipe(Sn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>nS(n,t.schedulers.outsideAngular)().pipe(Sn.iC,(0,ct.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ZT(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(zt.Dh),g.LFG(zt.xv,8),g.LFG(kA,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Sn.HU),g.LFG(FA,8),g.LFG(zT,8),g.LFG(UT,8),g.LFG(BT,8),g.LFG(jT,8),g.LFG(HT,8),g.LFG($T,8),g.LFG(GT,8),g.LFG(Dw,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VA=(()=>{class n{constructor(){VT.Z.registerVersion("angularfire",Sn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[LA]}),n})();const rS_firebaseConfig={apiKey:"AIzaSyAPM33tEAC_REDx_YEMulQCPc6Nd56mSpg",authDomain:"pplabo4szellner.firebaseapp.com",projectId:"pplabo4szellner",storageBucket:"pplabo4szellner.appspot.com",messagingSenderId:"654547458807",appId:"1:654547458807:web:6200a2a9716ebf8559d1f2"},iS="firebasestorage.googleapis.com",sS="storageBucket";class Gn extends x.ZR{constructor(t,e){super(nb(t),`Firebase Storage: ${e} (${nb(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gn.prototype)}_codeEquals(t){return nb(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function nb(n){return"storage/"+n}function rb(){return new Gn("unknown","An unknown error occurred, please check the error payload for server response.")}function oS(){return new Gn("canceled","User canceled the upload/download.")}function aS(){return new Gn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Vg(n){return new Gn("invalid-argument",n)}function lS(){return new Gn("app-deleted","The Firebase app was deleted.")}function uS(n){return new Gn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xy(n,t){return new Gn("invalid-format","String does not match format '"+n+"': "+t)}function ky(n){throw new Gn("internal-error","Internal error: "+n)}class oi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let s;try{s=oi.makeFromUrl(t,e)}catch{return new oi(t,"")}if(""===s.path)return s;throw function ZA(n){return new Gn("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let s=null;const a="([A-Za-z0-9.\\-_]+)",v=new RegExp("^gs://"+a+"(/(.*))?$","i");function S(Dt){Dt.path_=decodeURIComponent(Dt.path)}const k=e.replace(/[.]/g,"\\."),Bt=[{regex:v,indices:{bucket:1,path:3},postModify:function c(Dt){"/"===Dt.path.charAt(Dt.path.length-1)&&(Dt.path_=Dt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${k}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp(`^https?://${e===iS?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:S}];for(let Dt=0;Dt<Bt.length;Dt++){const Cr=Bt[Dt],os=Cr.regex.exec(t);if(os){let Vy=os[Cr.indices.path];Vy||(Vy=""),s=new oi(os[Cr.indices.bucket],Vy),Cr.postModify(s);break}}if(null==s)throw function KA(n){return new Gn("invalid-url","Invalid URL '"+n+"'.")}(t);return s}}class XA{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function bw(n){return"string"==typeof n||n instanceof String}function cS(n){return ib()&&n instanceof Blob}function ib(){return typeof Blob<"u"}function sb(n,t,e,s){if(s<t)throw Vg(`Invalid value for '${n}'. Expected ${t} or greater.`);if(s>e)throw Vg(`Invalid value for '${n}'. Expected ${e} or less.`)}function Ju(n,t,e){let s=t;return null==e&&(s=`https://${t}`),`${e}://${s}/v0${n}`}function dS(n){const t=encodeURIComponent;let e="?";for(const s in n)n.hasOwnProperty(s)&&(e=e+(t(s)+"=")+t(n[s])+"&");return e=e.slice(0,-1),e}var Id=(()=>{return(n=Id||(Id={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Id;var n})();class sR{constructor(t,e,s,a,c,p,v,I,S,F,k){this.url_=t,this.method_=e,this.headers_=s,this.body_=a,this.successCodes_=c,this.additionalRetryCodes_=p,this.callback_=v,this.errorCallback_=I,this.timeout_=S,this.progressCallback_=F,this.connectionFactory_=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,le)=>{this.resolve_=K,this.reject_=le,this.start_()})}start_(){const e=(s,a)=>{const c=this.resolve_,p=this.reject_,v=a.connection;if(a.wasSuccessCode)try{const I=this.callback_(v,v.getResponse());!function nR(n){return void 0!==n}(I)?c():c(I)}catch(I){p(I)}else if(null!==v){const I=rb();I.serverResponse=v.getErrorText(),p(this.errorCallback_?this.errorCallback_(v,I):I)}else p(a.canceled?this.appDelete_?lS():oS():function qA(){return new Gn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new Tw(!1,null,!0)):this.backoffId_=function eR(n,t,e){let s=1,a=null,c=null,p=!1,v=0;function I(){return 2===v}let S=!1;function F(...ze){S||(S=!0,t.apply(null,ze))}function k(ze){a=setTimeout(()=>{a=null,n(le,I())},ze)}function K(){c&&clearTimeout(c)}function le(ze,...Ft){if(S)return void K();if(ze)return K(),void F.call(null,ze,...Ft);if(I()||p)return K(),void F.call(null,ze,...Ft);let Bt;s<64&&(s*=2),1===v?(v=2,Bt=0):Bt=1e3*(s+Math.random()),k(Bt)}let Te=!1;function We(ze){Te||(Te=!0,K(),!S&&(null!==a?(ze||(v=2),clearTimeout(a),k(0)):ze||(v=1)))}return k(0),c=setTimeout(()=>{p=!0,We(!0)},e),We}((s,a)=>{if(a)return void s(!1,new Tw(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const p=v=>{null!==this.progressCallback_&&this.progressCallback_(v.loaded,v.lengthComputable?v.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(p),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(p),this.pendingConnection_=null;const v=c.getErrorCode()===Id.NO_ERROR,I=c.getStatus();if(!v||this.isRetryStatusCode_(I)){const F=c.getErrorCode()===Id.ABORT;return void s(!1,new Tw(!1,null,F))}const S=-1!==this.successCodes_.indexOf(I);s(!0,new Tw(S,c))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function tR(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,a=-1!==[408,429].indexOf(t),c=-1!==this.additionalRetryCodes_.indexOf(t);return e||a||c}}class Tw{constructor(t,e,s){this.wasSuccessCode=t,this.connection=e,this.canceled=!!s}}function hR(...n){const t=function dR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let s=0;s<n.length;s++)e.append(n[s]);return e.getBlob()}if(ib())return new Blob(n);throw new Gn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ob{constructor(t,e){this.data=t,this.contentType=e||null}}function ab(n,t){switch(n){case xs.RAW:return new ob(hS(t));case xs.BASE64:case xs.BASE64URL:return new ob(fS(n,t));case xs.DATA_URL:return new ob(function mR(n){const t=new pS(n);return t.base64?fS(xs.BASE64,t.rest):function gR(n){let t;try{t=decodeURIComponent(n)}catch{throw xy(xs.DATA_URL,"Malformed data URL.")}return hS(t)}(t.rest)}(t),function _R(n){return new pS(n).contentType}(t))}throw rb()}function hS(n){const t=[];for(let e=0;e<n.length;e++){let s=n.charCodeAt(e);s<=127?t.push(s):s<=2047?t.push(192|s>>6,128|63&s):55296==(64512&s)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(s=65536|(1023&s)<<10|1023&n.charCodeAt(++e),t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):t.push(239,191,189):56320==(64512&s)?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(t)}function fS(n,t){switch(n){case xs.BASE64:{const a=-1!==t.indexOf("-"),c=-1!==t.indexOf("_");if(a||c)throw xy(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case xs.BASE64URL:{const a=-1!==t.indexOf("+"),c=-1!==t.indexOf("/");if(a||c)throw xy(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function pR(n){return atob(n)}(t)}catch{throw xy(n,"Invalid character found")}const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s}class pS{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw xy(xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=e[1]||null;null!=s&&(this.base64=function yR(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}class vl{constructor(t,e){let s=0,a="";cS(t)?(this.data_=t,s=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(cS(this.data_)){const a=function fR(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===a?null:new vl(a)}{const s=new Uint8Array(this.data_.buffer,t,e-t);return new vl(s,!0)}}static getBlob(...t){if(ib()){const e=t.map(s=>s instanceof vl?s.data_:s);return new vl(hR.apply(null,e))}{const e=t.map(p=>bw(p)?ab(xs.RAW,p).data:p.data_);let s=0;e.forEach(p=>{s+=p.byteLength});const a=new Uint8Array(s);let c=0;return e.forEach(p=>{for(let v=0;v<p.length;v++)a[c++]=p[v]}),new vl(a,!0)}}uploadData(){return this.data_}}function lb(n){let t;try{t=JSON.parse(n)}catch{return null}return function iR(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function gS(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function CR(n,t){return t}class Pi{constructor(t,e,s,a){this.server=t,this.local=e||t,this.writable=!!s,this.xform=a||CR}}let Sw=null;function Fy(){if(Sw)return Sw;const n=[];n.push(new Pi("bucket")),n.push(new Pi("generation")),n.push(new Pi("metageneration")),n.push(new Pi("name","fullPath",!0));const e=new Pi("name");e.xform=function t(c,p){return function wR(n){return!bw(n)||n.length<2?n:gS(n)}(p)},n.push(e);const a=new Pi("size");return a.xform=function s(c,p){return void 0!==p?Number(p):p},n.push(a),n.push(new Pi("timeCreated")),n.push(new Pi("updated")),n.push(new Pi("md5Hash",null,!0)),n.push(new Pi("cacheControl",null,!0)),n.push(new Pi("contentDisposition",null,!0)),n.push(new Pi("contentEncoding",null,!0)),n.push(new Pi("contentLanguage",null,!0)),n.push(new Pi("contentType",null,!0)),n.push(new Pi("metadata","customMetadata",!0)),Sw=n,Sw}function mS(n,t,e){const s=lb(t);return null===s?null:function DR(n,t,e){const s={type:"file"},a=e.length;for(let c=0;c<a;c++){const p=e[c];s[p.local]=p.xform(s,t[p.server])}return function IR(n,t){Object.defineProperty(n,"ref",{get:function e(){const c=new oi(n.bucket,n.fullPath);return t._makeStorageReference(c)}})}(s,n),s}(n,s,e)}function ub(n,t){const e={},s=t.length;for(let a=0;a<s;a++){const c=t[a];c.writable&&(e[c.server]=n[c.local])}return JSON.stringify(e)}const _S="prefixes";class El{constructor(t,e,s,a){this.url=t,this.method=e,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Cl(n){if(!n)throw rb()}function Aw(n,t){return function e(s,a){const c=mS(n,a,t);return Cl(null!==c),c}}function Ug(n){return function t(e,s){let a;return a=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function WA(){return new Gn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function GA(){return new Gn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function $A(n){return new Gn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function zA(n){return new Gn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):s,a.serverResponse=s.serverResponse,a}}function Ly(n){const t=Ug(n);return function e(s,a){let c=t(s,a);return 404===s.getStatus()&&(c=function HA(n){return new Gn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=a.serverResponse,c}}function vS(n,t,e){const a=Ju(t.fullServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,v=new El(a,"GET",Aw(n,e),p);return v.errorHandler=Ly(t),v}function MR(n,t,e,s,a){const c={};c.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(c.delimiter=e),s&&(c.pageToken=s),a&&(c.maxResults=a);const v=Ju(t.bucketOnlyServerUrl(),n.host,n._protocol),S=n.maxOperationRetryTime,F=new El(v,"GET",function AR(n,t){return function e(s,a){const c=function SR(n,t,e){const s=lb(e);return null===s?null:function TR(n,t,e){const s={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[_S])for(const a of e[_S]){const c=a.replace(/\/$/,""),p=n._makeStorageReference(new oi(t,c));s.prefixes.push(p)}if(e.items)for(const a of e.items){const c=n._makeStorageReference(new oi(t,a.name));s.items.push(c)}return s}(n,t,s)}(n,t,a);return Cl(null!==c),c}}(n,t.bucket),S);return F.urlParams=c,F.errorHandler=Ug(t),F}function CS(n,t,e){const s=Object.assign({},e);return s.fullPath=n.path,s.size=t.size(),s.contentType||(s.contentType=function xR(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),s}class Rw{constructor(t,e,s,a){this.current=t,this.total=e,this.finalized=!!s,this.metadata=a||null}}function cb(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Cl(!1)}return Cl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const VR={STATE_CHANGED:"state_changed"},Oi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function db(n){switch(n){case"running":case"pausing":case"canceling":return Oi.RUNNING;case"paused":return Oi.PAUSED;case"success":return Oi.SUCCESS;case"canceled":return Oi.CANCELED;default:return Oi.ERROR}}class UR{constructor(t,e,s){if(function rR(n){return"function"==typeof n}(t)||null!=e||null!=s)this.next=t,this.error=e??void 0,this.complete=s??void 0;else{const c=t;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function Bg(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class jR extends class BR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Id.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Id.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Id.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,s,a){if(this.sent_)throw ky("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==a)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ky("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ky("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ky("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ky("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function oa(){return new jR}class bS{constructor(t,e,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=s,this._mappings=Fy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,c)=>{this._resolve=a,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,s])=>{switch(this._state){case"running":t(e,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const s=function kR(n,t,e,s,a){const c=t.bucketOnlyServerUrl(),p=CS(t,s,a),v={name:p.fullPath},I=Ju(c,n.host,n._protocol),F={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":p.contentType,"Content-Type":"application/json; charset=utf-8"},k=ub(p,e),Te=new El(I,"POST",function le(We){let ze;cb(We);try{ze=We.getResponseHeader("X-Goog-Upload-URL")}catch{Cl(!1)}return Cl(bw(ze)),ze},n.maxUploadRetryTime);return Te.urlParams=v,Te.headers=F,Te.body=k,Te.errorHandler=Ug(t),Te}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,oa,t,e);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,s)=>{const a=function FR(n,t,e,s){const I=new El(e,"POST",function c(S){const F=cb(S,["active","final"]);let k=null;try{k=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Cl(!1)}k||Cl(!1);const K=Number(k);return Cl(!isNaN(K)),new Rw(K,s.size(),"final"===F)},n.maxUploadRetryTime);return I.headers={"X-Goog-Upload-Command":"query"},I.errorHandler=Ug(t),I}(this._ref.storage,this._ref._location,t,this._blob),c=this._ref.storage._makeRequest(a,oa,e,s);this._request=c,c.getPromise().then(p=>{this._request=void 0,this._updateProgress(p.current),this._needToFetchStatus=!1,p.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new Rw(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,c)=>{let p;try{p=function LR(n,t,e,s,a,c,p,v){const I=new Rw(0,0);if(p?(I.current=p.current,I.total=p.total):(I.current=0,I.total=s.size()),s.size()!==I.total)throw function QA(){return new Gn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const S=I.total-I.current;let F=S;a>0&&(F=Math.min(F,a));const k=I.current,Te={"X-Goog-Upload-Command":F===S?"upload, finalize":"upload","X-Goog-Upload-Offset":`${I.current}`},We=s.slice(k,k+F);if(null===We)throw aS();const Bt=new El(e,"POST",function ze(Dt,Cr){const os=cb(Dt,["active","final"]),pb=I.current+F,Vy=s.size();let gb;return gb="final"===os?Aw(t,c)(Dt,Cr):null,new Rw(pb,Vy,"final"===os,gb)},t.maxUploadRetryTime);return Bt.headers=Te,Bt.body=We.uploadData(),Bt.progressCallback=v||null,Bt.errorHandler=Ug(n),Bt}(this._ref._location,this._ref.storage,s,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(I){return this._error=I,void this._transition("error")}const v=this._ref.storage._makeRequest(p,oa,a,c);this._request=v,v.getPromise().then(I=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(I.current),I.finalized?(this._metadata=I.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const s=vS(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,oa,t,e);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const s=function wS(n,t,e,s,a){const c=t.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"},I=function v(){let Bt="";for(let Dt=0;Dt<2;Dt++)Bt+=Math.random().toString().slice(2);return Bt}();p["Content-Type"]="multipart/related; boundary="+I;const S=CS(t,s,a),F=ub(S,e),le=vl.getBlob("--"+I+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+F+"\r\n--"+I+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",s,"\r\n--"+I+"--");if(null===le)throw aS();const Te={name:S.fullPath},We=Ju(c,n.host,n._protocol),Ft=n.maxUploadRetryTime,At=new El(We,"POST",Aw(n,e),Ft);return At.urlParams=Te,At.headers=p,At.body=le.uploadData(),At.errorHandler=Ug(t),At}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,oa,t,e);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=oS(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=db(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,s,a){const c=new UR(e||void 0,s||void 0,a||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(db(this._state)){case Oi.SUCCESS:Bg(this._resolve.bind(null,this.snapshot))();break;case Oi.CANCELED:case Oi.ERROR:Bg(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(db(this._state)){case Oi.RUNNING:case Oi.PAUSED:t.next&&Bg(t.next.bind(t,this.snapshot))();break;case Oi.SUCCESS:t.complete&&Bg(t.complete.bind(t))();break;default:t.error&&Bg(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class uf{constructor(t,e){this._service=t,this._location=e instanceof oi?e:oi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new uf(t,e)}get root(){const t=new oi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gS(this._location.path)}get storage(){return this._service}get parent(){const t=function vR(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new oi(this._location.bucket,t);return new uf(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw uS(t)}}function SS(n,t,e){return hb.apply(this,arguments)}function hb(){return(hb=(0,Or.Z)(function*(n,t,e){const a=yield AS(n,{pageToken:e});t.prefixes.push(...a.prefixes),t.items.push(...a.items),null!=a.nextPageToken&&(yield SS(n,t,a.nextPageToken))})).apply(this,arguments)}function AS(n,t){null!=t&&"number"==typeof t.maxResults&&sb("options.maxResults",1,1e3,t.maxResults);const e=t||{},s=MR(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(s,oa)}function XR(n){n._throwIfRoot("getDownloadURL");const t=function PR(n,t,e){const a=Ju(t.fullServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,v=new El(a,"GET",function RR(n,t){return function e(s,a){const c=mS(n,a,t);return Cl(null!==c),function bR(n,t,e,s){const a=lb(t);if(null===a||!bw(a.downloadTokens))return null;const c=a.downloadTokens;if(0===c.length)return null;const p=encodeURIComponent;return c.split(",").map(S=>{const k=n.fullPath;return Ju("/b/"+p(n.bucket)+"/o/"+p(k),e,s)+dS({alt:"media",token:S})})[0]}(c,a,n.host,n._protocol)}}(n,e),p);return v.errorHandler=Ly(t),v}(n.storage,n._location,Fy());return n.storage.makeRequestWithTokens(t,oa).then(e=>{if(null===e)throw function JA(){return new Gn("no-download-url","The given file does not have any download URLs.")}();return e})}function RS(n,t){const e=function ER(n,t){const e=t.split("/").filter(s=>s.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),s=new oi(n._location.bucket,e);return new uf(n.storage,s)}function MS(n,t){if(n instanceof fb){const e=n;if(null==e._bucket)throw function YA(){return new Gn("no-default-bucket","No default bucket found. Did you set the '"+sS+"' property when initializing the app?")}();const s=new uf(e,e._bucket);return null!=t?MS(s,t):s}return void 0!==t?RS(n,t):n}function rM(n,t){if(t&&function tM(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof fb)return function nM(n,t){return new uf(n,t)}(n,t);throw Vg("To use ref(service, url), the first argument must be a Storage instance.")}return MS(n,t)}function PS(n,t){const e=t?.[sS];return null==e?null:oi.makeFromBucketSpec(e,n)}class fb{constructor(t,e,s,a,c){this.app=t,this._authProvider=e,this._appCheckProvider=s,this._url=a,this._firebaseVersion=c,this._bucket=null,this._host=iS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?oi.makeFromBucketSpec(a,this._host):PS(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?oi.makeFromBucketSpec(this._url,t):PS(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){sb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){sb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Or.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const s=yield e.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Or.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new uf(this,t)}_makeRequest(t,e,s,a){if(this._deleted)return new XA(lS());{const c=function cR(n,t,e,s,a,c){const p=dS(n.urlParams),v=n.url+p,I=Object.assign({},n.headers);return function lR(n,t){t&&(n["X-Firebase-GMPID"]=t)}(I,t),function oR(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(I,e),function aR(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(I,c),function uR(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(I,s),new sR(v,n.method,I,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(t,this._appId,s,a,e,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){var s=this;return(0,Or.Z)(function*(){const[a,c]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(t,e,a,c).getPromise()})()}}const OS="@firebase/storage";function kS(n,t){return rM(n=(0,x.m9)(n),t)}function pM(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new fb(e,s,a,t,Yi.SDK_VERSION)}!function gM(){(0,Yi._registerComponent)(new ri.wA("storage",pM,"PUBLIC").setMultipleInstances(!0)),(0,Yi.registerVersion)(OS,"0.9.9",""),(0,Yi.registerVersion)(OS,"0.9.9","esm2017")}();class Mw{constructor(t,e,s){this._delegate=t,this.task=e,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class FS{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Mw(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(s=>{if(t)return t(new Mw(s,this,this._ref))},e)}on(t,e,s,a){let c;return e&&(c="function"==typeof e?p=>e(new Mw(p,this,this._ref)):{next:e.next?p=>e.next(new Mw(p,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,c,s||void 0,a||void 0)}}class LS{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Xu(t,this._service))}get items(){return this._delegate.items.map(t=>new Xu(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xu{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function hM(n,t){return RS(n,t)}(this._delegate,t);return new Xu(e,this.storage)}get root(){return new Xu(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Xu(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new FS(function sM(n,t,e){return function KR(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new bS(n,new vl(t),e)}(n=(0,x.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=xs.RAW,s){this._throwIfRoot("putString");const a=ab(e,t),c=Object.assign({},s);return null==c.contentType&&null!=a.contentType&&(c.contentType=a.contentType),new FS(new bS(this._delegate,new vl(a.data,!0),c),this)}listAll(){return function uM(n){return function YR(n){const t={prefixes:[],items:[]};return SS(n,t).then(()=>t)}(n=(0,x.m9)(n))}(this._delegate).then(t=>new LS(t,this.storage))}list(t){return function lM(n,t){return AS(n=(0,x.m9)(n),t)}(this._delegate,t||void 0).then(e=>new LS(e,this.storage))}getMetadata(){return function oM(n){return function QR(n){n._throwIfRoot("getMetadata");const t=vS(n.storage,n._location,Fy());return n.storage.makeRequestWithTokens(t,oa)}(n=(0,x.m9)(n))}(this._delegate)}updateMetadata(t){return function aM(n,t){return function JR(n,t){n._throwIfRoot("updateMetadata");const e=function OR(n,t,e,s){const c=Ju(t.fullServerUrl(),n.host,n._protocol),v=ub(e,s),S=n.maxOperationRetryTime,F=new El(c,"PATCH",Aw(n,s),S);return F.headers={"Content-Type":"application/json; charset=utf-8"},F.body=v,F.errorHandler=Ly(t),F}(n.storage,n._location,t,Fy());return n.storage.makeRequestWithTokens(e,oa)}(n=(0,x.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function cM(n){return XR(n=(0,x.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function dM(n){return function eM(n){n._throwIfRoot("deleteObject");const t=function NR(n,t){const s=Ju(t.fullServerUrl(),n.host,n._protocol),v=new El(s,"DELETE",function p(I,S){},n.maxOperationRetryTime);return v.successCodes=[200,204],v.errorHandler=Ly(t),v}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,oa)}(n=(0,x.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw uS(t)}}class VS{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(US(t))throw Vg("ref() expected a child path but got a URL, use refFromURL instead.");return new Xu(kS(this._delegate,t),this)}refFromURL(t){if(!US(t))throw Vg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{oi.makeFromUrl(t,this._delegate.host)}catch{throw Vg("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xu(kS(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,s={}){!function fM(n,t,e,s={}){!function iM(n,t,e,s={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=s;a&&(n._overrideAuthToken="string"==typeof a?a:(0,x.Sg)(a,n.app.options.projectId))}(n,t,e,s)}(this._delegate,t,e,s)}}function US(n){return/^[A-Za-z]+:\/\//.test(n)}function vM(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),s=n.getProvider("storage").getImmediate({identifier:t});return new VS(e,s)}function BS(n){const t=function CM(n){return new Kn.y(t=>{const e=p=>t.next(p);e(n.snapshot);const c=n.on("state_changed",e);return n.then(p=>{e(p),t.complete()},p=>{e(n.snapshot),(p=>{t.error(p)})(p)}),function(){c()}}).pipe(function UA(n,t=il.z){return(0,rr.e)((e,s)=>{let a=null,c=null,p=null;const v=()=>{if(a){a.unsubscribe(),a=null;const S=c;c=null,s.next(S)}};function I(){const S=p+n,F=t.now();if(F<S)return a=this.schedule(void 0,S-F),void s.add(a);v()}e.subscribe((0,On.x)(s,S=>{c=S,p=t.now(),a||(a=t.schedule(I,n),s.add(a))},()=>{v(),s.complete()},void 0,()=>{c=a=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ct.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function Pw(n){return{getDownloadURL:()=>Xe(void 0).pipe(Sn.fc,Ot(()=>n.getDownloadURL()),Sn.iC),getMetadata:()=>Xe(void 0).pipe(Sn.fc,Ot(()=>n.getMetadata()),Sn.iC),delete:()=>(0,$t.D)(n.delete()),child:t=>Pw(n.child(t)),updateMetadata:t=>(0,$t.D)(n.updateMetadata(t)),put:(t,e)=>BS(n.put(t,e)),putString:(t,e,s)=>BS(n.putString(t,e,s)),list:t=>(0,$t.D)(n.list(t)),listAll:()=>(0,$t.D)(n.listAll())}}!function EM(n){const t={TaskState:Oi,TaskEvent:VR,StringFormat:xs,Storage:VS,Reference:Xu};n.INTERNAL.registerComponent(new ri.wA("storage-compat",vM,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(Ou.Z);const wM=new g.OlP("angularfire2.storageBucket"),IM=new g.OlP("angularfire2.storage.maxUploadRetryTime"),DM=new g.OlP("angularfire2.storage.maxOperationRetryTime"),bM=new g.OlP("angularfire2.storage.use-emulator");let TM=(()=>{class n{constructor(e,s,a,c,p,v,I,S,F,k){const K=(0,zt.on)(e,p,s);this.storage=(0,zt.cc)(`${K.name}.storage.${a}`,"AngularFireStorage",K.name,()=>{const le=p.runOutsideAngular(()=>K.storage(a||void 0)),Te=F;return Te&&le.useEmulator(...Te),I&&le.setMaxUploadRetryTime(I),S&&le.setMaxOperationRetryTime(S),le},[I,S])}ref(e){return Pw(this.storage.ref(e))}refFromURL(e){return Pw(this.storage.refFromURL(e))}upload(e,s,a){return Pw(this.storage.ref(e)).put(s,a)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(zt.Dh),g.LFG(zt.xv,8),g.LFG(wM,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Sn.HU),g.LFG(IM,8),g.LFG(DM,8),g.LFG(bM,8),g.LFG(Dw,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),AM=(()=>{class n{constructor(){VT.Z.registerVersion("angularfire",Sn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[TM],imports:[SM]}),n})(),RM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[Ch]}),n.\u0275inj=g.cJS({imports:[Kl,ao,Gf,zt.hO.initializeApp(rS_firebaseConfig),VA,Vc,AM]}),n})();(0,g.G48)(),Pa().bootstrapModule(RM).catch(n=>console.error(n))},5867:(Qe,Ce,O)=>{O.d(Ce,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=O(9681);(0,g.registerVersion)("firebase","9.10.0","app")},127:(Qe,Ce,O)=>{O.d(Ce,{Z:()=>g.Z});var g=O(3942);g.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(Qe,Ce,O)=>{O.r(Ce);var g=O(5861),X=O(3942),P=O(2090),ie=O(9681),ne=O(655),ce=O(1877),oe=O(4859);const me=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$e=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new ce.Yd("@firebase/auth");function Ke(m,...d){je.logLevel<=ce.in.ERROR&&je.error(`Auth (${ie.SDK_VERSION}): ${m}`,...d)}function Ie(m,...d){throw Fe(m,...d)}function ge(m,...d){return Fe(m,...d)}function ye(m,d,f){const y=Object.assign(Object.assign({},$e()),{[d]:f});return new P.LL("auth","Firebase",y).create(d,{appName:m.name})}function Ne(m,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&Ie(m,"argument-error"),ye(m,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(m,...d){if("string"!=typeof m){const f=d[0],y=[...d.slice(1)];return y[0]&&(y[0].appName=m.name),m._errorFactory.create(f,...y)}return pe.create(m,...d)}function U(m,d,...f){if(!m)throw Fe(d,...f)}function fe(m){const d="INTERNAL ASSERTION FAILED: "+m;throw Ke(d),new Error(d)}function Z(m,d){m||fe(d)}const J=new Map;function re(m){Z(m instanceof Function,"Expected a class definition");let d=J.get(m);return d?(Z(d instanceof m,"Instance stored in cache mismatched with class"),d):(d=new m,J.set(m,d),d)}function Se(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function et(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class jt{constructor(d,f){this.shortDelay=d,this.longDelay=f,Z(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function vt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(et()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mn(m,d){Z(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class Rt{static initialize(d,f,y){this.fetchImpl=d,f&&(this.headersImpl=f),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yn=new jt(3e4,6e4);function ft(m,d){return m.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:m.tenantId}):d}function Vt(m,d,f,y){return ks.apply(this,arguments)}function ks(){return(ks=(0,g.Z)(function*(m,d,f,y,T={}){return sr(m,T,(0,g.Z)(function*(){let M={},q={};y&&("GET"===d?q=y:M={body:JSON.stringify(y)});const ae=(0,P.xO)(Object.assign({key:m.config.apiKey},q)).slice(1),Re=yield m._getAdditionalHeaders();return Re["Content-Type"]="application/json",m.languageCode&&(Re["X-Firebase-Locale"]=m.languageCode),Rt.fetch()(Gr(m,m.config.apiHost,f,ae),Object.assign({method:d,headers:Re,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function sr(m,d,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,g.Z)(function*(m,d,f){m._canInitEmulator=!1;const y=Object.assign(Object.assign({},Mt),d);try{const T=new ar(m),M=yield Promise.race([f(),T.promise]);T.clearNetworkTimeout();const q=yield M.json();if("needConfirmation"in q)throw wr(m,"account-exists-with-different-credential",q);if(M.ok&&!("errorMessage"in q))return q;{const ae=M.ok?q.errorMessage:q.error.message,[Re,He]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw wr(m,"credential-already-in-use",q);if("EMAIL_EXISTS"===Re)throw wr(m,"email-already-in-use",q);if("USER_DISABLED"===Re)throw wr(m,"user-disabled",q);const st=y[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw ye(m,st,He);Ie(m,st)}}catch(T){if(T instanceof P.ZR)throw T;Ie(m,"network-request-failed")}})).apply(this,arguments)}function or(m,d,f,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,g.Z)(function*(m,d,f,y,T={}){const M=yield Vt(m,d,f,y,T);return"mfaPendingCredential"in M&&Ie(m,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Gr(m,d,f,y){const T=`${d}${f}?${y}`;return m.config.emulator?mn(m.config,T):`${m.config.apiScheme}://${T}`}class ar{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,y)=>{this.timer=setTimeout(()=>y(ge(this.auth,"network-request-failed")),Yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(m,d,f){const y={appName:m.name};f.email&&(y.email=f.email),f.phoneNumber&&(y.phoneNumber=f.phoneNumber);const T=ge(m,d,y);return T.customData._tokenResponse=f,T}function Be(){return(Be=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function lr(m,d){return ai.apply(this,arguments)}function ai(){return(ai=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function _n(m,d){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function ur(m){if(m)try{const d=new Date(Number(m));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Kt(){return(Kt=(0,g.Z)(function*(m,d=!1){const f=(0,P.m9)(m),y=yield f.getIdToken(d),T=Ze(y);U(T&&T.exp&&T.auth_time&&T.iat,f.auth,"internal-error");const M="object"==typeof T.firebase?T.firebase:void 0,q=M?.sign_in_provider;return{claims:T,token:y,authTime:ur(tt(T.auth_time)),issuedAtTime:ur(tt(T.iat)),expirationTime:ur(tt(T.exp)),signInProvider:q||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function tt(m){return 1e3*Number(m)}function Ze(m){var d;const[f,y,T]=m.split(".");if(void 0===f||void 0===y||void 0===T)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,P.tV)(y);return M?JSON.parse(M):(Ke("Failed to decode base64 JWT payload"),null)}catch(M){return Ke("Caught error parsing JWT payload as JSON",null===(d=M)||void 0===d?void 0:d.toString()),null}}function Nn(m,d){return xn.apply(this,arguments)}function xn(){return(xn=(0,g.Z)(function*(m,d,f=!1){if(f)return d;try{return yield d}catch(y){throw y instanceof P.ZR&&Qn(y)&&m.auth.currentUser===m&&(yield m.auth.signOut()),y}})).apply(this,arguments)}function Qn({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class lt{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const T=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const y=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield f.iteration()}),y)}iteration(){var d=this;return(0,g.Z)(function*(){var f;try{yield d.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===(null===(f=y)||void 0===f?void 0:f.code)&&d.schedule(!0))}d.schedule()})()}}class li{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xt(m){return kr.apply(this,arguments)}function kr(){return(kr=(0,g.Z)(function*(m){var d;const f=m.auth,y=yield m.getIdToken(),T=yield Nn(m,_n(f,{idToken:y}));U(T?.users.length,f,"internal-error");const M=T.users[0];m._notifyReloadListener(M);const q=null!==(d=M.providerUserInfo)&&void 0!==d&&d.length?V(M.providerUserInfo):[],ae=H(m.providerData,q),st=!!m.isAnonymous&&!(m.email&&M.passwordHash||ae?.length),rt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ae,metadata:new li(M.createdAt,M.lastLoginAt),isAnonymous:st};Object.assign(m,rt)})).apply(this,arguments)}function z(){return(z=(0,g.Z)(function*(m){const d=(0,P.m9)(m);yield xt(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function H(m,d){return[...m.filter(y=>!d.some(T=>T.providerId===y.providerId)),...d]}function V(m){return m.map(d=>{var{providerId:f}=d,y=(0,ne._T)(d,["providerId"]);return{providerId:f,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function W(){return(W=(0,g.Z)(function*(m,d){const f=yield sr(m,{},(0,g.Z)(function*(){const y=(0,P.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:T,apiKey:M}=m.config,q=Gr(m,T,"/v1/token",`key=${M}`),ae=yield m._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",Rt.fetch()(q,{method:"POST",headers:ae,body:y})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class ve{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){U(d.idToken,"internal-error"),U(typeof d.idToken<"u","internal-error"),U(typeof d.refreshToken<"u","internal-error");const f="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Gt(m){const d=Ze(m);return U(d,"internal-error"),U(typeof d.exp<"u","internal-error"),U(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var y=this;return(0,g.Z)(function*(){return U(!y.accessToken||y.refreshToken,d,"user-token-expired"),f||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(d,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var y=this;return(0,g.Z)(function*(){const{accessToken:T,refreshToken:M,expiresIn:q}=yield function $(m,d){return W.apply(this,arguments)}(d,f);y.updateTokensAndExpiration(T,M,Number(q))})()}updateTokensAndExpiration(d,f,y){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(d,f){const{refreshToken:y,accessToken:T,expirationTime:M}=f,q=new ve;return y&&(U("string"==typeof y,"internal-error",{appName:d}),q.refreshToken=y),T&&(U("string"==typeof T,"internal-error",{appName:d}),q.accessToken=T),M&&(U("number"==typeof M,"internal-error",{appName:d}),q.expirationTime=M),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new ve,this.toJSON())}_performRefresh(){return fe("not implemented")}}function xe(m,d){U("string"==typeof m||typeof m>"u","internal-error",{appName:d})}class Ye{constructor(d){var{uid:f,auth:y,stsTokenManager:T}=d,M=(0,ne._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=y,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new li(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,g.Z)(function*(){const y=yield Nn(f,f.stsTokenManager.getToken(f.auth,d));return U(y,f.auth,"internal-error"),f.accessToken!==y&&(f.accessToken=y,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),y})()}getIdTokenResult(d){return function Cn(m){return Kt.apply(this,arguments)}(this,d)}reload(){return function Pt(m){return z.apply(this,arguments)}(this)}_assign(d){this!==d&&(U(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Ye(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var y=this;return(0,g.Z)(function*(){let T=!1;d.idToken&&d.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(d),T=!0),f&&(yield xt(y)),yield y.auth._persistUserIfCurrent(y),T&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var d=this;return(0,g.Z)(function*(){const f=yield d.getIdToken();return yield Nn(d,function Fs(m,d){return Be.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var y,T,M,q,ae,Re,He,st;const rt=null!==(y=f.displayName)&&void 0!==y?y:void 0,Tn=null!==(T=f.email)&&void 0!==T?T:void 0,ti=null!==(M=f.phoneNumber)&&void 0!==M?M:void 0,Ho=null!==(q=f.photoURL)&&void 0!==q?q:void 0,am=null!==(ae=f.tenantId)&&void 0!==ae?ae:void 0,Hf=null!==(Re=f._redirectEventId)&&void 0!==Re?Re:void 0,Qd=null!==(He=f.createdAt)&&void 0!==He?He:void 0,$f=null!==(st=f.lastLoginAt)&&void 0!==st?st:void 0,{uid:Gf,emailVerified:Vc,isAnonymous:lm,providerData:um,stsTokenManager:zy}=f;U(Gf&&zy,d,"internal-error");const Lw=ve.fromJSON(this.name,zy);U("string"==typeof Gf,d,"internal-error"),xe(rt,d.name),xe(Tn,d.name),U("boolean"==typeof Vc,d,"internal-error"),U("boolean"==typeof lm,d,"internal-error"),xe(ti,d.name),xe(Ho,d.name),xe(am,d.name),xe(Hf,d.name),xe(Qd,d.name),xe($f,d.name);const cm=new Ye({uid:Gf,auth:d,email:Tn,emailVerified:Vc,displayName:rt,isAnonymous:lm,photoURL:Ho,phoneNumber:ti,tenantId:am,stsTokenManager:Lw,createdAt:Qd,lastLoginAt:$f});return um&&Array.isArray(um)&&(cm.providerData=um.map(qy=>Object.assign({},qy))),Hf&&(cm._redirectEventId=Hf),cm}static _fromIdTokenResponse(d,f,y=!1){return(0,g.Z)(function*(){const T=new ve;T.updateFromServerResponse(f);const M=new Ye({uid:f.localId,auth:d,stsTokenManager:T,isAnonymous:y});return yield xt(M),M})()}}const kt=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(f,y){var T=this;return(0,g.Z)(function*(){T.storage[f]=y})()}_get(f){var y=this;return(0,g.Z)(function*(){const T=y.storage[f];return void 0===T?null:T})()}_remove(f){var y=this;return(0,g.Z)(function*(){delete y.storage[f]})()}_addListener(f,y){}_removeListener(f,y){}}return m.type="NONE",m})();function An(m,d,f){return`firebase:${m}:${d}:${f}`}class Et{constructor(d,f,y){this.persistence=d,this.auth=f,this.userKey=y;const{config:T,name:M}=this.auth;this.fullUserKey=An(this.userKey,T.apiKey,M),this.fullPersistenceKey=An("persistence",T.apiKey,M),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?Ye._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,g.Z)(function*(){if(f.persistence===d)return;const y=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,y?f.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,y="authUser"){return(0,g.Z)(function*(){if(!f.length)return new Et(re(kt),d,y);const T=(yield Promise.all(f.map(function(){var He=(0,g.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return He.apply(this,arguments)}}()))).filter(He=>He);let M=T[0]||re(kt);const q=An(y,d.config.apiKey,d.name);let ae=null;for(const He of f)try{const st=yield He._get(q);if(st){const rt=Ye._fromJSON(d,st);He!==M&&(ae=rt),M=He;break}}catch{}const Re=T.filter(He=>He._shouldAllowMigration);return M._shouldAllowMigration&&Re.length?(M=Re[0],ae&&(yield M._set(q,ae.toJSON())),yield Promise.all(f.map(function(){var He=(0,g.Z)(function*(st){if(st!==M)try{yield st._remove(q)}catch{}});return function(st){return He.apply(this,arguments)}}())),new Et(M,d,y)):new Et(M,d,y)})()}}function pt(m){const d=m.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Jn(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(en(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Le(d))return"Blackberry";if(at(d))return"Webos";if(wn(d))return"Safari";if((d.includes("chrome/")||Wr(d))&&!d.includes("edge/"))return"Chrome";if(In(d))return"Android";{const y=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function en(m=(0,P.z$)()){return/firefox\//i.test(m)}function wn(m=(0,P.z$)()){const d=m.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Wr(m=(0,P.z$)()){return/crios\//i.test(m)}function Jn(m=(0,P.z$)()){return/iemobile/i.test(m)}function In(m=(0,P.z$)()){return/android/i.test(m)}function Le(m=(0,P.z$)()){return/blackberry/i.test(m)}function at(m=(0,P.z$)()){return/webos/i.test(m)}function Lt(m=(0,P.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function as(m=(0,P.z$)()){return Lt(m)||In(m)||at(m)||Le(m)||/windows phone/i.test(m)||Jn(m)}function xi(m,d=[]){let f;switch(m){case"Browser":f=pt((0,P.z$)());break;case"Worker":f=`${pt((0,P.z$)())}-${m}`;break;default:f=m}const y=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${ie.SDK_VERSION}/${y}`}class Ls{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const y=M=>new Promise((q,ae)=>{try{q(d(M))}catch(Re){ae(Re)}});y.onAbort=f,this.queue.push(y);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,g.Z)(function*(){var y;if(f.auth.currentUser===d)return;const T=[];try{for(const M of f.queue)yield M(d),M.onAbort&&T.push(M.onAbort)}catch(M){T.reverse();for(const q of T)try{q()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(y=M)||void 0===y?void 0:y.message})}})()}}class gt{constructor(d,f,y){this.app=d,this.heartbeatServiceProvider=f,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ls(this),this.idTokenSubscription=new ls(this),this.beforeStateQueue=new Ls(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(d,f){var y=this;return f&&(this._popupRedirectResolver=re(f)),this._initializationPromise=this.queue((0,g.Z)(function*(){var T,M;if(!y._deleted&&(y.persistenceManager=yield Et.create(y,d),!y._deleted)){if(null!==(T=y._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(f),y.lastNotifiedUid=(null===(M=y.currentUser)||void 0===M?void 0:M.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,g.Z)(function*(){var y;const T=yield f.assertedPersistence.getCurrentUser();let M=T,q=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ae=null===(y=f.redirectUser)||void 0===y?void 0:y._redirectEventId,Re=M?._redirectEventId,He=yield f.tryRedirectSignIn(d);(!ae||ae===Re)&&He?.user&&(M=He.user,q=!0)}if(!M)return f.directlySetCurrentUser(null);if(!M._redirectEventId){if(q)try{yield f.beforeStateQueue.runMiddleware(M)}catch(ae){M=T,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ae))}return M?f.reloadAndSetCurrentUserOrClear(M):f.directlySetCurrentUser(null)}return U(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===M._redirectEventId?f.directlySetCurrentUser(M):f.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(d){var f=this;return(0,g.Z)(function*(){let y=null;try{y=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch{yield f._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,g.Z)(function*(){var y;try{yield xt(d)}catch(T){if("auth/network-request-failed"!==(null===(y=T)||void 0===y?void 0:y.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ue(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,g.Z)(function*(){const y=d?(0,P.m9)(d):null;return y&&U(y.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(y&&y._clone(f))})()}_updateCurrentUser(d,f=!1){var y=this;return(0,g.Z)(function*(){if(!y._deleted)return d&&U(y.tenantId===d.tenantId,y,"tenant-id-mismatch"),f||(yield y.beforeStateQueue.runMiddleware(d)),y.queue((0,g.Z)(function*(){yield y.directlySetCurrentUser(d),y.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,g.Z)(function*(){yield f.assertedPersistence.setPersistence(re(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new P.LL("auth","Firebase",d())}onAuthStateChanged(d,f,y){return this.registerStateListener(this.authStateSubscription,d,f,y)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,y){return this.registerStateListener(this.idTokenSubscription,d,f,y)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var y=this;return(0,g.Z)(function*(){const T=yield y.getOrInitRedirectPersistenceManager(f);return null===d?T.removeCurrentUser():T.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,g.Z)(function*(){if(!f.redirectPersistenceManager){const y=d&&re(d)||f._popupRedirectResolver;U(y,f,"argument-error"),f.redirectPersistenceManager=yield Et.create(f,[re(y._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,g.Z)(function*(){var y,T;return f._isInitialized&&(yield f.queue((0,g.Z)(function*(){}))),(null===(y=f._currentUser)||void 0===y?void 0:y._redirectEventId)===d?f._currentUser:(null===(T=f.redirectUser)||void 0===T?void 0:T._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,g.Z)(function*(){if(d===f.currentUser)return f.queue((0,g.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,y,T){if(this._deleted)return()=>{};const M="function"==typeof f?f:f.next.bind(f),q=this._isInitialized?Promise.resolve():this._initializationPromise;return U(q,this,"internal-error"),q.then(()=>M(this.currentUser)),"function"==typeof f?d.addObserver(f,y,T):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,g.Z)(function*(){f.currentUser&&f.currentUser!==d&&f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh(),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=xi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){var f;const y={"X-Client-Version":d.clientVersion};d.app.options.appId&&(y["X-Firebase-gmpid"]=d.app.options.appId);const T=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return T&&(y["X-Firebase-Client"]=T),y})()}}function tn(m){return(0,P.m9)(m)}class ls{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,P.ne)(f=>this.observer=f)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zr(m){const d=m.indexOf(":");return d<0?"":m.substr(0,d+1)}function ki(m){if(!m)return null;const d=Number(m);return isNaN(d)?null:d}class Bn{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return fe("not implemented")}_getIdTokenResponse(d){return fe("not implemented")}_linkToIdToken(d,f){return fe("not implemented")}_getReauthenticationResolver(d){return fe("not implemented")}}function bn(m,d){return aa.apply(this,arguments)}function aa(){return(aa=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:resetPassword",ft(m,d))})).apply(this,arguments)}function Ht(m,d){return Il.apply(this,arguments)}function Il(){return(Il=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Dl(m,d){return us.apply(this,arguments)}function us(){return(us=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:update",ft(m,d))})).apply(this,arguments)}function Vs(){return(Vs=(0,g.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithPassword",ft(m,d))})).apply(this,arguments)}function Li(m,d){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:sendOobCode",ft(m,d))})).apply(this,arguments)}function jn(m,d){return bl.apply(this,arguments)}function bl(){return(bl=(0,g.Z)(function*(m,d){return Li(m,d)})).apply(this,arguments)}function kn(m,d){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,g.Z)(function*(m,d){return Li(m,d)})).apply(this,arguments)}function la(m,d){return fo.apply(this,arguments)}function fo(){return(fo=(0,g.Z)(function*(m,d){return Li(m,d)})).apply(this,arguments)}function Tl(m,d){return zn.apply(this,arguments)}function zn(){return(zn=(0,g.Z)(function*(m,d){return Li(m,d)})).apply(this,arguments)}function ec(){return(ec=(0,g.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithEmailLink",ft(m,d))})).apply(this,arguments)}function Sl(){return(Sl=(0,g.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithEmailLink",ft(m,d))})).apply(this,arguments)}class Al extends Bn{constructor(d,f,y,T=null){super("password",y),this._email=d,this._password=f,this._tenantId=T}static _fromEmailAndPassword(d,f){return new Al(d,f,"password")}static _fromEmailAndCode(d,f,y=null){return new Al(d,f,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,g.Z)(function*(){switch(f.signInMethod){case"password":return function ho(m,d){return Vs.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Dd(m,d){return ec.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:Ie(d,"internal-error")}})()}_linkToIdToken(d,f){var y=this;return(0,g.Z)(function*(){switch(y.signInMethod){case"password":return Ht(d,{idToken:f,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function bd(m,d){return Sl.apply(this,arguments)}(d,{idToken:f,email:y._email,oobCode:y._password});default:Ie(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Mn(m,d){return tc.apply(this,arguments)}function tc(){return(tc=(0,g.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithIdp",ft(m,d))})).apply(this,arguments)}class ui extends Bn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new ui(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):Ie("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:T}=f,M=(0,ne._T)(f,["providerId","signInMethod"]);if(!y||!T)return null;const q=new ui(y,T);return q.idToken=M.idToken||void 0,q.accessToken=M.accessToken||void 0,q.secret=M.secret,q.nonce=M.nonce,q.pendingToken=M.pendingToken||null,q}_getIdTokenResponse(d){return Mn(d,this.buildRequest())}_linkToIdToken(d,f){const y=this.buildRequest();return y.idToken=f,Mn(d,y)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Mn(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,P.xO)(f)}return d}}function df(m,d){return nc.apply(this,arguments)}function nc(){return(nc=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:sendVerificationCode",ft(m,d))})).apply(this,arguments)}function Vi(){return(Vi=(0,g.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithPhoneNumber",ft(m,d))})).apply(this,arguments)}function rc(){return(rc=(0,g.Z)(function*(m,d){const f=yield or(m,"POST","/v1/accounts:signInWithPhoneNumber",ft(m,d));if(f.temporaryProof)throw wr(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const ff={USER_NOT_FOUND:"user-not-found"};function ic(){return(ic=(0,g.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithPhoneNumber",ft(m,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ff)})).apply(this,arguments)}class Ui extends Bn{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new Ui({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new Ui({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function Rl(m,d){return Vi.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function hf(m,d){return rc.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function pf(m,d){return ic.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:y,verificationCode:T}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:y,code:T}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:y,phoneNumber:T,temporaryProof:M}=d;return y||f||T||M?new Ui({verificationId:f,verificationCode:y,phoneNumber:T,temporaryProof:M}):null}}class ua{constructor(d){var f,y,T,M,q,ae;const Re=(0,P.zd)((0,P.pd)(d)),He=null!==(f=Re.apiKey)&&void 0!==f?f:null,st=null!==(y=Re.oobCode)&&void 0!==y?y:null,rt=function sc(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Re.mode)&&void 0!==T?T:null);U(He&&st&&rt,"argument-error"),this.apiKey=He,this.operation=rt,this.code=st,this.continueUrl=null!==(M=Re.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(q=Re.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ae=Re.tenantId)&&void 0!==ae?ae:null}static parseLink(d){const f=function oc(m){const d=(0,P.zd)((0,P.pd)(m)).link,f=d?(0,P.zd)((0,P.pd)(d)).deep_link_id:null,y=(0,P.zd)((0,P.pd)(m)).deep_link_id;return(y?(0,P.zd)((0,P.pd)(y)).link:null)||y||f||d||m}(d);try{return new ua(f)}catch{return null}}}let qr=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,y){return Al._fromEmailAndPassword(f,y)}static credentialWithLink(f,y){const T=ua.parseLink(y);return U(T,"argument-error"),Al._fromEmailAndCode(f,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class ci{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class di extends ci{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class cs extends di{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return U("providerId"in f&&"signInMethod"in f,"argument-error"),ui._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return U(d.idToken||d.accessToken,"argument-error"),ui._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return cs.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return cs.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:y,oauthTokenSecret:T,pendingToken:M,nonce:q,providerId:ae}=d;if(!y&&!T&&!f&&!M||!ae)return null;try{return new cs(ae)._credential({idToken:f,accessToken:y,nonce:q,pendingToken:M})}catch{return null}}}let po=(()=>{class m extends di{constructor(){super("facebook.com")}static credential(f){return ui._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),ca=(()=>{class m extends di{constructor(){super("google.com"),this.addScope("profile")}static credential(f,y){return ui._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:y})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:y,oauthAccessToken:T}=f;if(!y&&!T)return null;try{return m.credential(y,T)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Ml=(()=>{class m extends di{constructor(){super("github.com")}static credential(f){return ui._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class go extends Bn{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return Mn(d,this.buildRequest())}_linkToIdToken(d,f){const y=this.buildRequest();return y.idToken=f,Mn(d,y)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Mn(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:T,pendingToken:M}=f;return y&&T&&M&&y===T?new go(y,M):null}static _create(d,f){return new go(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class br extends ci{constructor(d){U(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return br.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return br.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=go.fromJSON(d);return U(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:y}=d;if(!f||!y)return null;try{return go._create(y,f)}catch{return null}}}let cr=(()=>{class m extends di{constructor(){super("twitter.com")}static credential(f,y){return ui._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:y})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:y,oauthTokenSecret:T}=f;if(!y||!T)return null;try{return m.credential(y,T)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Us(m,d){return ac.apply(this,arguments)}function ac(){return(ac=(0,g.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signUp",ft(m,d))})).apply(this,arguments)}class qn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,y,T=!1){return(0,g.Z)(function*(){const M=yield Ye._fromIdTokenResponse(d,y,T),q=Ad(y);return new qn({user:M,providerId:q,_tokenResponse:y,operationType:f})})()}static _forOperation(d,f,y){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(y,!0);const T=Ad(y);return new qn({user:d,providerId:T,_tokenResponse:y,operationType:f})})()}}function Ad(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function un(){return(un=(0,g.Z)(function*(m){var d;const f=tn(m);if(yield f._initializationPromise,null!==(d=f.currentUser)&&void 0!==d&&d.isAnonymous)return new qn({user:f.currentUser,providerId:null,operationType:"signIn"});const y=yield Us(f,{returnSecureToken:!0}),T=yield qn._fromIdTokenResponse(f,"signIn",y,!0);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class da extends P.ZR{constructor(d,f,y,T){var M;super(f.code,f.message),this.operationType=y,this.user=T,Object.setPrototypeOf(this,da.prototype),this.customData={appName:d.name,tenantId:null!==(M=d.tenantId)&&void 0!==M?M:void 0,_serverResponse:f.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(d,f,y,T){return new da(d,f,y,T)}}function Md(m,d,f,y){return("reauthenticate"===d?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?da._fromErrorAndOperation(m,M,d,y):M})}function Tr(m){return new Set(m.map(({providerId:d})=>d).filter(d=>!!d))}function ha(){return(ha=(0,g.Z)(function*(m,d){const f=(0,P.m9)(m);yield St(!0,f,d);const{providerUserInfo:y}=yield lr(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),T=Tr(y||[]);return f.providerData=f.providerData.filter(M=>T.has(M.providerId)),T.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function Bs(m,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,g.Z)(function*(m,d,f=!1){const y=yield Nn(m,d._linkToIdToken(m.auth,yield m.getIdToken()),f);return qn._forOperation(m,"link",y)})).apply(this,arguments)}function St(m,d,f){return fa.apply(this,arguments)}function fa(){return(fa=(0,g.Z)(function*(m,d,f){yield xt(d);const T=!1===m?"provider-already-linked":"no-such-provider";U(Tr(d.providerData).has(f)===m,d.auth,T)})).apply(this,arguments)}function ds(m,d){return pa.apply(this,arguments)}function pa(){return(pa=(0,g.Z)(function*(m,d,f=!1){var y;const{auth:T}=m,M="reauthenticate";try{const q=yield Nn(m,Md(T,M,d,m),f);U(q.idToken,T,"internal-error");const ae=Ze(q.idToken);U(ae,T,"internal-error");const{sub:Re}=ae;return U(m.uid===Re,T,"user-mismatch"),qn._forOperation(m,M,q)}catch(q){throw"auth/user-not-found"===(null===(y=q)||void 0===y?void 0:y.code)&&Ie(T,"user-mismatch"),q}})).apply(this,arguments)}function Vr(m,d){return ga.apply(this,arguments)}function ga(){return(ga=(0,g.Z)(function*(m,d,f=!1){const y="signIn",T=yield Md(m,y,d),M=yield qn._fromIdTokenResponse(m,y,T);return f||(yield m._updateCurrentUser(M.user)),M})).apply(this,arguments)}function on(m,d){return ut.apply(this,arguments)}function ut(){return(ut=(0,g.Z)(function*(m,d){return Vr(tn(m),d)})).apply(this,arguments)}function ma(m,d){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,g.Z)(function*(m,d){const f=(0,P.m9)(m);return yield St(!1,f,d.providerId),Bs(f,d)})).apply(this,arguments)}function _a(m,d){return ya.apply(this,arguments)}function ya(){return(ya=(0,g.Z)(function*(m,d){return ds((0,P.m9)(m),d)})).apply(this,arguments)}function Pl(m,d){return pi.apply(this,arguments)}function pi(){return(pi=(0,g.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithCustomToken",ft(m,d))})).apply(this,arguments)}function mo(){return(mo=(0,g.Z)(function*(m,d){const f=tn(m),y=yield Pl(f,{token:d,returnSecureToken:!0}),T=yield qn._fromIdTokenResponse(f,"signIn",y);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class we{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?Ct._fromServerResponse(d,f):Ie(d,"internal-error")}}class Ct extends we{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new Ct(f)}}function Nl(m,d,f){var y;U((null===(y=f.url)||void 0===y?void 0:y.length)>0,m,"invalid-continue-uri"),U(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(U(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(U(f.android.packageName.length>0,m,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function cn(){return(cn=(0,g.Z)(function*(m,d,f){const y=(0,P.m9)(m),T={requestType:"PASSWORD_RESET",email:d};f&&Nl(y,T,f),yield kn(y,T)})).apply(this,arguments)}function js(){return(js=(0,g.Z)(function*(m,d,f){yield bn((0,P.m9)(m),{oobCode:d,newPassword:f})})).apply(this,arguments)}function _o(){return(_o=(0,g.Z)(function*(m,d){yield Dl((0,P.m9)(m),{oobCode:d})})).apply(this,arguments)}function yo(m,d){return kl.apply(this,arguments)}function kl(){return(kl=(0,g.Z)(function*(m,d){const f=(0,P.m9)(m),y=yield bn(f,{oobCode:d}),T=y.requestType;switch(U(T,f,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(y.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(y.mfaInfo,f,"internal-error");default:U(y.email,f,"internal-error")}let M=null;return y.mfaInfo&&(M=we._fromServerResponse(tn(f),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:M},operation:T}})).apply(this,arguments)}function lc(){return(lc=(0,g.Z)(function*(m,d){const{data:f}=yield yo((0,P.m9)(m),d);return f.email})).apply(this,arguments)}function dn(){return(dn=(0,g.Z)(function*(m,d,f){const y=tn(m),T=yield Us(y,{returnSecureToken:!0,email:d,password:f}),M=yield qn._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}function hs(){return(hs=(0,g.Z)(function*(m,d,f){const y=(0,P.m9)(m),T={requestType:"EMAIL_SIGNIN",email:d};U(f.handleCodeInApp,y,"argument-error"),f&&Nl(y,T,f),yield la(y,T)})).apply(this,arguments)}function Eo(){return(Eo=(0,g.Z)(function*(m,d,f){const y=(0,P.m9)(m),T=qr.credentialWithLink(d,f||Se());return U(T._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),on(y,T)})).apply(this,arguments)}function mf(m,d){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:createAuthUri",ft(m,d))})).apply(this,arguments)}function Co(){return(Co=(0,g.Z)(function*(m,d){const y={identifier:d,continueUri:et()?Se():"http://localhost"},{signinMethods:T}=yield mf((0,P.m9)(m),y);return T||[]})).apply(this,arguments)}function wo(){return(wo=(0,g.Z)(function*(m,d){const f=(0,P.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};d&&Nl(f.auth,T,d);const{email:M}=yield jn(f.auth,T);M!==m.email&&(yield m.reload())})).apply(this,arguments)}function Ca(){return(Ca=(0,g.Z)(function*(m,d,f){const y=(0,P.m9)(m),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:d};f&&Nl(y.auth,M,f);const{email:q}=yield Tl(y.auth,M);q!==m.email&&(yield m.reload())})).apply(this,arguments)}function wa(m,d){return jl.apply(this,arguments)}function jl(){return(jl=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function $l(){return($l=(0,g.Z)(function*(m,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const y=(0,P.m9)(m),M={idToken:yield y.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},q=yield Nn(y,wa(y.auth,M));y.displayName=q.displayName||null,y.photoURL=q.photoUrl||null;const ae=y.providerData.find(({providerId:Re})=>"password"===Re);ae&&(ae.displayName=y.displayName,ae.photoURL=y.photoURL),yield y._updateTokensIfNecessary(q)})).apply(this,arguments)}function ps(m,d,f){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,g.Z)(function*(m,d,f){const{auth:y}=m,M={idToken:yield m.getIdToken(),returnSecureToken:!0};d&&(M.email=d),f&&(M.password=f);const q=yield Nn(m,Ht(y,M));yield m._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class dr{constructor(d,f,y={}){this.isNewUser=d,this.providerId=f,this.profile=y}}class Xt extends dr{constructor(d,f,y,T){super(d,f,y),this.username=T}}class cc extends dr{constructor(d,f){super(d,"facebook.com",f)}}class Gl extends Xt{constructor(d,f){super(d,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class Od extends dr{constructor(d,f){super(d,"google.com",f)}}class Wl extends Xt{constructor(d,f,y){super(d,"twitter.com",f,y)}}function Da(m){const{user:d,_tokenResponse:f}=m;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Pn(m){var d,f;if(!m)return null;const{providerId:y}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},M=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!y&&m?.idToken){const q=null===(f=null===(d=Ze(m.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(q)return new dr(M,"anonymous"!==q&&"custom"!==q?q:null)}if(!y)return null;switch(y){case"facebook.com":return new cc(M,T);case"github.com":return new Gl(M,T);case"google.com":return new Od(M,T);case"twitter.com":return new Wl(M,T,m.screenName||null);case"custom":case"anonymous":return new dr(M,null);default:return new dr(M,y,T)}}(f)}class gs{constructor(d,f,y){this.type=d,this.credential=f,this.auth=y}static _fromIdtoken(d,f){return new gs("enroll",d,f)}static _fromMfaPendingCredential(d){return new gs("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,y;if(d?.multiFactorSession){if(null!==(f=d.multiFactorSession)&&void 0!==f&&f.pendingCredential)return gs._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(y=d.multiFactorSession)&&void 0!==y&&y.idToken)return gs._fromIdtoken(d.multiFactorSession.idToken)}return null}}class ba{constructor(d,f,y){this.session=d,this.hints=f,this.signInResolver=y}static _fromError(d,f){const y=tn(d),T=f.customData._serverResponse,M=(T.mfaInfo||[]).map(ae=>we._fromServerResponse(y,ae));U(T.mfaPendingCredential,y,"internal-error");const q=gs._fromMfaPendingCredential(T.mfaPendingCredential);return new ba(q,M,function(){var ae=(0,g.Z)(function*(Re){const He=yield Re._process(y,q);delete T.mfaInfo,delete T.mfaPendingCredential;const st=Object.assign(Object.assign({},T),{idToken:He.idToken,refreshToken:He.refreshToken});switch(f.operationType){case"signIn":const rt=yield qn._fromIdTokenResponse(y,f.operationType,st);return yield y._updateCurrentUser(rt.user),rt;case"reauthenticate":return U(f.user,y,"internal-error"),qn._forOperation(f.user,f.operationType,st);default:Ie(y,"internal-error")}});return function(Re){return ae.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,g.Z)(function*(){return f.signInResolver(d)})()}}function Ta(m,d){return Vt(m,"POST","/v2/accounts/mfaEnrollment:start",ft(m,d))}class Nd{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(y=>we._fromServerResponse(d.auth,y)))})}static _fromUser(d){return new Nd(d)}getSession(){var d=this;return(0,g.Z)(function*(){return gs._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,f){var y=this;return(0,g.Z)(function*(){const T=d,M=yield y.getSession(),q=yield Nn(y.user,T._process(y.user.auth,M,f));return yield y.user._updateTokensIfNecessary(q),y.user.reload()})()}unenroll(d){var f=this;return(0,g.Z)(function*(){var y;const T="string"==typeof d?d:d.uid,M=yield f.user.getIdToken(),q=yield Nn(f.user,function pc(m,d){return Vt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(m,d))}(f.user.auth,{idToken:M,mfaEnrollmentId:T}));f.enrolledFactors=f.enrolledFactors.filter(({uid:ae})=>ae!==T),yield f.user._updateTokensIfNecessary(q);try{yield f.user.reload()}catch(ae){if("auth/user-token-expired"!==(null===(y=ae)||void 0===y?void 0:y.code))throw ae}})()}}const Ws=new WeakMap,ms="__sak";class Aa{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(ms,"1"),this.storage.removeItem(ms),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Do=(()=>{class m extends Aa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,y)=>this.onStorageEvent(f,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Io(){const m=(0,P.z$)();return wn(m)||Lt(m)}()&&function Jt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=as(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const y of Object.keys(this.listeners)){const T=this.storage.getItem(y),M=this.localCache[y];T!==M&&f(y,M,T)}}onStorageEvent(f,y=!1){if(!f.key)return void this.forAllChangedKeys((ae,Re,He)=>{this.notifyListeners(ae,He)});const T=f.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(T);if(f.newValue!==ae)null!==f.newValue?this.storage.setItem(T,f.newValue):this.storage.removeItem(T);else if(this.localCache[T]===f.newValue&&!y)return}const M=()=>{const ae=this.storage.getItem(T);!y&&this.localCache[T]===ae||this.notifyListeners(T,ae)},q=this.storage.getItem(T);!function Rn(){return(0,P.w1)()&&10===document.documentMode}()||q===f.newValue||f.newValue===f.oldValue?M():setTimeout(M,10)}notifyListeners(f,y){this.localCache[f]=y;const T=this.listeners[f];if(T)for(const M of Array.from(T))M(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,y,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:y,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,y){var T=()=>super._set,M=this;return(0,g.Z)(function*(){yield T().call(M,f,y),M.localCache[f]=JSON.stringify(y)})()}_get(f){var y=()=>super._get,T=this;return(0,g.Z)(function*(){const M=yield y().call(T,f);return T.localCache[f]=JSON.stringify(M),M})()}_remove(f){var y=()=>super._remove,T=this;return(0,g.Z)(function*(){yield y().call(T,f),delete T.localCache[f]})()}}return m.type="LOCAL",m})(),Zr=(()=>{class m extends Aa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,y){}_removeListener(f,y){}}return m.type="SESSION",m})();let _c=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const y=this.receivers.find(M=>M.isListeningto(f));if(y)return y;const T=new m(f);return this.receivers.push(T),T}isListeningto(f){return this.eventTarget===f}handleEvent(f){var y=this;return(0,g.Z)(function*(){const T=f,{eventId:M,eventType:q,data:ae}=T.data,Re=y.handlersMap[q];if(!Re?.size)return;T.ports[0].postMessage({status:"ack",eventId:M,eventType:q});const He=Array.from(Re).map(function(){var rt=(0,g.Z)(function*(Tn){return Tn(T.origin,ae)});return function(Tn){return rt.apply(this,arguments)}}()),st=yield function To(m){return Promise.all(m.map(function(){var d=(0,g.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(y){return{fulfilled:!1,reason:y}}});return function(f){return d.apply(this,arguments)}}()))}(He);T.ports[0].postMessage({status:"done",eventId:M,eventType:q,response:st})})()}_subscribe(f,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(y)}_unsubscribe(f,y){this.handlersMap[f]&&y&&this.handlersMap[f].delete(y),(!y||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function So(m="",d=10){let f="";for(let y=0;y<d;y++)f+=Math.floor(10*Math.random());return m+f}class ql{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,y=50){var T=this;return(0,g.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let q,ae;return new Promise((Re,He)=>{const st=So("",20);M.port1.start();const rt=setTimeout(()=>{He(new Error("unsupported_event"))},y);ae={messageChannel:M,onMessage(Tn){const ti=Tn;if(ti.data.eventId===st)switch(ti.data.status){case"ack":clearTimeout(rt),q=setTimeout(()=>{He(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Re(ti.data.response);break;default:clearTimeout(rt),clearTimeout(q),He(new Error("invalid_response"))}}},T.handlers.add(ae),M.port1.addEventListener("message",ae.onMessage),T.target.postMessage({eventType:d,eventId:st,data:f},[M.port2])}).finally(()=>{ae&&T.removeMessageHandler(ae)})})()}}function vn(){return window}function Ra(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function Ao(){return(Ao=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hi="firebaseLocalStorageDb",$i="firebaseLocalStorage",Kl="fbase_key";class ys{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ro(m,d){return m.transaction([$i],d?"readwrite":"readonly").objectStore($i)}function qs(){const m=indexedDB.open(Hi,1);return new Promise((d,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const y=m.result;try{y.createObjectStore($i,{keyPath:Kl})}catch(T){f(T)}}),m.addEventListener("success",(0,g.Z)(function*(){const y=m.result;y.objectStoreNames.contains($i)?d(y):(y.close(),yield function vc(){const m=indexedDB.deleteDatabase(Hi);return new ys(m).toPromise()}(),d(yield qs()))}))})}function mi(m,d,f){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,g.Z)(function*(m,d,f){const y=Ro(m,!0).put({[Kl]:d,value:f});return new ys(y).toPromise()})).apply(this,arguments)}function Mo(){return(Mo=(0,g.Z)(function*(m,d){const f=Ro(m,!1).get(d),y=yield new ys(f).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function vs(m,d){const f=Ro(m,!0).delete(d);return new ys(f).toPromise()}const Ks=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,g.Z)(function*(){return f.db||(f.db=yield qs()),f.db})()}_withRetries(f){var y=this;return(0,g.Z)(function*(){let T=0;for(;;)try{const M=yield y._openDb();return yield f(M)}catch(M){if(T++>3)throw M;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,g.Z)(function*(){return Ra()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,g.Z)(function*(){f.receiver=_c._getInstance(function Pa(){return Ra()?self:null}()),f.receiver._subscribe("keyChanged",function(){var y=(0,g.Z)(function*(T,M){return{keyProcessed:(yield f._poll()).includes(M.key)}});return function(T,M){return y.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var y=(0,g.Z)(function*(T,M){return["keyChanged"]});return function(T,M){return y.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,g.Z)(function*(){var y,T;if(f.activeServiceWorker=yield function _s(){return Ao.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new ql(f.activeServiceWorker);const M=yield f.sender._send("ping",{},800);!M||(null===(y=M[0])||void 0===y?void 0:y.fulfilled)&&(null===(T=M[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var y=this;return(0,g.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Ma(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:f},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const f=yield qs();return yield mi(f,ms,"1"),yield vs(f,ms),!0}catch{}return!1})()}_withPendingWrite(f){var y=this;return(0,g.Z)(function*(){y.pendingWrites++;try{yield f()}finally{y.pendingWrites--}})()}_set(f,y){var T=this;return(0,g.Z)(function*(){return T._withPendingWrite((0,g.Z)(function*(){return yield T._withRetries(M=>mi(M,f,y)),T.localCache[f]=y,T.notifyServiceWorker(f)}))})()}_get(f){var y=this;return(0,g.Z)(function*(){const T=yield y._withRetries(M=>function Oa(m,d){return Mo.apply(this,arguments)}(M,f));return y.localCache[f]=T,T})()}_remove(f){var y=this;return(0,g.Z)(function*(){return y._withPendingWrite((0,g.Z)(function*(){return yield y._withRetries(T=>vs(T,f)),delete y.localCache[f],y.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,g.Z)(function*(){const y=yield f._withRetries(q=>{const ae=Ro(q,!1).getAll();return new ys(ae).toPromise()});if(!y)return[];if(0!==f.pendingWrites)return[];const T=[],M=new Set;for(const{fbase_key:q,value:ae}of y)M.add(q),JSON.stringify(f.localCache[q])!==JSON.stringify(ae)&&(f.notifyListeners(q,ae),T.push(q));for(const q of Object.keys(f.localCache))f.localCache[q]&&!M.has(q)&&(f.notifyListeners(q,null),T.push(q));return T})()}notifyListeners(f,y){this.localCache[f]=y;const T=this.listeners[f];if(T)for(const M of Array.from(T))M(y)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Zs(m,d){return Vt(m,"POST","/v2/accounts/mfaSignIn:start",ft(m,d))}function Gi(){return(Gi=(0,g.Z)(function*(m){return(yield Vt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qs(m){return new Promise((d,f)=>{const y=document.createElement("script");y.setAttribute("src",m),y.onload=d,y.onerror=T=>{const M=ge("internal-error");M.customData=T,f(M)},y.type="text/javascript",y.charset="UTF-8",function Ys(){var m,d;return null!==(d=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==d?d:document}().appendChild(y)})}function ka(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Po=1e12;class Yt{constructor(d){this.auth=d,this.counter=Po,this._widgets=new Map}render(d,f){const y=this.counter;return this._widgets.set(y,new _f(d,this.auth.name,f||{})),this.counter++,y}reset(d){var f;const y=d||Po;null===(f=this._widgets.get(y))||void 0===f||f.delete(),this._widgets.delete(y)}getResponse(d){var f;return(null===(f=this._widgets.get(d||Po))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,g.Z)(function*(){var y;return null===(y=f._widgets.get(d||Po))||void 0===y||y.execute(),""})()}}class _f{constructor(d,f,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof d?document.getElementById(d):d;U(T,"argument-error",{appName:f}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function jg(m){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<m;y++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yf=ka("rcb"),Hg=new jt(3e4,6e4);class xd{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=vn().grecaptcha)||void 0===d||!d.render)}load(d,f=""){return U(function Uy(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(vn().grecaptcha):new Promise((y,T)=>{const M=vn().setTimeout(()=>{T(ge(d,"network-request-failed"))},Hg.get());vn()[yf]=()=>{vn().clearTimeout(M),delete vn()[yf];const ae=vn().grecaptcha;if(!ae)return void T(ge(d,"internal-error"));const Re=ae.render;ae.render=(He,st)=>{const rt=Re(He,st);return this.counter++,rt},this.hostLanguage=f,y(ae)},Qs(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:yf,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(M),T(ge(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!(null===(f=vn().grecaptcha)||void 0===f||!f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ql{load(d){return(0,g.Z)(function*(){return new Yt(d)})()}clearedOneInstance(){}}const Gg="recaptcha",Wg={theme:"light",type:"image"};class Ln{constructor(d,f=Object.assign({},Wg),y){this.parameters=f,this.type=Gg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tn(y),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof d?document.getElementById(d):d;U(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ql:new xd,this.validateStartingState()}verify(){var d=this;return(0,g.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),y=d.getAssertedRecaptcha();return y.getResponse(f)||new Promise(M=>{const q=ae=>{!ae||(d.tokenChangeListeners.delete(q),M(ae))};d.tokenChangeListeners.add(q),d.isInvisible&&y.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(y=>y(f)),"function"==typeof d)d(f);else if("string"==typeof d){const y=vn()[d];"function"==typeof y&&y(f)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,g.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const y=document.createElement("div");f.appendChild(y),f=y}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,g.Z)(function*(){U(et()&&!Ra(),d.auth,"internal-error"),yield function $t(){let m=null;return new Promise(d=>{"complete"!==document.readyState?(m=()=>d(),window.addEventListener("load",m)):d()}).catch(d=>{throw m&&window.removeEventListener("load",m),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function hr(m){return Gi.apply(this,arguments)}(d.auth);U(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Kn{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=Ui._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function Fa(){return(Fa=(0,g.Z)(function*(m,d,f){const y=tn(m),T=yield Ar(y,d,(0,P.m9)(f));return new Kn(T,M=>on(y,M))})).apply(this,arguments)}function Br(){return(Br=(0,g.Z)(function*(m,d,f){const y=(0,P.m9)(m);yield St(!1,y,"phone");const T=yield Ar(y.auth,d,(0,P.m9)(f));return new Kn(T,M=>ma(y,M))})).apply(this,arguments)}function Xs(){return(Xs=(0,g.Z)(function*(m,d,f){const y=(0,P.m9)(m),T=yield Ar(y.auth,d,(0,P.m9)(f));return new Kn(T,M=>_a(y,M))})).apply(this,arguments)}function Ar(m,d,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,g.Z)(function*(m,d,f){var y;const T=yield f.verify();try{let M;if(U("string"==typeof T,m,"argument-error"),U(f.type===Gg,m,"argument-error"),M="string"==typeof d?{phoneNumber:d}:d,"session"in M){const q=M.session;if("phoneNumber"in M)return U("enroll"===q.type,m,"internal-error"),(yield Ta(m,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{U("signin"===q.type,m,"internal-error");const ae=(null===(y=M.multiFactorHint)||void 0===y?void 0:y.uid)||M.multiFactorUid;return U(ae,m,"missing-multi-factor-info"),(yield Zs(m,{mfaPendingCredential:q.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield df(m,{phoneNumber:M.phoneNumber,recaptchaToken:T});return q}}finally{f._reset()}})).apply(this,arguments)}function ct(){return(ct=(0,g.Z)(function*(m,d){yield Bs((0,P.m9)(m),d)})).apply(this,arguments)}let La=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=tn(f)}verifyPhoneNumber(f,y){return Ar(this.auth,f,(0,P.m9)(y))}static credential(f,y){return Ui._fromVerification(f,y)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:y,temporaryProof:T}=f;return y&&T?Ui._fromTokenResponse(y,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Cs(m,d){return d?re(d):(U(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Oo extends Bn{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Mn(d,this._buildIdpRequest())}_linkToIdToken(d,f){return Mn(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return Mn(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function tr(m){return Vr(m.auth,new Oo(m),m.bypassAuthState)}function No(m){const{auth:d,user:f}=m;return U(f,d,"internal-error"),ds(f,new Oo(m),m.bypassAuthState)}function yi(m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(m){const{auth:d,user:f}=m;return U(f,d,"internal-error"),Bs(f,new Oo(m),m.bypassAuthState)})).apply(this,arguments)}class nr{constructor(d,f,y,T,M=!1){this.auth=d,this.resolver=y,this.user=T,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,g.Z)(function*(y,T){d.pendingPromise={resolve:y,reject:T};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(M){d.reject(M)}});return function(y,T){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,g.Z)(function*(){const{urlResponse:y,sessionId:T,postBody:M,tenantId:q,error:ae,type:Re}=d;if(ae)return void f.reject(ae);const He={auth:f.auth,requestUri:y,sessionId:T,tenantId:q||void 0,postBody:M||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Re)(He))}catch(st){f.reject(st)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return tr;case"linkViaPopup":case"linkViaRedirect":return yi;case"reauthViaPopup":case"reauthViaRedirect":return No;default:Ie(this.auth,"internal-error")}}resolve(d){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xl=new jt(2e3,1e4);function xo(){return(xo=(0,g.Z)(function*(m,d,f){const y=tn(m);Ne(m,d,ci);const T=Cs(y,f);return new pr(y,"signInViaPopup",d,T).executeNotNull()})).apply(this,arguments)}function Ec(){return(Ec=(0,g.Z)(function*(m,d,f){const y=(0,P.m9)(m);Ne(y.auth,d,ci);const T=Cs(y.auth,f);return new pr(y.auth,"reauthViaPopup",d,T,y).executeNotNull()})).apply(this,arguments)}function ko(){return(ko=(0,g.Z)(function*(m,d,f){const y=(0,P.m9)(m);Ne(y.auth,d,ci);const T=Cs(y.auth,f);return new pr(y.auth,"linkViaPopup",d,T,y).executeNotNull()})).apply(this,arguments)}let pr=(()=>{class m extends nr{constructor(f,y,T,M,q){super(f,y,M,q),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,g.Z)(function*(){const y=yield f.execute();return U(y,f.auth,"internal-error"),y})()}onExecution(){var f=this;return(0,g.Z)(function*(){Z(1===f.filter.length,"Popup operations only handle one event");const y=So();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],y),f.authWindow.associatedEvent=y,f.resolver._originValidation(f.auth).catch(T=>{f.reject(T)}),f.resolver._isIframeWebStorageSupported(f.auth,T=>{T||f.reject(ge(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var y,T;this.pollId=null!==(T=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Xl.get())};f()}}return m.currentPopupAction=null,m})();const Qt=new Map;class Jr extends nr{constructor(d,f,y=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,y),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,g.Z)(function*(){let y=Qt.get(f.auth._key());if(!y){try{const M=(yield function Ua(m,d){return Wi.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;y=()=>Promise.resolve(M)}catch(T){y=()=>Promise.reject(T)}Qt.set(f.auth._key(),y)}return f.bypassAuthState||Qt.set(f.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,y=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(y,d);if("unknown"!==d.type){if(d.eventId){const T=yield y.auth._redirectUserForId(d.eventId);if(T)return y.user=T,f().call(y,d);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Wi(){return(Wi=(0,g.Z)(function*(m,d){const f=tu(d),y=vi(m);if(!(yield y._isAvailable()))return!1;const T="true"===(yield y._get(f));return yield y._remove(f),T})).apply(this,arguments)}function Ba(m,d){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(m,d){return vi(m)._set(tu(d),"true")})).apply(this,arguments)}function ws(m,d){Qt.set(m._key(),d)}function vi(m){return re(m._redirectPersistence)}function tu(m){return An("pendingRedirect",m.config.apiKey,m.name)}function w(){return(w=(0,g.Z)(function*(m,d,f){const y=tn(m);Ne(m,d,ci);const T=Cs(y,f);return yield Ba(T,y),T._openRedirect(y,d,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,g.Z)(function*(m,d,f){const y=(0,P.m9)(m);Ne(y.auth,d,ci);const T=Cs(y.auth,f);yield Ba(T,y.auth);const M=yield nt(y);return T._openRedirect(y.auth,d,"reauthViaRedirect",M)})).apply(this,arguments)}function Ee(){return(Ee=(0,g.Z)(function*(m,d,f){const y=(0,P.m9)(m);Ne(y.auth,d,ci);const T=Cs(y.auth,f);yield St(!1,y,d.providerId),yield Ba(T,y.auth);const M=yield nt(y);return T._openRedirect(y.auth,d,"linkViaRedirect",M)})).apply(this,arguments)}function Je(){return(Je=(0,g.Z)(function*(m,d){return yield tn(m)._initializationPromise,it(m,d,!1)})).apply(this,arguments)}function it(m,d){return dt.apply(this,arguments)}function dt(){return(dt=(0,g.Z)(function*(m,d,f=!1){const y=tn(m),T=Cs(y,d),q=yield new Jr(y,T,f).execute();return q&&!f&&(delete q.user._redirectEventId,yield y._persistUserIfCurrent(q.user),yield y._setRedirectUser(null,d)),q})).apply(this,arguments)}function nt(m){return nn.apply(this,arguments)}function nn(){return(nn=(0,g.Z)(function*(m){const d=So(`${m.uid}:::`);return m._redirectEventId=d,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),d})).apply(this,arguments)}class zi{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(d,y)&&(f=!0,this.sendToConsumer(d,y),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Is(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qi(m);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var y;if(d.error&&!qi(d)){const T=(null===(y=d.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";f.onError(ge(this.auth,T))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const y=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&y}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ei(d))}saveEventToCache(d){this.cachedEventUids.add(Ei(d)),this.lastProcessedEventTime=Date.now()}}function Ei(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(d=>d).join("-")}function qi({type:m,error:d}){return"unknown"===m&&"auth/no-auth-event"===d?.code}function Ci(m){return pn.apply(this,arguments)}function pn(){return(pn=(0,g.Z)(function*(m,d={}){return Vt(m,"GET","/v1/projects",d)})).apply(this,arguments)}const gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ki=/^https?/;function zg(){return(zg=(0,g.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:d}=yield Ci(m);for(const f of d)try{if(qg(f))return}catch{}Ie(m,"unauthorized-domain")})).apply(this,arguments)}function qg(m){const d=Se(),{protocol:f,hostname:y}=new URL(d);if(m.startsWith("chrome-extension://")){const q=new URL(m);return""===q.hostname&&""===y?"chrome-extension:"===f&&m.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&q.hostname===y}if(!Ki.test(f))return!1;if(gr.test(m))return y===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(y)}const Kg=new jt(3e4,6e4);function Ic(){const m=vn().___jsl;if(m?.H)for(const d of Object.keys(m.H))if(m.H[d].r=m.H[d].r||[],m.H[d].L=m.H[d].L||[],m.H[d].r=[...m.H[d].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let nu=null;function Ld(m){return nu=nu||function Fo(m){return new Promise((d,f)=>{var y,T,M;function q(){Ic(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Ic(),f(ge(m,"network-request-failed"))},timeout:Kg.get()})}if(null!==(T=null===(y=vn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==T&&T.Iframe)d(gapi.iframes.getContext());else{if(null===(M=vn().gapi)||void 0===M||!M.load){const ae=ka("iframefcb");return vn()[ae]=()=>{gapi.load?q():f(ge(m,"network-request-failed"))},Qs(`https://apis.google.com/js/api.js?onload=${ae}`).catch(Re=>f(Re))}q()}}).catch(d=>{throw nu=null,d})}(m),nu}const Ef=new jt(5e3,15e3),Nw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function By(m){const d=m.config;U(d.authDomain,m,"auth-domain-config-required");const f=d.emulator?mn(d,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,y={apiKey:d.apiKey,appName:m.name,v:ie.SDK_VERSION},T=Cf.get(m.config.apiHost);T&&(y.eid=T);const M=m._getFrameworks();return M.length&&(y.fw=M.join(",")),`${f}?${(0,P.xO)(y).slice(1)}`}function ru(){return ru=(0,g.Z)(function*(m){const d=yield Ld(m),f=vn().gapi;return U(f,m,"internal-error"),d.open({where:document.body,url:By(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nw,dontclear:!0},y=>new Promise(function(){var T=(0,g.Z)(function*(M,q){yield y.restyle({setHideOnLeave:!1});const ae=ge(m,"network-request-failed"),Re=vn().setTimeout(()=>{q(ae)},Ef.get());function He(){vn().clearTimeout(Re),M(y)}y.ping(He).then(He,()=>{q(ae)})});return function(M,q){return T.apply(this,arguments)}}()))}),ru.apply(this,arguments)}const Vd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vo{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ha(m,d,f,y,T,M){U(m.config.authDomain,m,"auth-domain-config-required"),U(m.config.apiKey,m,"invalid-api-key");const q={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:y,v:ie.SDK_VERSION,eventId:T};if(d instanceof ci){d.setDefaultLanguage(m.languageCode),q.providerId=d.providerId||"",(0,P.xb)(d.getCustomParameters())||(q.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Re,He]of Object.entries(M||{}))q[Re]=He}if(d instanceof di){const Re=d.getScopes().filter(He=>""!==He);Re.length>0&&(q.scopes=Re.join(","))}m.tenantId&&(q.tid=m.tenantId);const ae=q;for(const Re of Object.keys(ae))void 0===ae[Re]&&delete ae[Re];return`${function wf({config:m}){return m.emulator?mn(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,P.xO)(ae).slice(1)}`}const su="webStorageSupport";class wi extends class Df{constructor(d){this.factorId=d}_process(d,f,y){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,y);case"signin":return this._finalizeSignIn(d,f.credential);default:return fe("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new wi(d)}_finalizeEnroll(d,f,y){return function Sa(m,d){return Vt(m,"POST","/v2/accounts/mfaEnrollment:finalize",ft(m,d))}(d,{idToken:f,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function xa(m,d){return Vt(m,"POST","/v2/accounts/mfaSignIn:finalize",ft(m,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $a=(()=>{class m{constructor(){}static assertion(f){return wi._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var Dc="@firebase/auth";class xw{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,g.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(y=>{var T;d((null===(T=y)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ei(){return window}function Ud(){return(Ud=(0,g.Z)(function*(m,d,f){var y;const{BuildInfo:T}=ei();Z(d.sessionId,"AuthEvent did not contain a session ID");const M=yield jd(d.sessionId),q={};return Lt()?q.ibi=T.packageName:In()?q.apn=T.packageName:Ie(m,"operation-not-supported-in-this-environment"),T.displayName&&(q.appDisplayName=T.displayName),q.sessionId=M,Ha(m,f,d.type,void 0,null!==(y=d.eventId)&&void 0!==y?y:void 0,q)})).apply(this,arguments)}function to(){return(to=(0,g.Z)(function*(m){const{BuildInfo:d}=ei(),f={};Lt()?f.iosBundleId=d.packageName:In()?f.androidPackageName=d.packageName:Ie(m,"operation-not-supported-in-this-environment"),yield Ci(m,f)})).apply(this,arguments)}function lu(){return(lu=(0,g.Z)(function*(m,d,f){const{cordova:y}=ei();let T=()=>{};try{yield new Promise((M,q)=>{let ae=null;function Re(){var rt;M();const Tn=null===(rt=y.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof Tn&&Tn(),"function"==typeof f?.close&&f.close()}function He(){ae||(ae=window.setTimeout(()=>{q(ge(m,"redirect-cancelled-by-user"))},2e3))}function st(){"visible"===document?.visibilityState&&He()}d.addPassiveListener(Re),document.addEventListener("resume",He,!1),In()&&document.addEventListener("visibilitychange",st,!1),T=()=>{d.removePassiveListener(Re),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",st,!1),ae&&window.clearTimeout(ae)}})}finally{T()}})).apply(this,arguments)}function jd(m){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,g.Z)(function*(m){const d=Fw(m),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fw(m){if(Z(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const d=new ArrayBuffer(m.length),f=new Uint8Array(d);for(let y=0;y<m.length;y++)f[y]=m.charCodeAt(y);return f}!function kw(m){(0,ie._registerComponent)(new oe.wA("auth",(d,{options:f})=>{const y=d.getProvider("app").getImmediate(),T=d.getProvider("heartbeat"),{apiKey:M,authDomain:q}=y.options;return((ae,Re)=>{U(M&&!M.includes(":"),"invalid-api-key",{appName:ae.name}),U(!q?.includes(":"),"argument-error",{appName:ae.name});const He={apiKey:M,authDomain:q,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xi(m)},st=new gt(ae,Re,He);return function Ae(m,d){const f=d?.persistence||[],y=(Array.isArray(f)?f:[f]).map(re);d?.errorMap&&m._updateErrorMap(d.errorMap),m._initializeWithPersistence(y,d?.popupRedirectResolver)}(st,f),st})(y,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,y)=>{d.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new oe.wA("auth-internal",d=>{const f=tn(d.getProvider("auth").getImmediate());return new xw(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Dc,"0.20.7",function $y(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ie.registerVersion)(Dc,"0.20.7","esm2017")}("Browser");class Sc extends zi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,g.Z)(function*(){yield d.initPromise})()}}function Xg(m){return uu.apply(this,arguments)}function uu(){return(uu=(0,g.Z)(function*(m){const d=yield Mf()._get($d(m));return d&&(yield Mf()._remove($d(m))),d})).apply(this,arguments)}function em(){const m=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const y=Math.floor(Math.random()*d.length);m.push(d.charAt(y))}return m.join("")}function Mf(){return re(Do)}function $d(m){return An("authEvent",m.config.apiKey,m.name)}function cu(m){if(!m?.includes("?"))return{};const[d,...f]=m.split("?");return(0,P.zd)(f.join("?"))}function Of(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function Rc(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function Gd(m=(0,P.z$)()){return!("file:"!==Rc()&&"ionic:"!==Rc()&&"capacitor:"!==Rc()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mc(){try{const m=self.localStorage,d=So();if(m)return m.setItem(d,"1"),m.removeItem(d),!function du(m=(0,P.z$)()){return function im(){return(0,P.w1)()&&11===document?.documentMode}()||function sm(m=(0,P.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,P.hl)()}catch{return hu()&&(0,P.hl)()}return!1}function hu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pc(){return(function nm(){return"http:"===Rc()||"https:"===Rc()}()||(0,P.ru)()||Gd())&&!function rm(){return(0,P.b$)()||(0,P.UG)()}()&&Mc()&&!hu()}function kf(){return Gd()&&typeof document<"u"}function Oc(){return(Oc=(0,g.Z)(function*(){return!!kf()&&new Promise(m=>{const d=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),m(!0)})})})).apply(this,arguments)}const mr={LOCAL:"local",NONE:"none",SESSION:"session"},fu=U,Nc="persistence";function pu(m){return xc.apply(this,arguments)}function xc(){return(xc=(0,g.Z)(function*(m){yield m._initializationPromise;const d=Lf(),f=An(Nc,m.config.apiKey,m.name);d&&d.setItem(f,m._getPersistence())})).apply(this,arguments)}function Lf(){var m;try{return(null===(m=function Wd(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const gu=U;class Ii{constructor(){this.browserResolver=re(class If{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zr,this._completeRedirectFn=it,this._overrideRedirectResult=ws}_openPopup(d,f,y,T){var M=this;return(0,g.Z)(function*(){var q;Z(null===(q=M.eventManagers[d._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ae=Ha(d,f,y,Se(),T);return function Uo(m,d,f,y=500,T=600){const M=Math.max((window.screen.availHeight-T)/2,0).toString(),q=Math.max((window.screen.availWidth-y)/2,0).toString();let ae="";const Re=Object.assign(Object.assign({},Vd),{width:y.toString(),height:T.toString(),top:M,left:q}),He=(0,P.z$)().toLowerCase();f&&(ae=Wr(He)?"_blank":f),en(He)&&(d=d||"http://localhost",Re.scrollbars="yes");const st=Object.entries(Re).reduce((Tn,[ti,Ho])=>`${Tn}${ti}=${Ho},`,"");if(function Fr(m=(0,P.z$)()){var d;return Lt(m)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(He)&&"_self"!==ae)return function iu(m,d){const f=document.createElement("a");f.href=m,f.target=d;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(y)}(d||"",ae),new Vo(null);const rt=window.open(d||"",ae,st);U(rt,m,"popup-blocked");try{rt.focus()}catch{}return new Vo(rt)}(d,ae,So())})()}_openRedirect(d,f,y,T){var M=this;return(0,g.Z)(function*(){return yield M._originValidation(d),function Ur(m){vn().location.href=m}(Ha(d,f,y,Se(),T)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:T,promise:M}=this.eventManagers[f];return T?Promise.resolve(T):(Z(M,"If manager is not set, promise should be"),M)}const y=this.initAndGetManager(d);return this.eventManagers[f]={promise:y},y.catch(()=>{delete this.eventManagers[f]}),y}initAndGetManager(d){var f=this;return(0,g.Z)(function*(){const y=yield function Yg(m){return ru.apply(this,arguments)}(d),T=new zi(d);return y.register("authEvent",M=>(U(M?.authEvent,d,"invalid-auth-event"),{status:T.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:T},f.iframes[d._key()]=y,T})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(su,{type:su},T=>{var M;const q=null===(M=T?.[0])||void 0===M?void 0:M[su];void 0!==q&&f(!!q),Ie(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Fd(m){return zg.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return as()||wn()||Lt()}}),this.cordovaResolver=re(class Pf{constructor(){this._redirectPersistence=Zr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=it,this._overrideRedirectResult=ws}_initialize(d){var f=this;return(0,g.Z)(function*(){const y=d._key();let T=f.eventManagers.get(y);return T||(T=new Sc(d),f.eventManagers.set(y,T),f.attachCallbackListeners(d,T)),T})()}_openPopup(d){Ie(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,y,T){var M=this;return(0,g.Z)(function*(){!function Tf(m){var d,f,y,T,M,q,ae,Re,He,st;const rt=ei();U("function"==typeof(null===(d=rt?.universalLinks)||void 0===d?void 0:d.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(f=rt?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(M=null===(T=null===(y=rt?.cordova)||void 0===y?void 0:y.plugins)||void 0===T?void 0:T.browsertab)||void 0===M?void 0:M.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Re=null===(ae=null===(q=rt?.cordova)||void 0===q?void 0:q.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Re?void 0:Re.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(st=null===(He=rt?.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===st?void 0:st.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const q=yield M._initialize(d);yield q.initialized(),q.resetRedirect(),function eu(){Qt.clear()}(),yield M._originValidation(d);const ae=function Af(m,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:em(),postBody:null,tenantId:m.tenantId,error:ge(m,"no-auth-event")}}(d,y,T);yield function Rf(m,d){return Mf()._set($d(m),d)}(d,ae);const Re=yield function Tc(m,d,f){return Ud.apply(this,arguments)}(d,ae,f),He=yield function Ds(m){const{cordova:d}=ei();return new Promise(f=>{d.plugins.browsertab.isAvailable(y=>{let T=null;y?d.plugins.browsertab.openUrl(m):T=d.InAppBrowser.open(m,function Dr(m=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(T)})})}(Re);return function au(m,d,f){return lu.apply(this,arguments)}(d,q,He)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Bd(m){return to.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:y,handleOpenURL:T,BuildInfo:M}=ei(),q=setTimeout((0,g.Z)(function*(){yield Xg(d),f.onEvent(Of())}),500),ae=function(){var st=(0,g.Z)(function*(rt){clearTimeout(q);const Tn=yield Xg(d);let ti=null;Tn&&rt?.url&&(ti=function Hd(m,d){var f,y;const T=function Wa(m){const d=cu(m),f=d.link?decodeURIComponent(d.link):void 0,y=cu(f).link,T=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return cu(T).link||T||y||f||m}(d);if(T.includes("/__/auth/callback")){const M=cu(T),q=M.firebaseError?function Ga(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,ae=null===(y=null===(f=q?.code)||void 0===f?void 0:f.split("auth/"))||void 0===y?void 0:y[1],Re=ae?ge(ae):null;return Re?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(Tn,rt.url)),f.onEvent(ti||Of())});return function(Tn){return st.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,ae);const Re=T,He=`${M.packageName.toLowerCase()}://`;ei().handleOpenURL=function(){var st=(0,g.Z)(function*(rt){if(rt.toLowerCase().startsWith(He)&&ae({url:rt}),"function"==typeof Re)try{Re(rt)}catch(Tn){console.error(Tn)}});return function(rt){return st.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Zr,this._completeRedirectFn=it,this._overrideRedirectResult=ws}_initialize(d){var f=this;return(0,g.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,y,T){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(d,f,y,T)})()}_openRedirect(d,f,y,T){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(d,f,y,T)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return kf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,g.Z)(function*(){if(d.underlyingResolver)return;const f=yield function Ff(){return Oc.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function kc(m){return m.unwrap()}function Lc(m){return qd(m)}function qd(m){const{_tokenResponse:d}=m instanceof P.ZR?m.customData:m;if(!d)return null;if(!(m instanceof P.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return La.credentialFromResult(m);const f=d.providerId;if(!f||"password"===f)return null;let y;switch(f){case"google.com":y=ca;break;case"facebook.com":y=po;break;case"github.com":y=Ml;break;case"twitter.com":y=cr;break;default:const{oauthIdToken:T,oauthAccessToken:M,oauthTokenSecret:q,pendingToken:ae,nonce:Re}=d;return M||q||T||ae?ae?f.startsWith("saml.")?go._create(f,ae):ui._fromParams({providerId:f,signInMethod:f,pendingToken:ae,idToken:T,accessToken:M}):new cs(f).credential({idToken:T,accessToken:M,rawNonce:Re}):null}return m instanceof P.ZR?y.credentialFromError(m):y.credentialFromResult(m)}function Zn(m,d){return d.catch(f=>{throw f instanceof P.ZR&&function no(m,d){var f,y;const T=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(y=d)||void 0===y?void 0:y.code))d.resolver=new Vf(m,function hn(m,d){var f;const y=(0,P.m9)(m),T=d;return U(d.customData.operationType,y,"argument-error"),U(null===(f=T.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,y,"argument-error"),ba._fromError(y,T)}(m,d));else if(T){const M=qd(d),q=d;M&&(q.credential=M,q.tenantId=T.tenantId||void 0,q.email=T.email||void 0,q.phoneNumber=T.phoneNumber||void 0)}}(m,f),f}).then(f=>{const T=f.user;return{operationType:f.operationType,credential:Lc(f),additionalUserInfo:Da(f),user:Rr.getOrCreate(T)}})}function Kd(m,d){return mu.apply(this,arguments)}function mu(){return(mu=(0,g.Z)(function*(m,d){const f=yield d;return{verificationId:f.verificationId,confirm:y=>Zn(m,f.confirm(y))}})).apply(this,arguments)}class Vf{constructor(d,f){this.resolver=f,this.auth=function Fc(m){return m.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Zn(kc(this.auth),this.resolver.resolveSignIn(d))}}class Rr{constructor(d){this._delegate=d,this.multiFactor=function zs(m){const d=(0,P.m9)(m);return Ws.has(d)||Ws.set(d,Nd._fromUser(d)),Ws.get(d)}(d)}static getOrCreate(d){return Rr.USER_MAP.has(d)||Rr.USER_MAP.set(d,new Rr(d)),Rr.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,g.Z)(function*(){return Zn(f.auth,ma(f._delegate,d))})()}linkWithPhoneNumber(d,f){var y=this;return(0,g.Z)(function*(){return Kd(y.auth,function fr(m,d,f){return Br.apply(this,arguments)}(y._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,g.Z)(function*(){return Zn(f.auth,function Cc(m,d,f){return ko.apply(this,arguments)}(f._delegate,d,Ii))})()}linkWithRedirect(d){var f=this;return(0,g.Z)(function*(){return yield pu(tn(f.auth)),function Q(m,d,f){return function se(m,d,f){return Ee.apply(this,arguments)}(m,d,f)}(f._delegate,d,Ii)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,g.Z)(function*(){return Zn(f.auth,_a(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return Kd(this.auth,function Jl(m,d,f){return Xs.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return Zn(this.auth,function vf(m,d,f){return Ec.apply(this,arguments)}(this._delegate,d,Ii))}reauthenticateWithRedirect(d){var f=this;return(0,g.Z)(function*(){return yield pu(tn(f.auth)),function D(m,d,f){return function A(m,d,f){return L.apply(this,arguments)}(m,d,f)}(f._delegate,d,Ii)})()}sendEmailVerification(d){return function Ul(m,d){return wo.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,g.Z)(function*(){return yield function er(m,d){return ha.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function uc(m,d){return ps((0,P.m9)(m),d,null)}(this._delegate,d)}updatePassword(d){return function fs(m,d){return ps((0,P.m9)(m),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function On(m,d){return ct.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Hl(m,d){return $l.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function Bl(m,d,f){return Ca.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Rr.USER_MAP=new WeakMap;const za=U;let Uf=(()=>{class m{constructor(f,y){if(this.app=f,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=f.options;za(T,"invalid-api-key",{appName:f.name}),za(T,"invalid-api-key",{appName:f.name});const M=typeof window<"u"?Ii:void 0;this._delegate=y.initialize({options:{persistence:Zd(T,f.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,y){!function wl(m,d,f){const y=tn(m);U(y._canInitEmulator,y,"emulator-config-failed"),U(/^https?:\/\//.test(d),y,"invalid-emulator-scheme");const T=!!f?.disableWarnings,M=zr(d),{host:q,port:ae}=function Dn(m){const d=zr(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(d.length));if(!f)return{host:"",port:null};const y=f[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(y);if(T){const M=T[1];return{host:M,port:ki(y.substr(M.length+1))}}{const[M,q]=y.split(":");return{host:M,port:ki(q)}}}(d);y.config.emulator={url:`${M}//${q}${null===ae?"":`:${ae}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:q,port:ae,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Fi(){function m(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,y)}applyActionCode(f){return function Sr(m,d){return _o.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return yo(this._delegate,f)}confirmPasswordReset(f,y){return function va(m,d,f){return js.apply(this,arguments)}(this._delegate,f,y)}createUserWithEmailAndPassword(f,y){var T=this;return(0,g.Z)(function*(){return Zn(T._delegate,function vo(m,d,f){return dn.apply(this,arguments)}(T._delegate,f,y))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Ea(m,d){return Co.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function gi(m,d){return"EMAIL_SIGNIN"===ua.parseLink(d)?.operation}(0,f)}getRedirectResult(){var f=this;return(0,g.Z)(function*(){za(Pc(),f._delegate,"operation-not-supported-in-this-environment");const y=yield function ke(m,d){return Je.apply(this,arguments)}(f._delegate,Ii);return y?Zn(f._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Nf(m,d){tn(m)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,y,T){const{next:M,error:q,complete:ae}=om(f,y,T);return this._delegate.onAuthStateChanged(M,q,ae)}onIdTokenChanged(f,y,T){const{next:M,error:q,complete:ae}=om(f,y,T);return this._delegate.onIdTokenChanged(M,q,ae)}sendSignInLinkToEmail(f,y){return function Ll(m,d,f){return hs.apply(this,arguments)}(this._delegate,f,y)}sendPasswordResetEmail(f,y){return function xl(m,d,f){return cn.apply(this,arguments)}(this._delegate,f,y||void 0)}setPersistence(f){var y=this;return(0,g.Z)(function*(){let T;switch(function zd(m,d){fu(Object.values(mr).includes(d),m,"invalid-persistence-type"),(0,P.b$)()?fu(d!==mr.SESSION,m,"unsupported-persistence-type"):(0,P.UG)()?fu(d===mr.NONE,m,"unsupported-persistence-type"):hu()?fu(d===mr.NONE||d===mr.LOCAL&&(0,P.hl)(),m,"unsupported-persistence-type"):fu(d===mr.NONE||Mc(),m,"unsupported-persistence-type")}(y._delegate,f),f){case mr.SESSION:T=Zr;break;case mr.LOCAL:T=(yield re(Ks)._isAvailable())?Ks:Do;break;case mr.NONE:T=kt;break;default:return Ie("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Zn(this._delegate,function Rd(m){return un.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Zn(this._delegate,on(this._delegate,f))}signInWithCustomToken(f){return Zn(this._delegate,function Ol(m,d){return mo.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,y){return Zn(this._delegate,function Kr(m,d,f){return on((0,P.m9)(m),qr.credential(d,f))}(this._delegate,f,y))}signInWithEmailLink(f,y){return Zn(this._delegate,function gf(m,d,f){return Eo.apply(this,arguments)}(this._delegate,f,y))}signInWithPhoneNumber(f,y){return Kd(this._delegate,function kd(m,d,f){return Fa.apply(this,arguments)}(this._delegate,f,y))}signInWithPopup(f){var y=this;return(0,g.Z)(function*(){return za(Pc(),y._delegate,"operation-not-supported-in-this-environment"),Zn(y._delegate,function Va(m,d,f){return xo.apply(this,arguments)}(y._delegate,f,Ii))})()}signInWithRedirect(f){var y=this;return(0,g.Z)(function*(){return za(Pc(),y._delegate,"operation-not-supported-in-this-environment"),yield pu(y._delegate),function fn(m,d,f){return function wc(m,d,f){return w.apply(this,arguments)}(m,d,f)}(y._delegate,f,Ii)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Fl(m,d){return lc.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=mr,m})();function om(m,d,f){let y=m;"function"!=typeof m&&({next:y,error:d,complete:f}=m);const T=y;return{next:q=>T(q&&Rr.getOrCreate(q)),error:d,complete:f}}function Zd(m,d){const f=function bs(m,d){const f=Lf();if(!f)return[];const y=An(Nc,m,d);switch(f.getItem(y)){case mr.NONE:return[kt];case mr.LOCAL:return[Ks,Zr];case mr.SESSION:return[Zr];default:return[]}}(m,d);if(typeof self<"u"&&!f.includes(Ks)&&f.push(Ks),typeof window<"u")for(const y of[Do,Zr])f.includes(y)||f.push(y);return f.includes(kt)||f.push(kt),f}class _u{constructor(){this.providerId="phone",this._delegate=new La(kc(X.Z.auth()))}static credential(d,f){return La.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}_u.PHONE_SIGN_IN_METHOD=La.PHONE_SIGN_IN_METHOD,_u.PROVIDER_ID=La.PROVIDER_ID;const Bf=U;class Yd{constructor(d,f,y=X.Z.app()){var T;Bf(null===(T=y.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new Ln(d,f,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function jf(m){m.INTERNAL.registerComponent(new oe.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),y=d.getProvider("auth");return new Uf(f,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:qr,FacebookAuthProvider:po,GithubAuthProvider:Ml,GoogleAuthProvider:ca,OAuthProvider:cs,SAMLAuthProvider:br,PhoneAuthProvider:_u,PhoneMultiFactorGenerator:$a,RecaptchaVerifier:Yd,TwitterAuthProvider:cr,Auth:Uf,AuthCredential:Bn,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.20")}(X.Z)},9751:(Qe,Ce,O)=>{O.d(Ce,{y:()=>ue});var g=O(930),X=O(727),P=O(8822),ie=O(9635),ne=O(2416),ce=O(576),oe=O(2806);let ue=(()=>{class Y{constructor(be){be&&(this._subscribe=be)}lift(be){const me=new Y;return me.source=this,me.operator=be,me}subscribe(be,me,$e){const pe=function j(Y){return Y&&Y instanceof g.Lv||function B(Y){return Y&&(0,ce.m)(Y.next)&&(0,ce.m)(Y.error)&&(0,ce.m)(Y.complete)}(Y)&&(0,X.Nn)(Y)}(be)?be:new g.Hp(be,me,$e);return(0,oe.x)(()=>{const{operator:he,source:je}=this;pe.add(he?he.call(pe,je):je?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(be){try{return this._subscribe(be)}catch(me){be.error(me)}}forEach(be,me){return new(me=de(me))(($e,pe)=>{const he=new g.Hp({next:je=>{try{be(je)}catch(Ke){pe(Ke),he.unsubscribe()}},error:pe,complete:$e});this.subscribe(he)})}_subscribe(be){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(be)}[P.L](){return this}pipe(...be){return(0,ie.U)(be)(this)}toPromise(be){return new(be=de(be))((me,$e)=>{let pe;this.subscribe(he=>pe=he,he=>$e(he),()=>me(pe))})}}return Y.create=Oe=>new Y(Oe),Y})();function de(Y){var Oe;return null!==(Oe=Y??ne.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(Qe,Ce,O)=>{O.d(Ce,{x:()=>oe});var g=O(9751),X=O(727);const ie=(0,O(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=O(8737),ce=O(2806);let oe=(()=>{class de extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Y=new ue(this,this);return Y.operator=j,Y}_throwIfClosed(){if(this.closed)throw new ie}next(j){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(j)}})}error(j){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Y}=this;for(;Y.length;)Y.shift().error(j)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Y,isStopped:Oe,observers:be}=this;return Y||Oe?X.Lc:(this.currentObservers=null,be.push(j),new X.w0(()=>{this.currentObservers=null,(0,ne.P)(be,j)}))}_checkFinalizedStatuses(j){const{hasError:Y,thrownError:Oe,isStopped:be}=this;Y?j.error(Oe):be&&j.complete()}asObservable(){const j=new g.y;return j.source=this,j}}return de.create=(B,j)=>new ue(B,j),de})();class ue extends oe{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Y||Y.call(j,B)}error(B){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Y||Y.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,Y;return null!==(Y=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==Y?Y:X.Lc}}},930:(Qe,Ce,O)=>{O.d(Ce,{Hp:()=>$e,Lv:()=>Y});var g=O(576),X=O(727),P=O(2416),ie=O(7849),ne=O(5032);const ce=de("C",void 0,void 0);function de(Ie,ge,ye){return{kind:Ie,value:ge,error:ye}}var B=O(3410),j=O(2806);class Y extends X.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,X.Nn)(ge)&&ge.add(this)):this.destination=Ke}static create(ge,ye,Ne){return new $e(ge,ye,Ne)}next(ge){this.isStopped?je(function ue(Ie){return de("N",Ie,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?je(function oe(Ie){return de("E",void 0,Ie)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?je(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function be(Ie,ge){return Oe.call(Ie,ge)}class me{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:ye}=this;if(ye.next)try{ye.next(ge)}catch(Ne){pe(Ne)}}error(ge){const{partialObserver:ye}=this;if(ye.error)try{ye.error(ge)}catch(Ne){pe(Ne)}else pe(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(ye){pe(ye)}}}class $e extends Y{constructor(ge,ye,Ne){let Fe;if(super(),(0,g.m)(ge)||!ge)Fe={next:ge??void 0,error:ye??void 0,complete:Ne??void 0};else{let U;this&&P.v.useDeprecatedNextContext?(U=Object.create(ge),U.unsubscribe=()=>this.unsubscribe(),Fe={next:ge.next&&be(ge.next,U),error:ge.error&&be(ge.error,U),complete:ge.complete&&be(ge.complete,U)}):Fe=ge}this.destination=new me(Fe)}}function pe(Ie){P.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ie):(0,ie.h)(Ie)}function je(Ie,ge){const{onStoppedNotification:ye}=P.v;ye&&B.z.setTimeout(()=>ye(Ie,ge))}const Ke={closed:!0,next:ne.Z,error:function he(Ie){throw Ie},complete:ne.Z}},727:(Qe,Ce,O)=>{O.d(Ce,{Lc:()=>ce,w0:()=>ne,Nn:()=>oe});var g=O(576);const P=(0,O(3888).d)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Y,Oe)=>`${Oe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ie=O(8737);class ne{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const be of j)be.remove(this);else j.remove(this);const{initialTeardown:Y}=this;if((0,g.m)(Y))try{Y()}catch(be){B=be instanceof P?be.errors:[be]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const be of Oe)try{ue(be)}catch(me){B=B??[],me instanceof P?B=[...B,...me.errors]:B.push(me)}}if(B)throw new P(B)}}add(B){var j;if(B&&B!==this)if(this.closed)ue(B);else{if(B instanceof ne){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,ie.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,ie.P)(j,B),B instanceof ne&&B._removeParent(this)}}ne.EMPTY=(()=>{const de=new ne;return de.closed=!0,de})();const ce=ne.EMPTY;function oe(de){return de instanceof ne||de&&"closed"in de&&(0,g.m)(de.remove)&&(0,g.m)(de.add)&&(0,g.m)(de.unsubscribe)}function ue(de){(0,g.m)(de)?de():de.unsubscribe()}},2416:(Qe,Ce,O)=>{O.d(Ce,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Qe,Ce,O)=>{O.d(Ce,{E:()=>X});const X=new(O(9751).y)(ne=>ne.complete())},8996:(Qe,Ce,O)=>{O.d(Ce,{D:()=>ge});var g=O(8421),X=O(5363),P=O(9468),ce=O(9751),ue=O(2202),de=O(576),B=O(9672);function Y(ye,Ne){if(!ye)throw new Error("Iterable cannot be null");return new ce.y(Fe=>{(0,B.f)(Fe,Ne,()=>{const U=ye[Symbol.asyncIterator]();(0,B.f)(Fe,Ne,()=>{U.next().then(fe=>{fe.done?Fe.complete():Fe.next(fe.value)})},0,!0)})})}var Oe=O(3670),be=O(8239),me=O(1144),$e=O(6495),pe=O(2206),he=O(4532),je=O(3260);function ge(ye,Ne){return Ne?function Ie(ye,Ne){if(null!=ye){if((0,Oe.c)(ye))return function ie(ye,Ne){return(0,g.Xf)(ye).pipe((0,P.R)(Ne),(0,X.Q)(Ne))}(ye,Ne);if((0,me.z)(ye))return function oe(ye,Ne){return new ce.y(Fe=>{let U=0;return Ne.schedule(function(){U===ye.length?Fe.complete():(Fe.next(ye[U++]),Fe.closed||this.schedule())})})}(ye,Ne);if((0,be.t)(ye))return function ne(ye,Ne){return(0,g.Xf)(ye).pipe((0,P.R)(Ne),(0,X.Q)(Ne))}(ye,Ne);if((0,pe.D)(ye))return Y(ye,Ne);if((0,$e.T)(ye))return function j(ye,Ne){return new ce.y(Fe=>{let U;return(0,B.f)(Fe,Ne,()=>{U=ye[ue.h](),(0,B.f)(Fe,Ne,()=>{let fe,Z;try{({value:fe,done:Z}=U.next())}catch(J){return void Fe.error(J)}Z?Fe.complete():Fe.next(fe)},0,!0)}),()=>(0,de.m)(U?.return)&&U.return()})}(ye,Ne);if((0,je.L)(ye))return function Ke(ye,Ne){return Y((0,je.Q)(ye),Ne)}(ye,Ne)}throw(0,he.z)(ye)}(ye,Ne):(0,g.Xf)(ye)}},8421:(Qe,Ce,O)=>{O.d(Ce,{Xf:()=>Oe});var g=O(655),X=O(1144),P=O(8239),ie=O(9751),ne=O(3670),ce=O(2206),oe=O(4532),ue=O(6495),de=O(3260),B=O(576),j=O(7849),Y=O(8822);function Oe(Ie){if(Ie instanceof ie.y)return Ie;if(null!=Ie){if((0,ne.c)(Ie))return function be(Ie){return new ie.y(ge=>{const ye=Ie[Y.L]();if((0,B.m)(ye.subscribe))return ye.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,X.z)(Ie))return function me(Ie){return new ie.y(ge=>{for(let ye=0;ye<Ie.length&&!ge.closed;ye++)ge.next(Ie[ye]);ge.complete()})}(Ie);if((0,P.t)(Ie))return function $e(Ie){return new ie.y(ge=>{Ie.then(ye=>{ge.closed||(ge.next(ye),ge.complete())},ye=>ge.error(ye)).then(null,j.h)})}(Ie);if((0,ce.D)(Ie))return he(Ie);if((0,ue.T)(Ie))return function pe(Ie){return new ie.y(ge=>{for(const ye of Ie)if(ge.next(ye),ge.closed)return;ge.complete()})}(Ie);if((0,de.L)(Ie))return function je(Ie){return he((0,de.Q)(Ie))}(Ie)}throw(0,oe.z)(Ie)}function he(Ie){return new ie.y(ge=>{(function Ke(Ie,ge){var ye,Ne,Fe,U;return(0,g.mG)(this,void 0,void 0,function*(){try{for(ye=(0,g.KL)(Ie);!(Ne=yield ye.next()).done;)if(ge.next(Ne.value),ge.closed)return}catch(fe){Fe={error:fe}}finally{try{Ne&&!Ne.done&&(U=ye.return)&&(yield U.call(ye))}finally{if(Fe)throw Fe.error}}ge.complete()})})(Ie,ge).catch(ye=>ge.error(ye))})}},6451:(Qe,Ce,O)=>{O.d(Ce,{T:()=>ce});var g=O(8189),X=O(8421),P=O(515),ie=O(7669),ne=O(8996);function ce(...oe){const ue=(0,ie.yG)(oe),de=(0,ie._6)(oe,1/0),B=oe;return B.length?1===B.length?(0,X.Xf)(B[0]):(0,g.J)(de)((0,ne.D)(B,ue)):P.E}},5403:(Qe,Ce,O)=>{O.d(Ce,{x:()=>X});var g=O(930);function X(ie,ne,ce,oe,ue){return new P(ie,ne,ce,oe,ue)}class P extends g.Lv{constructor(ne,ce,oe,ue,de,B){super(ne),this.onFinalize=de,this.shouldUnsubscribe=B,this._next=ce?function(j){try{ce(j)}catch(Y){ne.error(Y)}}:super._next,this._error=ue?function(j){try{ue(j)}catch(Y){ne.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(j){ne.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(Qe,Ce,O)=>{O.d(Ce,{U:()=>P});var g=O(4482),X=O(5403);function P(ie,ne){return(0,g.e)((ce,oe)=>{let ue=0;ce.subscribe((0,X.x)(oe,de=>{oe.next(ie.call(ne,de,ue++))}))})}},8189:(Qe,Ce,O)=>{O.d(Ce,{J:()=>P});var g=O(5577),X=O(4671);function P(ie=1/0){return(0,g.z)(X.y,ie)}},5577:(Qe,Ce,O)=>{O.d(Ce,{z:()=>ue});var g=O(4004),X=O(8421),P=O(4482),ie=O(9672),ne=O(5403),oe=O(576);function ue(de,B,j=1/0){return(0,oe.m)(B)?ue((Y,Oe)=>(0,g.U)((be,me)=>B(Y,be,Oe,me))((0,X.Xf)(de(Y,Oe))),j):("number"==typeof B&&(j=B),(0,P.e)((Y,Oe)=>function ce(de,B,j,Y,Oe,be,me,$e){const pe=[];let he=0,je=0,Ke=!1;const Ie=()=>{Ke&&!pe.length&&!he&&B.complete()},ge=Ne=>he<Y?ye(Ne):pe.push(Ne),ye=Ne=>{be&&B.next(Ne),he++;let Fe=!1;(0,X.Xf)(j(Ne,je++)).subscribe((0,ne.x)(B,U=>{Oe?.(U),be?ge(U):B.next(U)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(he--;pe.length&&he<Y;){const U=pe.shift();me?(0,ie.f)(B,me,()=>ye(U)):ye(U)}Ie()}catch(U){B.error(U)}}))};return de.subscribe((0,ne.x)(B,ge,()=>{Ke=!0,Ie()})),()=>{$e?.()}}(Y,Oe,de,j)))}},5363:(Qe,Ce,O)=>{O.d(Ce,{Q:()=>ie});var g=O(9672),X=O(4482),P=O(5403);function ie(ne,ce=0){return(0,X.e)((oe,ue)=>{oe.subscribe((0,P.x)(ue,de=>(0,g.f)(ue,ne,()=>ue.next(de),ce),()=>(0,g.f)(ue,ne,()=>ue.complete(),ce),de=>(0,g.f)(ue,ne,()=>ue.error(de),ce)))})}},3099:(Qe,Ce,O)=>{O.d(Ce,{B:()=>ne});var g=O(8421),X=O(7579),P=O(930),ie=O(4482);function ne(oe={}){const{connector:ue=(()=>new X.x),resetOnError:de=!0,resetOnComplete:B=!0,resetOnRefCountZero:j=!0}=oe;return Y=>{let Oe,be,me,$e=0,pe=!1,he=!1;const je=()=>{be?.unsubscribe(),be=void 0},Ke=()=>{je(),Oe=me=void 0,pe=he=!1},Ie=()=>{const ge=Oe;Ke(),ge?.unsubscribe()};return(0,ie.e)((ge,ye)=>{$e++,!he&&!pe&&je();const Ne=me=me??ue();ye.add(()=>{$e--,0===$e&&!he&&!pe&&(be=ce(Ie,j))}),Ne.subscribe(ye),!Oe&&$e>0&&(Oe=new P.Hp({next:Fe=>Ne.next(Fe),error:Fe=>{he=!0,je(),be=ce(Ke,de,Fe),Ne.error(Fe)},complete:()=>{pe=!0,je(),be=ce(Ke,B),Ne.complete()}}),(0,g.Xf)(ge).subscribe(Oe))})(Y)}}function ce(oe,ue,...de){if(!0===ue)return void oe();if(!1===ue)return;const B=new P.Hp({next:()=>{B.unsubscribe(),oe()}});return ue(...de).subscribe(B)}},9468:(Qe,Ce,O)=>{O.d(Ce,{R:()=>X});var g=O(4482);function X(P,ie=0){return(0,g.e)((ne,ce)=>{ce.add(P.schedule(()=>ne.subscribe(ce),ie))})}},8505:(Qe,Ce,O)=>{O.d(Ce,{b:()=>ne});var g=O(576),X=O(4482),P=O(5403),ie=O(4671);function ne(ce,oe,ue){const de=(0,g.m)(ce)||oe||ue?{next:ce,error:oe,complete:ue}:ce;return de?(0,X.e)((B,j)=>{var Y;null===(Y=de.subscribe)||void 0===Y||Y.call(de);let Oe=!0;B.subscribe((0,P.x)(j,be=>{var me;null===(me=de.next)||void 0===me||me.call(de,be),j.next(be)},()=>{var be;Oe=!1,null===(be=de.complete)||void 0===be||be.call(de),j.complete()},be=>{var me;Oe=!1,null===(me=de.error)||void 0===me||me.call(de,be),j.error(be)},()=>{var be,me;Oe&&(null===(be=de.unsubscribe)||void 0===be||be.call(de)),null===(me=de.finalize)||void 0===me||me.call(de)}))}):ie.y}},4408:(Qe,Ce,O)=>{O.d(Ce,{o:()=>ne});var g=O(727);class X extends g.w0{constructor(oe,ue){super()}schedule(oe,ue=0){return this}}const P={setInterval(ce,oe,...ue){const{delegate:de}=P;return de?.setInterval?de.setInterval(ce,oe,...ue):setInterval(ce,oe,...ue)},clearInterval(ce){const{delegate:oe}=P;return(oe?.clearInterval||clearInterval)(ce)},delegate:void 0};var ie=O(8737);class ne extends X{constructor(oe,ue){super(oe,ue),this.scheduler=oe,this.work=ue,this.pending=!1}schedule(oe,ue=0){var de;if(this.closed)return this;this.state=oe;const B=this.id,j=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(j,B,ue)),this.pending=!0,this.delay=ue,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(j,this.id,ue),this}requestAsyncId(oe,ue,de=0){return P.setInterval(oe.flush.bind(oe,this),de)}recycleAsyncId(oe,ue,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ue;null!=ue&&P.clearInterval(ue)}execute(oe,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(oe,ue);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,ue){let B,de=!1;try{this.work(oe)}catch(j){de=!0,B=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:oe,scheduler:ue}=this,{actions:de}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(de,this),null!=oe&&(this.id=this.recycleAsyncId(ue,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Qe,Ce,O)=>{O.d(Ce,{v:()=>P});var g=O(6063);class X{constructor(ne,ce=X.now){this.schedulerActionCtor=ne,this.now=ce}schedule(ne,ce=0,oe){return new this.schedulerActionCtor(this,ne).schedule(oe,ce)}}X.now=g.l.now;class P extends X{constructor(ne,ce=X.now){super(ne,ce),this.actions=[],this._active=!1}flush(ne){const{actions:ce}=this;if(this._active)return void ce.push(ne);let oe;this._active=!0;do{if(oe=ne.execute(ne.state,ne.delay))break}while(ne=ce.shift());if(this._active=!1,oe){for(;ne=ce.shift();)ne.unsubscribe();throw oe}}}},4986:(Qe,Ce,O)=>{O.d(Ce,{z:()=>P});var g=O(4408);const P=new(O(7565).v)(g.o)},6063:(Qe,Ce,O)=>{O.d(Ce,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(Qe,Ce,O)=>{O.d(Ce,{z:()=>g});const g={setTimeout(X,P,...ie){const{delegate:ne}=g;return ne?.setTimeout?ne.setTimeout(X,P,...ie):setTimeout(X,P,...ie)},clearTimeout(X){const{delegate:P}=g;return(P?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(Qe,Ce,O)=>{O.d(Ce,{h:()=>X});const X=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qe,Ce,O)=>{O.d(Ce,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Qe,Ce,O)=>{O.d(Ce,{_6:()=>ce,jO:()=>ie,yG:()=>ne});var g=O(576);function P(oe){return oe[oe.length-1]}function ie(oe){return(0,g.m)(P(oe))?oe.pop():void 0}function ne(oe){return function X(oe){return oe&&(0,g.m)(oe.schedule)}(P(oe))?oe.pop():void 0}function ce(oe,ue){return"number"==typeof P(oe)?oe.pop():ue}},8737:(Qe,Ce,O)=>{function g(X,P){if(X){const ie=X.indexOf(P);0<=ie&&X.splice(ie,1)}}O.d(Ce,{P:()=>g})},3888:(Qe,Ce,O)=>{function g(X){const ie=X(ne=>{Error.call(ne),ne.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}O.d(Ce,{d:()=>g})},2806:(Qe,Ce,O)=>{O.d(Ce,{O:()=>ie,x:()=>P});var g=O(2416);let X=null;function P(ne){if(g.v.useDeprecatedSynchronousErrorHandling){const ce=!X;if(ce&&(X={errorThrown:!1,error:null}),ne(),ce){const{errorThrown:oe,error:ue}=X;if(X=null,oe)throw ue}}else ne()}function ie(ne){g.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ne)}},9672:(Qe,Ce,O)=>{function g(X,P,ie,ne=0,ce=!1){const oe=P.schedule(function(){ie(),ce?X.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(X.add(oe),!ce)return oe}O.d(Ce,{f:()=>g})},4671:(Qe,Ce,O)=>{function g(X){return X}O.d(Ce,{y:()=>g})},1144:(Qe,Ce,O)=>{O.d(Ce,{z:()=>g});const g=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(Qe,Ce,O)=>{O.d(Ce,{D:()=>X});var g=O(576);function X(P){return Symbol.asyncIterator&&(0,g.m)(P?.[Symbol.asyncIterator])}},576:(Qe,Ce,O)=>{function g(X){return"function"==typeof X}O.d(Ce,{m:()=>g})},3670:(Qe,Ce,O)=>{O.d(Ce,{c:()=>P});var g=O(8822),X=O(576);function P(ie){return(0,X.m)(ie[g.L])}},6495:(Qe,Ce,O)=>{O.d(Ce,{T:()=>P});var g=O(2202),X=O(576);function P(ie){return(0,X.m)(ie?.[g.h])}},8239:(Qe,Ce,O)=>{O.d(Ce,{t:()=>X});var g=O(576);function X(P){return(0,g.m)(P?.then)}},3260:(Qe,Ce,O)=>{O.d(Ce,{L:()=>ie,Q:()=>P});var g=O(655),X=O(576);function P(ne){return(0,g.FC)(this,arguments,function*(){const oe=ne.getReader();try{for(;;){const{value:ue,done:de}=yield(0,g.qq)(oe.read());if(de)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ue)}}finally{oe.releaseLock()}})}function ie(ne){return(0,X.m)(ne?.getReader)}},4482:(Qe,Ce,O)=>{O.d(Ce,{A:()=>X,e:()=>P});var g=O(576);function X(ie){return(0,g.m)(ie?.lift)}function P(ie){return ne=>{if(X(ne))return ne.lift(function(ce){try{return ie(ce,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Qe,Ce,O)=>{function g(){}O.d(Ce,{Z:()=>g})},9635:(Qe,Ce,O)=>{O.d(Ce,{U:()=>P,z:()=>X});var g=O(4671);function X(...ie){return P(ie)}function P(ie){return 0===ie.length?g.y:1===ie.length?ie[0]:function(ce){return ie.reduce((oe,ue)=>ue(oe),ce)}}},7849:(Qe,Ce,O)=>{O.d(Ce,{h:()=>P});var g=O(2416),X=O(3410);function P(ie){X.z.setTimeout(()=>{const{onUnhandledError:ne}=g.v;if(!ne)throw ie;ne(ie)})}},4532:(Qe,Ce,O)=>{function g(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ce,{z:()=>g})},655:(Qe,Ce,O)=>{function ie(Z,J){var re={};for(var te in Z)Object.prototype.hasOwnProperty.call(Z,te)&&J.indexOf(te)<0&&(re[te]=Z[te]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Ae=0;for(te=Object.getOwnPropertySymbols(Z);Ae<te.length;Ae++)J.indexOf(te[Ae])<0&&Object.prototype.propertyIsEnumerable.call(Z,te[Ae])&&(re[te[Ae]]=Z[te[Ae]])}return re}function ue(Z,J,re,te){return new(re||(re=Promise))(function(Se,et){function Tt(jt){try{Ue(te.next(jt))}catch(mn){et(mn)}}function vt(jt){try{Ue(te.throw(jt))}catch(mn){et(mn)}}function Ue(jt){jt.done?Se(jt.value):function Ae(Se){return Se instanceof re?Se:new re(function(et){et(Se)})}(jt.value).then(Tt,vt)}Ue((te=te.apply(Z,J||[])).next())})}function pe(Z){return this instanceof pe?(this.v=Z,this):new pe(Z)}function he(Z,J,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,te=re.apply(Z,J||[]),Se=[];return Ae={},et("next"),et("throw"),et("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae;function et(Rt){te[Rt]&&(Ae[Rt]=function(Mt){return new Promise(function(Yn,ft){Se.push([Rt,Mt,Yn,ft])>1||Tt(Rt,Mt)})})}function Tt(Rt,Mt){try{!function vt(Rt){Rt.value instanceof pe?Promise.resolve(Rt.value.v).then(Ue,jt):mn(Se[0][2],Rt)}(te[Rt](Mt))}catch(Yn){mn(Se[0][3],Yn)}}function Ue(Rt){Tt("next",Rt)}function jt(Rt){Tt("throw",Rt)}function mn(Rt,Mt){Rt(Mt),Se.shift(),Se.length&&Tt(Se[0][0],Se[0][1])}}function Ke(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,J=Z[Symbol.asyncIterator];return J?J.call(Z):(Z=function Y(Z){var J="function"==typeof Symbol&&Symbol.iterator,re=J&&Z[J],te=0;if(re)return re.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&te>=Z.length&&(Z=void 0),{value:Z&&Z[te++],done:!Z}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),re={},te("next"),te("throw"),te("return"),re[Symbol.asyncIterator]=function(){return this},re);function te(Se){re[Se]=Z[Se]&&function(et){return new Promise(function(Tt,vt){!function Ae(Se,et,Tt,vt){Promise.resolve(vt).then(function(Ue){Se({value:Ue,done:Tt})},et)}(Tt,vt,(et=Z[Se](et)).done,et.value)})}}}O.d(Ce,{FC:()=>he,KL:()=>Ke,_T:()=>ie,mG:()=>ue,qq:()=>pe})},4650:(Qe,Ce,O)=>{O.d(Ce,{$8M:()=>xa,$Z:()=>v0,AFp:()=>ew,AaK:()=>ue,CRH:()=>X_,CZH:()=>ef,CqO:()=>lo,D6c:()=>Mi,EJc:()=>ay,F4k:()=>pE,FYo:()=>Re,FiY:()=>ke,G48:()=>ID,GfV:()=>Tn,Gpc:()=>j,JOm:()=>As,LFG:()=>fn,LSH:()=>xf,Lbi:()=>aD,Lck:()=>hC,MMx:()=>fd,NdJ:()=>Ji,OlP:()=>Yt,PXZ:()=>yD,QGY:()=>sd,QP$:()=>Wr,Qsj:()=>He,R0b:()=>si,RDi:()=>By,Rgc:()=>pd,SBq:()=>M,Sil:()=>hD,Suo:()=>$h,TTD:()=>di,X6Q:()=>wD,XFs:()=>Be,Xpm:()=>$,Xts:()=>Mc,Y36:()=>Tu,YKP:()=>dl,Yjl:()=>Et,Yz7:()=>Mt,Z0I:()=>ks,ZZ4:()=>Iy,_Bn:()=>U_,_UZ:()=>Hn,_Vd:()=>f,_c5:()=>yl,aQg:()=>xg,c2e:()=>uD,cJS:()=>ft,cg1:()=>w_,dDg:()=>gl,dqk:()=>Gt,eFA:()=>sf,ekj:()=>xp,eoX:()=>rf,f3M:()=>w,g9A:()=>wg,h0i:()=>cl,hGG:()=>vr,iGM:()=>UC,ifc:()=>Ze,ip1:()=>iy,jDz:()=>pC,kL8:()=>YE,lG2:()=>An,lqb:()=>no,lri:()=>$r,n5z:()=>_i,oAB:()=>Ye,q4F:()=>ti,qLn:()=>Jd,qOj:()=>e_,rWj:()=>nf,sBO:()=>DD,sIi:()=>Eh,s_b:()=>cg,soG:()=>Ig,tb:()=>tw,tp0:()=>it,uIk:()=>t_,vHH:()=>me,vpe:()=>Os,wAp:()=>Pe,z2F:()=>Rg,zSh:()=>gu,zs3:()=>qo});var g=O(7579),X=O(727),P=O(9751),ie=O(6451),ne=O(3099);function ce(r){for(let i in r)if(r[i]===ce)return i;throw Error("Could not find renamed property on target object.")}function oe(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function ue(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ue).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function de(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const B=ce({__forward_ref__:ce});function j(r){return r.__forward_ref__=j,r.toString=function(){return ue(this())},r}function Y(r){return Oe(r)?r():r}function Oe(r){return"function"==typeof r&&r.hasOwnProperty(B)&&r.__forward_ref__===j}class me extends Error{constructor(i,o){super(function $e(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function pe(r){return"string"==typeof r?r:null==r?"":String(r)}function ge(r,i){throw new me(-201,!1)}function vt(r,i){null==r&&function Ue(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function Mt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ft(r){return{providers:r.providers||[],imports:r.imports||[]}}function Vt(r){return sr(r,Gr)||sr(r,wr)}function ks(r){return null!==Vt(r)}function sr(r,i){return r.hasOwnProperty(i)?r[i]:null}function Ni(r){return r&&(r.hasOwnProperty(ar)||r.hasOwnProperty(Fs))?r[ar]:null}const Gr=ce({\u0275prov:ce}),ar=ce({\u0275inj:ce}),wr=ce({ngInjectableDef:ce}),Fs=ce({ngInjectorDef:ce});var Be=(()=>((Be=Be||{})[Be.Default=0]="Default",Be[Be.Host=1]="Host",Be[Be.Self=2]="Self",Be[Be.SkipSelf=4]="SkipSelf",Be[Be.Optional=8]="Optional",Be))();let lr;function _n(r){const i=lr;return lr=r,i}function Ir(r,i,o){const l=Vt(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Be.Optional?null:void 0!==i?i:void ge(ue(r))}function yn(r){return{toString:r}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),Ze=(()=>{return(r=Ze||(Ze={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Ze;var r})();const Gt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Qn={},lt=[],li=ce({\u0275cmp:ce}),xt=ce({\u0275dir:ce}),kr=ce({\u0275pipe:ce}),Pt=ce({\u0275mod:ce}),z=ce({\u0275fac:ce}),H=ce({__NG_ELEMENT_ID__:ce});let V=0;function $(r){return yn(()=>{const o=!0===r.standalone,l={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||lt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Ze.Emulated,id:"c"+V++,styles:r.styles||lt,_:null,setInput:null,schemas:r.schemas||null,tView:null},h=r.dependencies,_=r.features;return u.inputs=kt(r.inputs,l),u.outputs=kt(r.outputs),_&&_.forEach(E=>E(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(ve).filter(xe):null,u.pipeDefs=h?()=>("function"==typeof h?h():h).map(wn).filter(xe):null,u})}function ve(r){return pt(r)||en(r)}function xe(r){return null!==r}function Ye(r){return yn(()=>({type:r.type,bootstrap:r.bootstrap||lt,declarations:r.declarations||lt,imports:r.imports||lt,exports:r.exports||lt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function kt(r,i){if(null==r)return Qn;const o={};for(const l in r)if(r.hasOwnProperty(l)){let u=r[l],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=l,i&&(i[u]=h)}return o}const An=$;function Et(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function pt(r){return r[li]||null}function en(r){return r[xt]||null}function wn(r){return r[kr]||null}function Wr(r){const i=pt(r)||en(r)||wn(r);return null!==i&&i.standalone}function Jn(r,i){const o=r[Pt]||null;if(!o&&!0===i)throw new Error(`Type ${ue(r)} does not have '\u0275mod' property.`);return o}function kn(r){return Array.isArray(r)&&"object"==typeof r[1]}function Xn(r){return Array.isArray(r)&&!0===r[1]}function la(r){return 0!=(8&r.flags)}function fo(r){return 2==(2&r.flags)}function Tl(r){return 1==(1&r.flags)}function zn(r){return null!==r.template}function Dd(r){return 0!=(256&r[2])}function qr(r,i){return r.hasOwnProperty(z)?r[z]:null}class ci{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function di(){return cs}function cs(r){return r.type.prototype.ngOnChanges&&(r.setInput=ca),po}function po(){const r=Sd(this),i=r?.current;if(i){const o=r.previous;if(o===Qn)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function ca(r,i,o,l){const u=Sd(r)||function go(r,i){return r[Ml]=i}(r,{previous:Qn,current:null}),h=u.current||(u.current={}),_=u.previous,E=this.declaredInputs[o],C=_[E];h[E]=new ci(C&&C.currentValue,i,_===Qn),r[l]=i}di.ngInherit=!0;const Ml="__ngSimpleChanges__";function Sd(r){return r[Ml]||null}function un(r){for(;Array.isArray(r);)r=r[0];return r}function er(r,i){return un(i[r.index])}function Bs(r,i){return r.data[i]}function St(r,i){const o=i[r];return kn(o)?o:o[0]}function ds(r){return 64==(64&r[2])}function Vr(r,i){return null==i?null:r[i]}function ga(r){r[18]=0}function on(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const ut={lFrame:Hl(null),bindingsEnabled:!0};function pi(){return ut.bindingsEnabled}function we(){return ut.lFrame.lView}function Ct(){return ut.lFrame.tView}function cn(){let r=va();for(;null!==r&&64===r.type;)r=r.parent;return r}function va(){return ut.lFrame.currentTNode}function Sr(r,i){const o=ut.lFrame;o.currentTNode=r,o.isParent=i}function _o(){return ut.lFrame.isParent}function mf(r,i){const o=ut.lFrame;o.bindingIndex=o.bindingRootIndex=r,Ea(i)}function Ea(r){ut.lFrame.currentDirectiveIndex=r}function Ul(){return ut.lFrame.currentQueryIndex}function wo(r){ut.lFrame.currentQueryIndex=r}function Bl(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Ca(r,i,o){if(o&Be.SkipSelf){let u=i,h=r;for(;!(u=u.parent,null!==u||o&Be.Host||(u=Bl(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;i=u,r=h}const l=ut.lFrame=jl();return l.currentTNode=i,l.lView=r,!0}function wa(r){const i=jl(),o=r[1];ut.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function jl(){const r=ut.lFrame,i=null===r?null:r.child;return null===i?Hl(r):i}function Hl(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function $l(){const r=ut.lFrame;return ut.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const uc=$l;function fs(){const r=$l();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Pn(){return ut.lFrame.selectedIndex}function dr(r){ut.lFrame.selectedIndex=r}function zl(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:R}=h;_&&(r.contentHooks||(r.contentHooks=[])).push(-o,_),E&&((r.contentHooks||(r.contentHooks=[])).push(o,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,E)),C&&(r.viewHooks||(r.viewHooks=[])).push(-o,C),b&&((r.viewHooks||(r.viewHooks=[])).push(o,b),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,b)),null!=R&&(r.destroyHooks||(r.destroyHooks=[])).push(o,R)}}function Hs(r,i,o){Gs(r,i,3,o)}function $s(r,i,o,l){(3&r[2])===o&&Gs(r,i,o,l)}function hc(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Gs(r,i,o,l){const h=l??-1,_=i.length-1;let E=0;for(let C=void 0!==l?65535&r[18]:0;C<_;C++)if("number"==typeof i[C+1]){if(E=i[C],null!=l&&E>=l)break}else i[C]<0&&(r[18]+=65536),(E<h||-1==h)&&(fc(r,o,i,C),r[18]=(4294901760&r[18])+C+2),C++}function fc(r,i,o,l){const u=o[l]<0,h=o[l+1],E=r[u?-o[l]:o[l]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(E)}finally{}}}else try{h.call(E)}finally{}}class ji{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function zs(r,i,o){let l=0;for(;l<o.length;){const u=o[l];if("number"==typeof u){if(0!==u)break;l++;const h=o[l++],_=o[l++],E=o[l++];r.setAttribute(i,_,E,h)}else{const h=u,_=o[++l];Aa(h)?r.setProperty(i,h,_):r.setAttribute(i,h,_),l++}}return l}function ms(r){return 3===r||4===r||6===r}function Aa(r){return 64===r.charCodeAt(0)}function Io(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const u=i[l];"number"==typeof u?o=u:0===o||gc(r,o,u,null,-1===o||2===o?i[++l]:null)}}return r}function gc(r,i,o,l,u){let h=0,_=r.length;if(-1===i)_=-1;else for(;h<r.length;){const E=r[h++];if("number"==typeof E){if(E===i){_=-1;break}if(E>i){_=h-1;break}}}for(;h<r.length;){const E=r[h];if("number"==typeof E)break;if(E===o){if(null===l)return void(null!==u&&(r[h+1]=u));if(l===r[h+1])return void(r[h+2]=u)}h++,null!==l&&h++,null!==u&&h++}-1!==_&&(r.splice(_,0,i),h=_+1),r.splice(h++,0,o),null!==l&&r.splice(h++,0,l),null!==u&&r.splice(h++,0,u)}function mc(r){return-1!==r}function Fn(r){return 32767&r}function bo(r,i){let o=function Do(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let Zr=!0;function To(r){const i=Zr;return Zr=r,i}let vn=0;const Ur={};function _s(r,i){const o=Ma(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,Ao(l.data,r),Ao(i,null),Ao(l.blueprint,null));const u=Pa(r,i),h=r.injectorIndex;if(mc(u)){const _=Fn(u),E=bo(u,i),C=E[1].data;for(let b=0;b<8;b++)i[h+b]=E[_+b]|C[_+b]}return i[h+8]=u,h}function Ao(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Ma(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Pa(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,u=i;for(;null!==u;){if(l=Zs(u),null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Hi(r,i,o){!function Ra(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(H)&&(l=o[H]),null==l&&(l=o[H]=vn++);const u=255&l;i.data[r+(u>>5)]|=1<<u}(r,i,o)}function $i(r,i,o){if(o&Be.Optional||void 0!==r)return r;ge()}function Kl(r,i,o,l){if(o&Be.Optional&&void 0===l&&(l=null),0==(o&(Be.Self|Be.Host))){const u=r[9],h=_n(void 0);try{return u?u.get(i,l,o&Be.Optional):Ir(i,l,o&Be.Optional)}finally{_n(h)}}return $i(l,0,o)}function ys(r,i,o,l=Be.Default,u){if(null!==r){if(1024&i[2]){const _=function Ks(r,i,o,l,u){let h=r,_=i;for(;null!==h&&null!==_&&1024&_[2]&&!(256&_[2]);){const E=Ro(h,_,o,l|Be.Self,Ur);if(E!==Ur)return E;let C=h.parent;if(!C){const b=_[21];if(b){const R=b.get(o,Ur,l);if(R!==Ur)return R}C=Zs(_),_=_[15]}h=C}return u}(r,i,o,l,Ur);if(_!==Ur)return _}const h=Ro(r,i,o,l,Ur);if(h!==Ur)return h}return Kl(i,o,l,u)}function Ro(r,i,o,l,u){const h=function Zl(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(H)?r[H]:void 0;return"number"==typeof i?i>=0?255&i:Yl:i}(o);if("function"==typeof h){if(!Ca(i,r,l))return l&Be.Host?$i(u,0,l):Kl(i,o,l,u);try{const _=h(l);if(null!=_||l&Be.Optional)return _;ge()}finally{uc()}}else if("number"==typeof h){let _=null,E=Ma(r,i),C=-1,b=l&Be.Host?i[16][6]:null;for((-1===E||l&Be.SkipSelf)&&(C=-1===E?Pa(r,i):i[E+8],-1!==C&&Mo(l,!1)?(_=i[1],E=Fn(C),i=bo(C,i)):E=-1);-1!==E;){const R=i[1];if(Oa(h,E,R.data)){const N=vc(E,i,o,_,l,b);if(N!==Ur)return N}C=i[E+8],-1!==C&&Mo(l,i[1].data[E+8]===b)&&Oa(h,E,i)?(_=R,E=Fn(C),i=bo(C,i)):E=-1}}return u}function vc(r,i,o,l,u,h){const _=i[1],E=_.data[r+8],R=qs(E,_,o,null==l?fo(E)&&Zr:l!=_&&0!=(3&E.type),u&Be.Host&&h===E);return null!==R?mi(i,_,R,E):Ur}function qs(r,i,o,l,u){const h=r.providerIndexes,_=i.data,E=1048575&h,C=r.directiveStart,R=h>>20,G=u?E+R:r.directiveEnd;for(let ee=l?E:E+R;ee<G;ee++){const _e=_[ee];if(ee<C&&o===_e||ee>=C&&_e.type===o)return ee}if(u){const ee=_[C];if(ee&&zn(ee)&&ee.type===o)return C}return null}function mi(r,i,o,l){let u=r[o];const h=i.data;if(function gs(r){return r instanceof ji}(u)){const _=u;_.resolving&&function je(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new me(-200,`Circular dependency in DI detected for ${r}${o}`)}(function he(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():pe(r)}(h[o]));const E=To(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?_n(_.injectImpl):null;Ca(r,l,Be.Default);try{u=r[o]=_.factory(void 0,h,r,l),i.firstCreatePass&&o>=l.directiveStart&&function dc(r,i,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(l){const _=cs(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,_)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==C&&_n(C),To(E),_.resolving=!1,uc()}}return u}function Oa(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Mo(r,i){return!(r&Be.Self||r&Be.Host&&i)}class vs{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return ys(this._tNode,this._lView,i,l,o)}}function Yl(){return new vs(cn(),we())}function _i(r){return yn(()=>{const i=r.prototype.constructor,o=i[z]||Na(i),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const h=u[z]||Na(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Na(r){return Oe(r)?()=>{const i=Na(Y(r));return i&&i()}:qr(r)}function Zs(r){const i=r[1],o=i.type;return 2===o?i.declTNode:1===o?r[6]:null}function xa(r){return function yc(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const h=o[u];if(ms(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(h===i)return o[u+1];u+=2}}}return null}(cn(),r)}const Gi="__parameters__";function Js(r,i,o){return yn(()=>{const l=function ka(r){return function(...o){if(r){const l=r(...o);for(const u in l)this[u]=l[u]}}}(i);function u(...h){if(this instanceof u)return l.apply(this,h),this;const _=new u(...h);return E.annotation=_,E;function E(C,b,R){const N=C.hasOwnProperty(Gi)?C[Gi]:Object.defineProperty(C,Gi,{value:[]})[Gi];for(;N.length<=R;)N.push(null);return(N[R]=N[R]||[]).push(_),C}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class Yt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Mt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fr(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(i===r&&(i=r.slice(0,o)),fr(l,i)):i!==r&&i.push(l)}return i}function Br(r,i){r.forEach(o=>Array.isArray(o)?Br(o,i):i(o))}function Jl(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Xs(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function tr(r,i,o){let l=yi(r,i);return l>=0?r[1|l]=o:(l=~l,function ct(r,i,o,l){let u=r.length;if(u==i)r.push(o,l);else if(1===u)r.push(l,r[0]),r[0]=o;else{for(u--,r.push(r[u-1],r[u]);u>i;)r[u]=r[u-2],u--;r[i]=o,r[i+1]=l}}(r,l,i,o)),l}function No(r,i){const o=yi(r,i);if(o>=0)return r[1|o]}function yi(r,i){return function nr(r,i,o){let l=0,u=r.length>>o;for(;u!==l;){const h=l+(u-l>>1),_=r[h<<o];if(i===_)return h<<o;_>i?u=h:l=h+1}return~(u<<o)}(r,i,1)}const Qt={},Jr="__NG_DI_FLAG__",Ua="ngTempTokenPath",Ba=/\n/gm,eu="__source";let ws;function vi(r){const i=ws;return ws=r,i}function tu(r,i=Be.Default){if(void 0===ws)throw new me(-203,!1);return null===ws?Ir(r,void 0,i):ws.get(r,i&Be.Optional?null:void 0,i)}function fn(r,i=Be.Default){return(function ai(){return lr}()||tu)(Y(r),i)}function w(r,i=Be.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),fn(r,i)}function D(r){const i=[];for(let o=0;o<r.length;o++){const l=Y(r[o]);if(Array.isArray(l)){if(0===l.length)throw new me(900,!1);let u,h=Be.Default;for(let _=0;_<l.length;_++){const E=l[_],C=L(E);"number"==typeof C?-1===C?u=E.token:h|=C:u=E}i.push(fn(u,h))}else i.push(fn(l))}return i}function A(r,i){return r[Jr]=i,r.prototype[Jr]=i,r}function L(r){return r[Jr]}const ke=A(Js("Optional"),8),it=A(Js("SkipSelf"),4);let Cf;function By(r){Cf=r}class Ha{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function wi(r){return r instanceof Ha?r.changingThisBreaksApplicationSecurity:r}const Bd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Un=(()=>((Un=Un||{})[Un.NONE=0]="NONE",Un[Un.HTML=1]="HTML",Un[Un.STYLE=2]="STYLE",Un[Un.SCRIPT=3]="SCRIPT",Un[Un.URL=4]="URL",Un[Un.RESOURCE_URL=5]="RESOURCE_URL",Un))();function xf(r){const i=function du(){const r=we();return r&&r[12]}();return i?i.sanitize(Un.URL,r)||"":function $a(r,i){const o=function Dc(r){return r instanceof Ha&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?wi(r):function to(r){return(r=String(r)).match(Bd)?r:"unsafe:"+r}(pe(r))}const Mc=new Yt("ENVIRONMENT_INITIALIZER"),hu=new Yt("INJECTOR",-1),Pc=new Yt("INJECTOR_DEF_TYPES");class kf{get(i,o=Qt){if(o===Qt){const l=new Error(`NullInjectorError: No provider for ${ue(i)}!`);throw l.name="NullInjectorError",l}return o}}function Ff(...r){return{\u0275providers:Oc(0,r)}}function Oc(r,...i){const o=[],l=new Set;let u;return Br(i,h=>{const _=h;mr(_,o,[],l)&&(u||(u=[]),u.push(_))}),void 0!==u&&Wd(u,o),o}function Wd(r,i){for(let o=0;o<r.length;o++){const{providers:u}=r[o];Br(u,h=>{i.push(h)})}}function mr(r,i,o,l){if(!(r=Y(r)))return!1;let u=null,h=Ni(r);const _=!h&&pt(r);if(h||_){if(_&&!_.standalone)return!1;u=r}else{const C=r.ngModule;if(h=Ni(C),!h)return!1;u=C}const E=l.has(u);if(_){if(E)return!1;if(l.add(u),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const b of C)mr(b,i,o,l)}}else{if(!h)return!1;{if(null!=h.imports&&!E){let b;l.add(u);try{Br(h.imports,R=>{mr(R,i,o,l)&&(b||(b=[]),b.push(R))})}finally{}void 0!==b&&Wd(b,i)}if(!E){const b=qr(u)||(()=>new u);i.push({provide:u,useFactory:b,deps:lt},{provide:Pc,useValue:u,multi:!0},{provide:Mc,useValue:()=>fn(u),multi:!0})}const C=h.providers;null==C||E||Br(C,R=>{i.push(R)})}}return u!==r&&void 0!==r.providers}const Nc=ce({provide:String,useValue:ce});function zd(r){return null!==r&&"object"==typeof r&&Nc in r}function bs(r){return"function"==typeof r}const gu=new Yt("Set Injector scope."),Ii={},kc={};let Fc;function Lc(){return void 0===Fc&&(Fc=new kf),Fc}class no{}class qd extends no{constructor(i,o,l,u){super(),this.parent=o,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_u(i,_=>this.processProvider(_)),this.records.set(hu,Rr(void 0,this)),u.has("environment")&&this.records.set(no,Rr(void 0,this));const h=this.records.get(gu);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Pc.multi,lt,Be.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=vi(this),l=_n(void 0);try{return i()}finally{vi(o),_n(l)}}get(i,o=Qt,l=Be.Default){this.assertNotDestroyed();const u=vi(this),h=_n(void 0);try{if(!(l&Be.SkipSelf)){let E=this.records.get(i);if(void 0===E){const C=function om(r){return"function"==typeof r||"object"==typeof r&&r instanceof Yt}(i)&&Vt(i);E=C&&this.injectableDefInScope(C)?Rr(Zn(i),Ii):null,this.records.set(i,E)}if(null!=E)return this.hydrate(i,E)}return(l&Be.Self?Lc():this.parent).get(i,o=l&Be.Optional&&o===Qt?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[Ua]=_[Ua]||[]).unshift(ue(i)),u)throw _;return function Q(r,i,o,l){const u=r[Ua];throw i[eu]&&u.unshift(i[eu]),r.message=function se(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=ue(i);if(Array.isArray(i))u=i.map(ue).join(" -> ");else if("object"==typeof i){let h=[];for(let _ in i)if(i.hasOwnProperty(_)){let E=i[_];h.push(_+":"+("string"==typeof E?JSON.stringify(E):ue(E)))}u=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${r.replace(Ba,"\n  ")}`}("\n"+r.message,u,o,l),r.ngTokenPath=u,r[Ua]=null,r}(_,i,"R3InjectorError",this.source)}throw _}finally{_n(h),vi(u)}}resolveInjectorInitializers(){const i=vi(this),o=_n(void 0);try{const l=this.get(Mc.multi,lt,Be.Self);for(const u of l)u()}finally{vi(i),_n(o)}}toString(){const i=[],o=this.records;for(const l of o.keys())i.push(ue(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(i){let o=bs(i=Y(i))?i:Y(i&&i.provide);const l=function mu(r){return zd(r)?Rr(void 0,r.useValue):Rr(Vf(r),Ii)}(i);if(bs(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=Rr(void 0,Ii,!0),u.factory=()=>D(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,l)}hydrate(i,o){return o.value===Ii&&(o.value=kc,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Uf(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Y(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Zn(r){const i=Vt(r),o=null!==i?i.factory:qr(r);if(null!==o)return o;if(r instanceof Yt)throw new me(204,!1);if(r instanceof Function)return function Kd(r){const i=r.length;if(i>0)throw function Ar(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}(i,"?"),new me(204,!1);const o=function Wn(r){const i=r&&(r[Gr]||r[wr]);if(i){const o=function or(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new me(204,!1)}function Vf(r,i,o){let l;if(bs(r)){const u=Y(r);return qr(u)||Zn(u)}if(zd(r))l=()=>Y(r.useValue);else if(function xc(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...D(r.deps||[]));else if(function pu(r){return!(!r||!r.useExisting)}(r))l=()=>fn(Y(r.useExisting));else{const u=Y(r&&(r.useClass||r.provide));if(!function za(r){return!!r.deps}(r))return qr(u)||Zn(u);l=()=>new u(...D(r.deps))}return l}function Rr(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function Zd(r){return!!r.\u0275providers}function _u(r,i){for(const o of r)Array.isArray(o)?_u(o,i):Zd(o)?_u(o.\u0275providers,i):i(o)}class Yd{}class d{resolveComponentFactory(i){throw function jo(r){const i=Error(`No component factory found for ${ue(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let f=(()=>{class r{}return r.NULL=new d,r})();function y(){return T(cn(),we())}function T(r,i){return new M(er(r,i))}let M=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=y,r})();function q(r){return r instanceof M?r.nativeElement:r}class Re{}let He=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function st(){const r=we(),o=St(cn().index,r);return(kn(o)?o:r)[11]}(),r})(),rt=(()=>{class r{}return r.\u0275prov=Mt({token:r,providedIn:"root",factory:()=>null}),r})();class Tn{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ti=new Tn("14.2.5"),Ho={};function qa(r){return r.ngOriginalError}class Jd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&qa(i);for(;o&&qa(o);)o=qa(o);return o||null}}const Xd=new Map;let eh=0;const Ts="__ngContext__";function Wt(r,i){kn(i)?(r[Ts]=i[20],function Jy(r){Xd.set(r[20],r)}(i)):r[Ts]=i}function Di(r){return r instanceof Function?r():r}var As=(()=>((As=As||{})[As.Important=1]="Important",As[As.DashCase=2]="DashCase",As))();function nv(r,i){return undefined(r,i)}function nh(r){const i=r[3];return Xn(i)?i[3]:i}function qf(r){return vm(r[13])}function ym(r){return vm(r[4])}function vm(r){for(;null!==r&&!Xn(r);)r=r[4];return r}function Eu(r,i,o,l,u){if(null!=l){let h,_=!1;Xn(l)?h=l:kn(l)&&(_=!0,l=l[0]);const E=un(l);0===r&&null!==o?null==u?Cm(i,o,E):Ya(i,o,E,u||null,!0):1===r&&null!==o?Ya(i,o,E,u||null,!0):2===r?function e0(r,i,o){const l=Iu(r,i);l&&function Jw(r,i,o,l){r.removeChild(i,o,l)}(r,l,i,o)}(i,E,_):3===r&&i.destroyNode(E),null!=h&&function lh(r,i,o,l,u){const h=o[7];h!==un(o)&&Eu(i,r,l,h,u);for(let E=10;E<o.length;E++){const C=o[E];ah(C[1],C,r,i,l,h)}}(i,r,h,o,u)}}function wt(r,i,o){return r.createElement(i,o)}function sv(r,i){const o=r[9],l=o.indexOf(i),u=i[3];512&i[2]&&(i[2]&=-513,on(u,-1)),o.splice(l,1)}function jc(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const u=l[17];null!==u&&u!==r&&sv(u,l),i>0&&(r[o-1][4]=l[4]);const h=Xs(r,10+i);!function ih(r,i){ah(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const _=h[19];null!==_&&_.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Hc(r,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&ah(r,i,o,3,null,null),function Yw(r){let i=r[13];if(!i)return Zf(r[1],r);for(;i;){let o=null;if(kn(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)kn(i)&&Zf(i[1],i),i=i[3];null===i&&(i=r),kn(i)&&Zf(i[1],i),o=i&&i[4]}i=o}}(i)}}function Zf(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Qw(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const u=i[o[l]];if(!(u instanceof ji)){const h=o[l+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const E=u[h[_]],C=h[_+1];try{C.call(E)}finally{}}else try{h.call(u)}finally{}}}}(r,i),function Yf(r,i){const o=r.cleanup,l=i[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const _=o[h+1],E="function"==typeof _?_(i):un(i[_]),C=l[u=o[h+2]],b=o[h+3];"boolean"==typeof b?E.removeEventListener(o[h],C,b):b>=0?l[u=b]():l[u=-b].unsubscribe(),h+=2}else{const _=l[u=o[h+1]];o[h].call(_)}if(null!==l){for(let h=u+1;h<l.length;h++)(0,l[h])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&Xn(i[3])){o!==i[3]&&sv(o,i);const l=i[19];null!==l&&l.detachView(r)}!function fm(r){Xd.delete(r[20])}(i)}}function Qf(r,i,o){return function sh(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const u=r.data[l.directiveStart].encapsulation;if(u===Ze.None||u===Ze.Emulated)return null}return er(l,o)}(r,i.parent,o)}function Ya(r,i,o,l,u){r.insertBefore(i,o,l,u)}function Cm(r,i,o){r.appendChild(i,o)}function ov(r,i,o,l,u){null!==l?Ya(r,i,o,l,u):Cm(r,i,o)}function Iu(r,i){return r.parentNode(i)}let uv=function lv(r,i,o){return 40&r.type?er(r,o):null};function Du(r,i,o,l){const u=Qf(r,l,i),h=i[11],E=function av(r,i,o){return uv(r,i,o)}(l.parent||i[6],l,i);if(null!=u)if(Array.isArray(o))for(let C=0;C<o.length;C++)ov(h,u,o[C],E,!1);else ov(h,u,o,E,!1)}function Xf(r,i){if(null!==i){const o=i.type;if(3&o)return er(i,r);if(4&o)return oh(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return Xf(r,l);{const u=r[i.index];return Xn(u)?oh(-1,u):un(u)}}if(32&o)return nv(i,r)()||un(r[i.index]);{const l=Qa(r,i);return null!==l?Array.isArray(l)?l[0]:Xf(nh(r[16]),l):Xf(r,i.next)}}return null}function Qa(r,i){return null!==i?r[16][6].projection[i.projection]:null}function oh(r,i){const o=10+r+1;if(o<i.length){const l=i[o],u=l[1].firstChild;if(null!==u)return Xf(l,u)}return i[7]}function Im(r,i,o,l,u,h,_){for(;null!=o;){const E=l[o.index],C=o.type;if(_&&0===i&&(E&&Wt(un(E),l),o.flags|=4),64!=(64&o.flags))if(8&C)Im(r,i,o.child,l,u,h,!1),Eu(i,r,u,E,h);else if(32&C){const b=nv(o,l);let R;for(;R=b();)Eu(i,r,u,R,h);Eu(i,r,u,E,h)}else 16&C?$c(r,i,l,o,u,h):Eu(i,r,u,E,h);o=_?o.projectionNext:o.next}}function ah(r,i,o,l,u,h){Im(o,l,r.firstChild,i,u,h,!1)}function $c(r,i,o,l,u,h){const _=o[16],C=_[6].projection[l.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)Eu(i,r,u,C[b],h);else Im(r,i,C,_[3],u,h,!0)}function Dm(r,i,o){r.setAttribute(i,"style",o)}function ep(r,i,o){""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o)}function bm(r,i,o){let l=r.length;for(;;){const u=r.indexOf(i,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const h=i.length;if(u+h===l||r.charCodeAt(u+h)<=32)return u}o=u+1}}const cv="ng-template";function n0(r,i,o){let l=0;for(;l<r.length;){let u=r[l++];if(o&&"class"===u){if(u=r[l],-1!==bm(u.toLowerCase(),i,0))return!0}else if(1===u){for(;l<r.length&&"string"==typeof(u=r[l++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function Tm(r){return 4===r.type&&r.value!==cv}function r0(r,i,o){return i===(4!==r.type||o?r.value:cv)}function Sm(r,i,o){let l=4;const u=r.attrs||[],h=function dv(r){for(let i=0;i<r.length;i++)if(ms(r[i]))return i;return r.length}(u);let _=!1;for(let E=0;E<i.length;E++){const C=i[E];if("number"!=typeof C){if(!_)if(4&l){if(l=2|1&l,""!==C&&!r0(r,C,o)||""===C&&1===i.length){if(jr(l))return!1;_=!0}}else{const b=8&l?C:i[++E];if(8&l&&null!==r.attrs){if(!n0(r.attrs,b,o)){if(jr(l))return!1;_=!0}continue}const N=s0(8&l?"class":C,u,Tm(r),o);if(-1===N){if(jr(l))return!1;_=!0;continue}if(""!==b){let G;G=N>h?"":u[N+1].toLowerCase();const ee=8&l?G:null;if(ee&&-1!==bm(ee,b,0)||2&l&&b!==G){if(jr(l))return!1;_=!0}}}}else{if(!_&&!jr(l)&&!jr(C))return!1;if(_&&jr(C))continue;_=!1,l=C|1&l}}return jr(l)||_}function jr(r){return 0==(1&r)}function s0(r,i,o,l){if(null===i)return-1;let u=0;if(l||!o){let h=!1;for(;u<i.length;){const _=i[u];if(_===r)return u;if(3===_||6===_)h=!0;else{if(1===_||2===_){let E=i[++u];for(;"string"==typeof E;)E=i[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=h?1:2}return-1}return function hv(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function tp(r,i,o=!1){for(let l=0;l<i.length;l++)if(Sm(r,i[l],o))return!0;return!1}function np(r,i){return r?":not("+i.trim()+")":i}function bu(r){let i=r[0],o=1,l=2,u="",h=!1;for(;o<r.length;){let _=r[o];if("string"==typeof _)if(2&l){const E=r[++o];u+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?u+="."+_:4&l&&(u+=" "+_);else""!==u&&!jr(_)&&(i+=np(h,u),u=""),l=_,h=h||!jr(l);o++}return""!==u&&(i+=np(h,u)),i}const _t={};function yv(r,i=null,o=null,l){const u=Am(r,i,o,l);return u.resolveInjectorInitializers(),u}function Am(r,i=null,o=null,l,u=new Set){const h=[o||lt,Ff(r)];return l=l||("object"==typeof r?void 0:ue(r)),new qd(h,i||Lc(),l||null,u)}let qo=(()=>{class r{static create(o,l){if(Array.isArray(o))return yv({name:""},l,o,"");{const u=o.name??"";return yv({name:u},o.parent,o.providers,u)}}}return r.THROW_IF_NOT_FOUND=Qt,r.NULL=new kf,r.\u0275prov=Mt({token:r,providedIn:"any",factory:()=>fn(hu)}),r.__NG_ELEMENT_ID__=-1,r})();function Tu(r,i=Be.Default){const o=we();return null===o?fn(r,i):ys(cn(),o,Y(r),i)}function v0(){throw new Error("invalid")}function xm(r,i){return r<<17|i<<2}function io(r){return r>>17&32767}function km(r){return 2|r}function Ko(r){return(131068&r)>>2}function ch(r,i){return-131069&r|i<<2}function op(r){return 1|r}function _h(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const u=o[l],h=o[l+1];if(-1!==h){const _=r.data[h];wo(u),_.contentQueries(2,i[h],h)}}}function Au(r,i,o,l,u,h,_,E,C,b,R){const N=i.blueprint.slice();return N[0]=u,N[2]=76|l,(null!==R||r&&1024&r[2])&&(N[2]|=1024),ga(N),N[3]=N[15]=r,N[8]=o,N[10]=_||r&&r[10],N[11]=E||r&&r[11],N[12]=C||r&&r[12]||null,N[9]=b||r&&r[9]||null,N[6]=h,N[20]=function yu(){return eh++}(),N[21]=R,N[16]=2==i.type?r[16]:N,N}function Zo(r,i,o,l,u){let h=r.data[i];if(null===h)h=function cp(r,i,o,l,u){const h=va(),_=_o(),C=r.data[i]=function R0(r,i,o,l,u,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,o,i,l,u);return null===r.firstChild&&(r.firstChild=C),null!==h&&(_?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(r,i,o,l,u),function gf(){return ut.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=u;const _=function js(){const r=ut.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return Sr(h,!0),h}function so(r,i,o,l){if(0===o)return-1;const u=i.length;for(let h=0;h<o;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return u}function dp(r,i,o){wa(i);try{const l=r.viewQuery;null!==l&&Qm(1,l,o);const u=r.template;null!==u&&Bv(r,i,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&_h(r,i),r.staticViewQueries&&Qm(2,r.viewQuery,o);const h=r.components;null!==h&&function Uv(r,i){for(let o=0;o<i.length;o++)U0(r,i[o])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,fs()}}function hp(r,i,o,l){const u=i[2];if(128!=(128&u)){wa(i);try{ga(i),function Ll(r){return ut.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Bv(r,i,o,2,l);const _=3==(3&u);if(_){const b=r.preOrderCheckHooks;null!==b&&Hs(i,b,null)}else{const b=r.preOrderHooks;null!==b&&$s(i,b,0,null),hc(i,0)}if(function V0(r){for(let i=qf(r);null!==i;i=ym(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const u=o[l],h=u[3];0==(512&u[2])&&on(h,1),u[2]|=512}}}(i),function L0(r){for(let i=qf(r);null!==i;i=ym(i))for(let o=10;o<i.length;o++){const l=i[o],u=l[1];ds(l)&&hp(u,l,u.template,l[8])}}(i),null!==r.contentQueries&&_h(r,i),_){const b=r.contentCheckHooks;null!==b&&Hs(i,b)}else{const b=r.contentHooks;null!==b&&$s(i,b,1),hc(i,1)}!function T0(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)dr(~u);else{const h=u,_=o[++l],E=o[++l];mf(_,h),E(2,i[h])}}}finally{dr(-1)}}(r,i);const E=r.components;null!==E&&function Vv(r,i){for(let o=0;o<i.length;o++)mp(r,i[o])}(i,E);const C=r.viewQuery;if(null!==C&&Qm(2,C,l),_){const b=r.viewCheckHooks;null!==b&&Hs(i,b)}else{const b=r.viewHooks;null!==b&&$s(i,b,2),hc(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,on(i[3],-1))}finally{fs()}}}function Bv(r,i,o,l,u){const h=Pn(),_=2&l;try{dr(-1),_&&i.length>22&&function pv(r,i,o,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&Hs(i,h,o)}else{const h=r.preOrderHooks;null!==h&&$s(i,h,0,o)}dr(o)}(r,i,22,!1),o(l,u)}finally{dr(h)}}function yh(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Gm(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Gm(r,i,o,l,u,h,_,E,C,b){const R=22+l,N=R+u,G=function S0(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:_t);return o}(R,N),ee="function"==typeof b?b():b;return G[1]={type:r,blueprint:G,template:o,queries:null,viewQuery:E,declTNode:i,data:G.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:ee,incompleteFirstPass:!1}}function Hv(r,i,o,l){const u=yp(i);null===o?u.push(l):(u.push(o),r.firstCreatePass&&vp(r).push(l,u.length-1))}function $v(r,i,o){for(let l in r)if(r.hasOwnProperty(l)){const u=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,u):o[l]=[i,u]}return o}function Wm(r,i){const l=i.directiveEnd,u=r.data,h=i.attrs,_=[];let E=null,C=null;for(let b=i.directiveStart;b<l;b++){const R=u[b],N=R.inputs,G=null===h||Tm(i)?null:Jv(N,h);_.push(G),E=$v(N,b,E),C=$v(R.outputs,b,C)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=16),E.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=_,i.inputs=E,i.outputs=C}function zv(r,i,o,l,u,h){const _=h.hostBindings;if(_){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const C=~i.index;(function O0(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(E)!=C&&E.push(C),E.push(l,u,_)}}function qv(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function fp(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function Yv(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;zn(i)&&(o[""]=r)}}function k0(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function Qv(r,i,o,l,u){r.data[l]=u;const h=u.factory||(u.factory=qr(u.type)),_=new ji(h,zn(u),Tu);r.blueprint[l]=_,o[l]=_,zv(r,i,0,l,so(r,o,u.hostVars,_t),u)}function F0(r,i,o){const l=er(i,r),u=yh(o),h=r[10],_=_p(r,Au(r,u,null,o.onPush?32:16,l,i,h,h.createRenderer(l,o),null,null,null));r[i.index]=_}function oo(r,i,o,l,u,h){const _=er(r,i);!function Km(r,i,o,l,u,h,_){if(null==h)r.removeAttribute(i,u,o);else{const E=null==_?pe(h):_(h,l||"",u);r.setAttribute(i,u,E,o)}}(i[11],_,h,r.value,o,l,u)}function pp(r,i,o,l,u,h){const _=h[i];if(null!==_){const E=l.setInput;for(let C=0;C<_.length;){const b=_[C++],R=_[C++],N=_[C++];null!==E?l.setInput(o,N,b,R):o[R]=N}}}function Jv(r,i){let o=null,l=0;for(;l<i.length;){const u=i[l];if(0!==u)if(5!==u){if("number"==typeof u)break;r.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,r[u],i[l+1])),l+=2}else l+=2;else l+=4}return o}function mp(r,i){const o=St(i,r);if(ds(o)){const l=o[1];48&o[2]?hp(l,o,l.template,o[8]):o[5]>0&&Zm(o)}}function Zm(r){for(let l=qf(r);null!==l;l=ym(l))for(let u=10;u<l.length;u++){const h=l[u];if(ds(h))if(512&h[2]){const _=h[1];hp(_,h,_.template,h[8])}else h[5]>0&&Zm(h)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=St(o[l],r);ds(u)&&u[5]>0&&Zm(u)}}function U0(r,i){const o=St(i,r),l=o[1];(function B0(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),dp(l,o,o[8])}function _p(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Ym(r){for(;r;){r[2]|=32;const i=nh(r);if(Dd(r)&&!i)return r;r=i}return null}function vh(r,i,o,l=!0){const u=i[10];u.begin&&u.begin();try{hp(r,i,r.template,o)}catch(_){throw l&&tE(i,_),_}finally{u.end&&u.end()}}function Qm(r,i,o){wo(0),i(r,o)}function yp(r){return r[7]||(r[7]=[])}function vp(r){return r.cleanup||(r.cleanup=[])}function tE(r,i){const o=r[9],l=o?o.get(Jd,null):null;l&&l.handleError(i)}function Ep(r,i,o,l,u){for(let h=0;h<o.length;){const _=o[h++],E=o[h++],C=i[_],b=r.data[_];null!==b.setInput?b.setInput(C,u,l,E):C[E]=u}}function Jm(r,i,o){let l=o?r.styles:null,u=o?r.classes:null,h=0;if(null!==i)for(let _=0;_<i.length;_++){const E=i[_];"number"==typeof E?h=E:1==h?u=de(u,E):2==h&&(l=de(l,E+": "+i[++_]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=u:r.classesWithoutHost=u}function Cp(r,i,o,l,u=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&l.push(un(h)),Xn(h))for(let E=10;E<h.length;E++){const C=h[E],b=C[1].firstChild;null!==b&&Cp(C[1],C,b,l)}const _=o.type;if(8&_)Cp(r,i,o.child,l);else if(32&_){const E=nv(o,i);let C;for(;C=E();)l.push(C)}else if(16&_){const E=Qa(i,o);if(Array.isArray(E))l.push(...E);else{const C=nh(i[16]);Cp(C[1],C,E,l,!0)}}o=u?o.projectionNext:o.next}return l}class Ru{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Cp(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Xn(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(jc(i,l),Xs(o,l))}this._attachedToViewContainer=!1}Hc(this._lView[1],this._lView)}onDestroy(i){Hv(this._lView[1],this._lView,null,i)}markForCheck(){Ym(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){vh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wu(r,i){ah(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=i}}class nE extends Ru{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;vh(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Yc extends f{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=pt(i);return new Mu(o,this.ngModule)}}function H0(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class Qc{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,l){const u=this.injector.get(i,Ho,l);return u!==Ho||o===Ho?u:this.parentInjector.get(i,o,l)}}class Mu extends Yd{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function rp(r){return r.map(bu).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return H0(this.componentDef.inputs)}get outputs(){return H0(this.componentDef.outputs)}create(i,o,l,u){let h=(u=u||this.ngModule)instanceof no?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new Qc(i,h):i,E=_.get(Re,null);if(null===E)throw new me(407,!1);const C=_.get(rt,null),b=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",N=l?function A0(r,i,o){return r.selectRootElement(i,o===Ze.ShadowDom)}(b,l,this.componentDef.encapsulation):wt(E.createRenderer(null,this.componentDef),R,function rE(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(R)),G=this.componentDef.onPush?288:272,ee=Gm(0,null,null,1,0,null,null,null,null,null),_e=Au(null,ee,null,G,null,null,E,b,C,_,null);let Me,Ve;wa(_e);try{const qe=function G0(r,i,o,l,u,h){const _=o[1];o[22]=r;const C=Zo(_,22,2,"#host",null),b=C.mergedAttrs=i.hostAttrs;null!==b&&(Jm(C,b,!0),null!==r&&(zs(u,r,b),null!==C.classes&&ep(u,r,C.classes),null!==C.styles&&Dm(u,r,C.styles)));const R=l.createRenderer(r,i),N=Au(o,yh(i),null,i.onPush?32:16,o[22],C,l,R,h||null,null,null);return _.firstCreatePass&&(Hi(_s(C,o),_,i.type),fp(_,C),k0(C,o.length,1)),_p(o,N),o[22]=N}(N,this.componentDef,_e,E,b);if(N)if(l)zs(b,N,["ng-version",ti.full]);else{const{attrs:ot,classes:De}=function fv(r){const i=[],o=[];let l=1,u=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===u?""!==h&&i.push(h,r[++l]):8===u&&o.push(h);else{if(!jr(u))break;u=h}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);ot&&zs(b,N,ot),De&&De.length>0&&ep(b,N,De.join(" "))}if(Ve=Bs(ee,22),void 0!==o){const ot=Ve.projection=[];for(let De=0;De<this.ngContentSelectors.length;De++){const Ge=o[De];ot.push(null!=Ge?Array.from(Ge):null)}}Me=function W0(r,i,o,l){const u=o[1],h=function Wv(r,i,o){const l=cn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Qv(r,l,i,so(r,i,1,null),o),Wm(r,l));const u=mi(i,r,l.directiveStart,l);Wt(u,i);const h=er(l,i);return h&&Wt(h,i),u}(u,o,i);if(r[8]=o[8]=h,null!==l)for(const E of l)E(h,i);if(i.contentQueries){const E=cn();i.contentQueries(1,h,E.directiveStart)}const _=cn();return!u.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(dr(_.index),zv(o[1],_,0,_.directiveStart,_.directiveEnd,i),qv(i,h)),h}(qe,this.componentDef,_e,[z0]),dp(ee,_e,null)}finally{fs()}return new iE(this.componentType,Me,T(Ve,_e),_e,Ve)}}class iE extends class Bf{}{constructor(i,o,l,u,h){super(),this.location=l,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new nE(u),this.componentType=i}setInput(i,o){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[i])){const h=this._rootLView;Ep(h[1],h,u,i,o),function zm(r,i){const o=St(i,r);16&o[2]||(o[2]|=32)}(h,this._tNode.index)}}get injector(){return new vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function z0(){const r=cn();zl(we()[1],r)}function e_(r){let i=function Xm(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;i;){let u;if(zn(r))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new me(903,!1);u=i.\u0275dir}if(u){if(o){l.push(u);const _=r;_.inputs=Jc(r.inputs),_.declaredInputs=Jc(r.declaredInputs),_.outputs=Jc(r.outputs);const E=u.hostBindings;E&&q0(r,E);const C=u.viewQuery,b=u.contentQueries;if(C&&kb(r,C),b&&oE(r,b),oe(r.inputs,u.inputs),oe(r.declaredInputs,u.declaredInputs),oe(r.outputs,u.outputs),zn(u)&&u.data.animation){const R=r.data;R.animation=(R.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let _=0;_<h.length;_++){const E=h[_];E&&E.ngInherit&&E(r),E===e_&&(o=!1)}}i=Object.getPrototypeOf(i)}!function xb(r){let i=0,o=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=i+=u.hostVars,u.hostAttrs=Io(u.hostAttrs,o=Io(o,u.hostAttrs))}}(l)}function Jc(r){return r===Qn?{}:r===lt?[]:r}function kb(r,i){const o=r.viewQuery;r.viewQuery=o?(l,u)=>{i(l,u),o(l,u)}:i}function oE(r,i){const o=r.contentQueries;r.contentQueries=o?(l,u,h)=>{i(l,u,h),o(l,u,h)}:i}function q0(r,i){const o=r.hostBindings;r.hostBindings=o?(l,u)=>{i(l,u),o(l,u)}:i}let wp=null;function Pu(){if(!wp){const r=Gt.Symbol;if(r&&r.iterator)wp=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(wp=l)}}}return wp}function Eh(r){return!!uE(r)&&(Array.isArray(r)||!(r instanceof Map)&&Pu()in r)}function uE(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function zt(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function t_(r,i,o,l){const u=we();return zt(u,function hs(){return ut.lFrame.bindingIndex++}(),i)&&(Ct(),oo(function Xt(){const r=ut.lFrame;return Bs(r.tView,r.selectedIndex)}(),u,r,i,o,l)),t_}function xu(r,i,o,l,u){const _=u?"class":"style";Ep(r,o,i.inputs[_],_,l)}function Dp(r,i,o,l){const u=we(),h=Ct(),_=22+r,E=u[11],C=u[_]=wt(E,i,function Da(){return ut.lFrame.currentNamespace}()),b=h.firstCreatePass?function ku(r,i,o,l,u,h,_){const E=i.consts,b=Zo(i,r,2,u,Vr(E,h));return function qm(r,i,o,l){let u=!1;if(pi()){const h=function Kv(r,i,o){const l=r.directiveRegistry;let u=null;if(l)for(let h=0;h<l.length;h++){const _=l[h];tp(o,_.selectors,!1)&&(u||(u=[]),Hi(_s(o,i),r,_.type),zn(_)?(fp(r,o),u.unshift(_)):u.push(_))}return u}(r,i,o),_=null===l?null:{"":-1};if(null!==h){u=!0,k0(o,r.data.length,h.length);for(let R=0;R<h.length;R++){const N=h[R];N.providersResolver&&N.providersResolver(N)}let E=!1,C=!1,b=so(r,i,h.length,null);for(let R=0;R<h.length;R++){const N=h[R];o.mergedAttrs=Io(o.mergedAttrs,N.hostAttrs),Qv(r,o,i,b,N),Yv(b,N,_),null!==N.contentQueries&&(o.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(o.flags|=128);const G=N.type.prototype;!E&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),E=!0),!C&&(G.ngOnChanges||G.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),C=!0),b++}Wm(r,o)}_&&function Zv(r,i,o){if(i){const l=r.localNames=[];for(let u=0;u<i.length;u+=2){const h=o[i[u+1]];if(null==h)throw new me(-301,!1);l.push(i[u],h)}}}(o,l,_)}return o.mergedAttrs=Io(o.mergedAttrs,o.attrs),u}(i,o,b,Vr(E,_)),null!==b.attrs&&Jm(b,b.attrs,!1),null!==b.mergedAttrs&&Jm(b,b.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,b),b}(_,h,u,0,i,o,l):h.data[_];Sr(b,!0);const R=b.mergedAttrs;null!==R&&zs(E,C,R);const N=b.classes;null!==N&&ep(E,C,N);const G=b.styles;return null!==G&&Dm(E,C,G),64!=(64&b.flags)&&Du(h,u,C,b),0===function _a(){return ut.lFrame.elementDepthCount}()&&Wt(C,u),function ya(){ut.lFrame.elementDepthCount++}(),Tl(b)&&(function Hm(r,i,o){!pi()||(function N0(r,i,o,l){const u=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||_s(o,i),Wt(l,i);const _=o.initialInputs;for(let E=u;E<h;E++){const C=r.data[E],b=zn(C);b&&F0(i,o,C);const R=mi(i,r,E,o);Wt(R,i),null!==_&&pp(0,E-u,R,C,0,_),b&&(St(o.index,i)[8]=R)}}(r,i,o,er(o,i)),128==(128&o.flags)&&function x0(r,i,o){const l=o.directiveStart,u=o.directiveEnd,h=o.index,_=function Vl(){return ut.lFrame.currentDirectiveIndex}();try{dr(h);for(let E=l;E<u;E++){const C=r.data[E],b=i[E];Ea(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&qv(C,b)}}finally{dr(-1),Ea(_)}}(r,i,o))}(h,u,b),function jv(r,i,o){if(la(i)){const u=i.directiveEnd;for(let h=i.directiveStart;h<u;h++){const _=r.data[h];_.contentQueries&&_.contentQueries(1,o[h],h)}}}(h,b,u)),null!==l&&function $m(r,i,o=er){const l=i.localNames;if(null!==l){let u=i.index+1;for(let h=0;h<l.length;h+=2){const _=l[h+1],E=-1===_?o(i,r):r[_];r[u++]=E}}}(u,b),Dp}function bp(){let r=cn();_o()?function yo(){ut.lFrame.isParent=!1}():(r=r.parent,Sr(r,!1));const i=r;!function Pl(){ut.lFrame.elementDepthCount--}();const o=Ct();return o.firstCreatePass&&(zl(o,r),la(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function Sa(r){return 0!=(16&r.flags)}(i)&&xu(o,i,we(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function pc(r){return 0!=(32&r.flags)}(i)&&xu(o,i,we(),i.stylesWithoutHost,!1),bp}function Hn(r,i,o,l){return Dp(r,i,o,l),bp(),Hn}function sd(r){return!!r&&"function"==typeof r.then}function pE(r){return!!r&&"function"==typeof r.subscribe}const lo=pE;function Ji(r,i,o,l){const u=we(),h=Ct(),_=cn();return function od(r,i,o,l,u,h,_,E){const C=Tl(l),R=r.firstCreatePass&&vp(r),N=i[8],G=yp(i);let ee=!0;if(3&l.type||E){const Ve=er(l,i),qe=E?E(Ve):Ve,ot=G.length,De=E?yt=>E(un(yt[l.index])):l.index;let Ge=null;if(!E&&C&&(Ge=function X0(r,i,o,l){const u=r.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const _=u[h];if(_===o&&u[h+1]===l){const E=i[7],C=u[h+2];return E.length>C?E[C]:null}"string"==typeof _&&(h+=2)}return null}(r,i,u,l.index)),null!==Ge)(Ge.__ngLastListenerFn__||Ge).__ngNextListenerFn__=h,Ge.__ngLastListenerFn__=h,ee=!1;else{h=a_(l,i,N,h,!1);const yt=o.listen(qe,u,h);G.push(h,yt),R&&R.push(u,De,ot,ot+1)}}else h=a_(l,i,N,h,!1);const _e=l.outputs;let Me;if(ee&&null!==_e&&(Me=_e[u])){const Ve=Me.length;if(Ve)for(let qe=0;qe<Ve;qe+=2){const sn=i[Me[qe]][Me[qe+1]].subscribe(h),sa=G.length;G.push(h,sn),R&&R.push(u,l.index,sa,-(sa+1))}}}(h,u,u[11],_,r,i,0,l),Ji}function Tp(r,i,o,l){try{return!1!==o(l)}catch(u){return tE(r,u),!1}}function a_(r,i,o,l,u){return function h(_){if(_===Function)return l;Ym(2&r.flags?St(r.index,i):i);let C=Tp(i,0,l,_),b=h.__ngNextListenerFn__;for(;b;)C=Tp(i,0,b,_)&&C,b=b.__ngNextListenerFn__;return u&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function c_(r,i,o,l,u){const h=r[o+1],_=null===i;let E=l?io(h):Ko(h),C=!1;for(;0!==E&&(!1===C||_);){const R=r[E+1];CE(r[E],i)&&(C=!0,r[E+1]=l?op(R):km(R)),E=l?io(R):Ko(R)}C&&(r[o+1]=l?km(h):op(h))}function CE(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&yi(r,i)>=0}function xp(r,i){return function Xi(r,i,o,l){const u=we(),h=Ct(),_=function gi(r){const i=ut.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);h.firstUpdatePass&&function AE(r,i,o,l){const u=r.data;if(null===u[o+1]){const h=u[Pn()],_=function SE(r,i){return i>=r.expandoStartIndex}(r,o);(function Lu(r,i){return 0!=(r.flags&(i?16:32))})(h,l)&&null===i&&!_&&(i=!1),i=function sI(r,i,o,l){const u=function Co(r){const i=ut.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=l?i.residualClasses:i.residualStyles;if(null===u)0===(l?i.classBindings:i.styleBindings)&&(o=Sh(o=kp(null,r,i,o,l),i.attrs,l),h=null);else{const _=i.directiveStylingLast;if(-1===_||r[_]!==u)if(o=kp(u,r,i,o,l),null===h){let C=function oI(r,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==Ko(l))return r[io(l)]}(r,i,l);void 0!==C&&Array.isArray(C)&&(C=kp(null,r,i,C[1],l),C=Sh(C,i.attrs,l),function aI(r,i,o,l){r[io(o?i.classBindings:i.styleBindings)]=l}(r,i,l,C))}else h=function RE(r,i,o){let l;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)l=Sh(l,r[h].hostAttrs,o);return Sh(l,i.attrs,o)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),o}(u,h,i,l),function Rp(r,i,o,l,u,h){let _=h?i.classBindings:i.styleBindings,E=io(_),C=Ko(_);r[l]=o;let R,b=!1;if(Array.isArray(o)){const N=o;R=N[1],(null===R||yi(N,R)>0)&&(b=!0)}else R=o;if(u)if(0!==C){const G=io(r[E+1]);r[l+1]=xm(G,E),0!==G&&(r[G+1]=ch(r[G+1],l)),r[E+1]=function C0(r,i){return 131071&r|i<<17}(r[E+1],l)}else r[l+1]=xm(E,0),0!==E&&(r[E+1]=ch(r[E+1],l)),E=l;else r[l+1]=xm(C,0),0===E?E=l:r[C+1]=ch(r[C+1],l),C=l;b&&(r[l+1]=km(r[l+1])),c_(r,R,l,!0),c_(r,R,l,!1),function EE(r,i,o,l,u){const h=u?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&yi(h,i)>=0&&(o[l+1]=op(o[l+1]))}(i,R,r,l,h),_=xm(E,C),h?i.classBindings=_:i.styleBindings=_}(u,h,i,o,_,l)}}(h,r,_,l),i!==_t&&zt(u,_,i)&&function Fp(r,i,o,l,u,h,_,E){if(!(3&i.type))return;const C=r.data,b=C[E+1];Lp(function bi(r){return 1==(1&r)}(b)?PE(C,i,o,u,Ko(b),_):void 0)||(Lp(h)||function sp(r){return 2==(2&r)}(b)&&(h=PE(C,null,o,u,E,_)),function Gc(r,i,o,l,u){if(i)u?r.addClass(o,l):r.removeClass(o,l);else{let h=-1===l.indexOf("-")?void 0:As.DashCase;null==u?r.removeStyle(o,l,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=As.Important),r.setStyle(o,l,u,h))}}(l,_,function Tr(r,i){return un(i[r])}(Pn(),o),u,h))}(h,h.data[Pn()],u,u[11],r,u[_+1]=function Vp(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=ue(wi(r)))),r}(i,o),l,_)}(r,i,null,!0),xp}function kp(r,i,o,l,u){let h=null;const _=o.directiveEnd;let E=o.directiveStylingLast;for(-1===E?E=o.directiveStart:E++;E<_&&(h=i[E],l=Sh(l,h.hostAttrs,u),h!==r);)E++;return null!==r&&(o.directiveStylingLast=E),l}function Sh(r,i,o){const l=o?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const _=i[h];"number"==typeof _?u=_:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),tr(r,_,!!o||i[++h]))}return void 0===r?null:r}function PE(r,i,o,l,u,h){const _=null===i;let E;for(;u>0;){const C=r[u],b=Array.isArray(C),R=b?C[1]:C,N=null===R;let G=o[u+1];G===_t&&(G=N?lt:void 0);let ee=N?No(G,l):R===l?G:void 0;if(b&&!Lp(ee)&&(ee=No(C,l)),Lp(ee)&&(E=ee,_))return E;const _e=r[u+1];u=_?io(_e):Ko(_e)}if(null!==i){let C=h?i.residualClasses:i.residualStyles;null!=C&&(E=No(C,l))}return E}function Lp(r){return void 0!==r}const Ai=void 0;var Rh=["en",[["a","p"],["AM","PM"],Ai],[["AM","PM"],Ai,Ai],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ai,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ai,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ai,"{1} 'at' {0}",Ai],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function C_(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let ud={};function w_(r){const i=function Hp(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=I_(i);if(o)return o;const l=i.split("-")[0];if(o=I_(l),o)return o;if("en"===l)return Rh;throw new me(701,!1)}function YE(r){return w_(r)[Pe.PluralCase]}function I_(r){return r in ud||(ud[r]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[r]),ud[r]}var Pe=(()=>((Pe=Pe||{})[Pe.LocaleId=0]="LocaleId",Pe[Pe.DayPeriodsFormat=1]="DayPeriodsFormat",Pe[Pe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pe[Pe.DaysFormat=3]="DaysFormat",Pe[Pe.DaysStandalone=4]="DaysStandalone",Pe[Pe.MonthsFormat=5]="MonthsFormat",Pe[Pe.MonthsStandalone=6]="MonthsStandalone",Pe[Pe.Eras=7]="Eras",Pe[Pe.FirstDayOfWeek=8]="FirstDayOfWeek",Pe[Pe.WeekendRange=9]="WeekendRange",Pe[Pe.DateFormat=10]="DateFormat",Pe[Pe.TimeFormat=11]="TimeFormat",Pe[Pe.DateTimeFormat=12]="DateTimeFormat",Pe[Pe.NumberSymbols=13]="NumberSymbols",Pe[Pe.NumberFormats=14]="NumberFormats",Pe[Pe.CurrencyCode=15]="CurrencyCode",Pe[Pe.CurrencySymbol=16]="CurrencySymbol",Pe[Pe.CurrencyName=17]="CurrencyName",Pe[Pe.Currencies=18]="Currencies",Pe[Pe.Directionality=19]="Directionality",Pe[Pe.PluralCase=20]="PluralCase",Pe[Pe.ExtraData=21]="ExtraData",Pe))();const Hr="en-US";let zp=Hr;function hd(r,i,o,l,u){if(r=Y(r),Array.isArray(r))for(let h=0;h<r.length;h++)hd(r[h],i,o,l,u);else{const h=Ct(),_=we();let E=bs(r)?r:Y(r.provide),C=Vf(r);const b=cn(),R=1048575&b.providerIndexes,N=b.directiveStart,G=b.providerIndexes>>20;if(bs(r)||!r.multi){const ee=new ji(C,u,Tu),_e=L_(E,i,u?R:R+G,N);-1===_e?(Hi(_s(b,_),h,E),Xo(h,r,i.length),i.push(E),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(ee),_.push(ee)):(o[_e]=ee,_[_e]=ee)}else{const ee=L_(E,i,R+G,N),_e=L_(E,i,R,R+G),Me=ee>=0&&o[ee],Ve=_e>=0&&o[_e];if(u&&!Ve||!u&&!Me){Hi(_s(b,_),h,E);const qe=function V_(r,i,o,l,u){const h=new ji(r,o,Tu);return h.multi=[],h.index=i,h.componentProviders=0,rg(h,u,l&&!o),h}(u?Ps:ln,o.length,u,l,C);!u&&Ve&&(o[_e].providerFactory=qe),Xo(h,r,i.length,0),i.push(E),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(qe),_.push(qe)}else Xo(h,r,ee>-1?ee:_e,rg(o[u?_e:ee],C,!u&&l));!u&&l&&Ve&&o[_e].componentProviders++}}}function Xo(r,i,o,l){const u=bs(i),h=function Lf(r){return!!r.useClass}(i);if(u||h){const C=(h?Y(i.useClass):i).prototype.ngOnDestroy;if(C){const b=r.destroyHooks||(r.destroyHooks=[]);if(!u&&i.multi){const R=b.indexOf(o);-1===R?b.push(o,[l,C]):b[R+1].push(l,C)}else b.push(o,C)}}}function rg(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function L_(r,i,o,l){for(let u=o;u<l;u++)if(i[u]===r)return u;return-1}function ln(r,i,o,l){return Gu(this.multi,[])}function Ps(r,i,o,l){const u=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=mi(o,o[1],this.providerFactory.index,l);h=E.slice(0,_),Gu(u,h);for(let C=_;C<E.length;C++)h.push(E[C])}else h=[],Gu(u,h);return h}function Gu(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function U_(r,i=[]){return o=>{o.providersResolver=(l,u)=>function dC(r,i,o){const l=Ct();if(l.firstCreatePass){const u=zn(r);hd(o,l.data,l.blueprint,u,!0),hd(i,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,i)}}class cl{}class dl{}function hC(r,i){return new ig(r,i??null)}class ig extends cl{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yc(this);const l=Jn(i);this._bootstrapComponents=Di(l.bootstrap),this._r3Injector=Am(i,o,[{provide:cl,useValue:this},{provide:f,useValue:this.componentFactoryResolver}],ue(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class hl extends dl{constructor(i){super(),this.moduleType=i}create(i){return new ig(this.moduleType,i)}}class fC extends cl{constructor(i,o,l){super(),this.componentFactoryResolver=new Yc(this),this.instance=null;const u=new qd([...i,{provide:cl,useValue:this},{provide:f,useValue:this.componentFactoryResolver}],o||Lc(),l,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function fd(r,i,o=null){return new fC(r,i,o).injector}let MI=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=Oc(0,o.type),u=l.length>0?fd([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Mt({token:r,providedIn:"environment",factory:()=>new r(fn(no))}),r})();function pC(r){r.getStandaloneInjector=i=>i.get(MI).getOrCreateStandaloneInjector(r)}function z_(r){return i=>{setTimeout(r,void 0,i)}}const Os=class RC extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){let u=i,h=o||(()=>null),_=l;if(i&&"object"==typeof i){const C=i;u=C.next?.bind(C),h=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(h=z_(h),u&&(u=z_(u)),_&&(_=z_(_)));const E=super.subscribe({next:u,error:h,complete:_});return i instanceof X.w0&&i.add(E),E}};function MC(){return this._results[Pu()]()}class q_{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Pu(),l=q_.prototype;l[o]||(l[o]=MC)}get changes(){return this._changes||(this._changes=new Os)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const u=fr(i);(this._changesDetected=!function Fa(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],h=i[l];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pd=(()=>{class r{}return r.__NG_ELEMENT_ID__=zI,r})();const lg=pd,PC=class extends lg{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i,o){const l=this._declarationTContainer.tViews,u=Au(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,o||null);u[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(u[19]=_.createEmbeddedView(l)),dp(l,u,i),new Ru(u)}};function zI(){return ug(cn(),we())}function ug(r,i){return 4&r.type?new PC(i,r,T(r,i)):null}let cg=(()=>{class r{}return r.__NG_ELEMENT_ID__=K_,r})();function K_(){return ea(cn(),we())}const OC=cg,NC=class extends OC{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return T(this._hostTNode,this._hostLView)}get injector(){return new vs(this._hostTNode,this._hostLView)}get parentInjector(){const i=Pa(this._hostTNode,this._hostLView);if(mc(i)){const o=bo(i,this._hostLView),l=Fn(i);return new vs(o[1].data[l+8],o)}return new vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=xC(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){let u,h;"number"==typeof l?u=l:null!=l&&(u=l.index,h=l.injector);const _=i.createEmbeddedView(o||{},h);return this.insert(_,u),_}createComponent(i,o,l,u,h){const _=i&&!function Kn(r){return"function"==typeof r}(i);let E;if(_)E=o;else{const N=o||{};E=N.index,l=N.injector,u=N.projectableNodes,h=N.environmentInjector||N.ngModuleRef}const C=_?i:new Mu(pt(i)),b=l||this.parentInjector;if(!h&&null==C.ngModule){const G=(_?b:this.parentInjector).get(no,null);G&&(h=G)}const R=C.create(b,u,void 0,h);return this.insert(R.hostView,E),R}insert(i,o){const l=i._lView,u=l[1];if(function pa(r){return Xn(r[3])}(l)){const R=this.indexOf(i);if(-1!==R)this.detach(R);else{const N=l[3],G=new NC(N,N[6],N[3]);G.detach(G.indexOf(i))}}const h=this._adjustIndex(o),_=this._lContainer;!function iv(r,i,o,l){const u=10+l,h=o.length;l>0&&(o[u-1][4]=i),l<h-10?(i[4]=o[u],Jl(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const _=i[17];null!==_&&o!==_&&function Em(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(_,i);const E=i[19];null!==E&&E.insertView(r),i[2]|=64}(u,l,_,h);const E=oh(h,_),C=l[11],b=Iu(C,_[7]);return null!==b&&function Zw(r,i,o,l,u,h){l[0]=u,l[6]=i,ah(r,l,o,1,u,h)}(u,_[6],C,l,b,E),i.attachToViewContainerRef(),Jl(dg(_),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=xC(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=jc(this._lContainer,o);l&&(Xs(dg(this._lContainer),o),Hc(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=jc(this._lContainer,o);return l&&null!=Xs(dg(this._lContainer),o)?new Ru(l):null}_adjustIndex(i,o=0){return i??this.length+o}};function xC(r){return r[8]}function dg(r){return r[8]||(r[8]=[])}function ea(r,i){let o;const l=i[r.index];if(Xn(l))o=l;else{let u;if(8&r.type)u=un(l);else{const h=i[11];u=h.createComment("");const _=er(r,i);Ya(h,Iu(h,_),u,function Xw(r,i){return r.nextSibling(i)}(h,_),!1)}i[r.index]=o=function gp(r,i,o,l){return new Array(r,!0,!1,i,null,0,l,o,null,null)}(l,i,u,r),_p(i,o)}return new NC(o,r,i)}class gd{constructor(i){this.queryList=i,this.matches=null}clone(){return new gd(this.queryList)}setDirty(){this.queryList.setDirty()}}class md{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let h=0;h<l;h++){const _=o.getByIndex(h);u.push(this.queries[_.indexInDeclarationView].clone())}return new md(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==qu(i,o).matches&&this.queries[o].setDirty()}}class LC{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class Z_{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(i,u);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new Z_(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Y_{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Y_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const h=l[u];this.matchTNodeWithReadOption(i,o,VC(o,h)),this.matchTNodeWithReadOption(i,o,qs(o,i,h,!1,!1))}else l===pd?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,qs(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===M||u===cg||u===pd&&4&o.type)this.addMatch(o.index,-2);else{const h=qs(o,i,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function VC(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function qI(r,i,o,l){return-1===o?function Q_(r,i){return 11&r.type?T(r,i):4&r.type?ug(r,i):null}(i,r):-2===o?function fl(r,i,o){return o===M?T(i,r):o===pd?ug(i,r):o===cg?ea(i,r):void 0}(r,i,l):mi(r,r[1],o,i)}function _d(r,i,o,l){const u=i[19].queries[l];if(null===u.matches){const h=r.data,_=o.matches,E=[];for(let C=0;C<_.length;C+=2){const b=_[C];E.push(b<0?null:qI(i,h[b],_[C+1],o.metadata.read))}u.matches=E}return u.matches}function J_(r,i,o,l){const u=r.queries.getByIndex(o),h=u.matches;if(null!==h){const _=_d(r,i,u,o);for(let E=0;E<h.length;E+=2){const C=h[E];if(C>0)l.push(_[E/2]);else{const b=h[E+1],R=i[-C];for(let N=10;N<R.length;N++){const G=R[N];G[17]===G[3]&&J_(G[1],G,b,l)}if(null!==R[9]){const N=R[9];for(let G=0;G<N.length;G++){const ee=N[G];J_(ee[1],ee,b,l)}}}}}return l}function UC(r){const i=we(),o=Ct(),l=Ul();wo(l+1);const u=qu(o,l);if(r.dirty&&function fa(r){return 4==(4&r[2])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const h=u.crossesNgTemplate?J_(o,i,l,[]):_d(o,i,u,l);r.reset(h,q),r.notifyOnChanges()}return!0}return!1}function $h(r,i,o,l){const u=Ct();if(u.firstCreatePass){const h=cn();(function Gh(r,i,o){null===r.queries&&(r.queries=new Z_),r.queries.track(new Y_(i,o))})(u,new LC(i,o,l),h.index),function YI(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(u,r),2==(2&o)&&(u.staticContentQueries=!0)}!function hg(r,i,o){const l=new q_(4==(4&o));Hv(r,i,l,l.destroy),null===i[19]&&(i[19]=new md),i[19].queries.push(new gd(l))}(u,we(),o)}function X_(){return function ZI(r,i){return r[19].queries[i].queryList}(we(),Ul())}function qu(r,i){return r.queries.getByIndex(i)}function Xh(...r){}const iy=new Yt("Application Initializer");let ef=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Xh,this.reject=Xh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(sd(h))o.push(h);else if(lo(h)){const _=new Promise((E,C)=>{h.subscribe({complete:E,error:C})});o.push(_)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(fn(iy,8))},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const ew=new Yt("AppId",{providedIn:"root",factory:function Cg(){return`${oy()}${oy()}${oy()}`}});function oy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wg=new Yt("Platform Initializer"),aD=new Yt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tw=new Yt("appBootstrapListener");let uD=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Ig=new Yt("LocaleId",{providedIn:"root",factory:()=>w(Ig,Be.Optional|Be.SkipSelf)||function cD(){return typeof $localize<"u"&&$localize.locale||Hr}()}),ay=new Yt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class pl{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let hD=(()=>{class r{compileModuleSync(o){return new hl(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=Di(Jn(o).declarations).reduce((_,E)=>{const C=pt(E);return C&&_.push(new Mu(C)),_},[]);return new pl(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const rw=(()=>Promise.resolve(0))();function wd(r){typeof Zone>"u"?rw.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class si{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Os(!1),this.onMicrotaskEmpty=new Os(!1),this.onStable=new Os(!1),this.onError=new Os(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const u=this;if(u._nesting=0,u._outer=u._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;u._inner=u._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function cy(){let r=Gt.requestAnimationFrame,i=Gt.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function mD(r){const i=()=>{!function hy(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Gt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Dg(r),r.isCheckStableRunning=!0,dy(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Dg(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,h,_,E)=>{try{return fy(r),o.invokeTask(u,h,_,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),bg(r)}},onInvoke:(o,l,u,h,_,E,C)=>{try{return fy(r),o.invoke(u,h,_,E,C)}finally{r.shouldCoalesceRunChangeDetection&&i(),bg(r)}},onHasTask:(o,l,u,h)=>{o.hasTask(u,h),l===u&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,Dg(r),dy(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,u,h)=>(o.handleError(u,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!si.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(si.isInAngularZone())throw new me(909,!1)}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,u){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+u,i,gD,Xh,Xh);try{return h.runTask(_,o,l)}finally{h.cancelTask(_)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const gD={};function dy(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Dg(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function fy(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function bg(r){r._nesting--,dy(r)}class iw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Os,this.onMicrotaskEmpty=new Os,this.onStable=new Os,this.onError=new Os}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,u){return i.apply(o,l)}}const $r=new Yt(""),nf=new Yt("");let na,gl=(()=>{class r{constructor(o,l,u){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,na||(function is(r){na=r}(u),u.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{si.assertNotInAngularZone(),wd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wd(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,u){return[]}}return r.\u0275fac=function(o){return new(o||r)(fn(si),fn(rf),fn(nf))},r.\u0275prov=Mt({token:r,factory:r.\u0275fac}),r})(),rf=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return na?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),ra=null;const py=new Yt("AllowMultipleToken"),ia=new Yt("PlatformDestroyListeners");class yD{constructor(i,o){this.name=i,this.token=o}}function sf(r,i,o=[]){const l=`Platform: ${i}`,u=new Yt(l);return(h=[])=>{let _=Ag();if(!_||_.injector.get(py,!1)){const E=[...o,...h,{provide:u,useValue:!0}];r?r(E):function vD(r){if(ra&&!ra.get(py,!1))throw new me(400,!1);ra=r;const i=r.get(my);(function sw(r){const i=r.get(wg,null);i&&i.forEach(o=>o())})(r)}(function Sg(r=[],i){return qo.create({name:i,providers:[{provide:gu,useValue:"platform"},{provide:ia,useValue:new Set([()=>ra=null])},...r]})}(E,l))}return function af(r){const i=Ag();if(!i)throw new me(401,!1);return i}()}}function Ag(){return ra?.get(my)??null}let my=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const u=function yy(r,i){let o;return o="noop"===r?new iw:("zone.js"===r?void 0:r)||new si(i),o}(l?.ngZone,function _y(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:si,useValue:u}];return u.run(()=>{const _=qo.create({providers:h,parent:this.injector,name:o.moduleType.name}),E=o.create(_),C=E.injector.get(Jd,null);if(!C)throw new me(402,!1);return u.runOutsideAngular(()=>{const b=u.onError.subscribe({next:R=>{C.handleError(R)}});E.onDestroy(()=>{Mg(this._modules,E),b.unsubscribe()})}),function ss(r,i,o){try{const l=o();return sd(l)?l.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(C,u,()=>{const b=E.injector.get(ef);return b.runInitializers(),b.donePromise.then(()=>(function qp(r){vt(r,"Expected localeId to be defined"),"string"==typeof r&&(zp=r.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Ig,Hr)||Hr),this._moduleDoBootstrap(E),E))})})}bootstrapModule(o,l=[]){const u=vy({},l);return function _D(r,i,o){const l=new hl(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const l=o.injector.get(Rg);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new me(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(ia,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(fn(qo))},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function vy(r,i){return Array.isArray(i)?i.reduce(vy,r):{...r,...i}}let Rg=(()=>{class r{constructor(o,l,u){this._zone=o,this._injector=l,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new P.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new P.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{si.assertNotInAngularZone(),wd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{si.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),b.unsubscribe()}});this.isStable=(0,ie.T)(h,_.pipe((0,ne.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const u=o instanceof Yd;if(!this._injector.get(ef).done)throw!u&&Wr(o),new me(405,false);let _;_=u?o:this._injector.get(f).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const E=function gy(r){return r.isBoundToModule}(_)?void 0:this._injector.get(cl),b=_.create(qo.NULL,[],l||_.selector,E),R=b.location.nativeElement,N=b.injector.get($r,null);return N?.registerApplication(R),b.onDestroy(()=>{this.detachView(b.hostView),Mg(this.components,b),N?.unregisterApplication(R)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Mg(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(tw,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Mg(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new me(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(fn(si),fn(no),fn(Jd))},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Mg(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let lw=!0,uw=!1;function wD(){return uw=!0,lw}function ID(){if(uw)throw new Error("Cannot enable prod mode after platform setup.");lw=!1}let DD=(()=>{class r{}return r.__NG_ELEMENT_ID__=bD,r})();function bD(r){return function TD(r,i,o){if(fo(r)&&!o){const l=St(r.index,i);return new Ru(l,l)}return 47&r.type?new Ru(i[16],i):null}(cn(),we(),16==(16&r))}class hw{constructor(){}supports(i){return Eh(i)}create(i){return new PD(i)}}const MD=(r,i)=>i;class PD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||MD}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,u=0,h=null;for(;o||l;){const _=!l||o&&o.currentIndex<pw(l,u,h)?o:l,E=pw(_,u,h),C=_.currentIndex;if(_===l)u--,l=l._nextRemoved;else if(o=o._next,null==_.previousIndex)u++;else{h||(h=[]);const b=E-u,R=C-u;if(b!=R){for(let G=0;G<b;G++){const ee=G<h.length?h[G]:h[G]=0,_e=ee+G;R<=_e&&_e<b&&(h[G]=ee+1)}h[_.previousIndex]=R-b}}E!==C&&i(_,E,C)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Eh(i))throw new me(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,_,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let E=0;E<this.length;E++)h=i[E],_=this._trackByFn(E,h),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,h,_,E)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,_,E),l=!0),o=o._next}else u=0,function Y0(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Pu()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,E=>{_=this._trackByFn(u,E),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,E,_,u)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,_,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,u)):i=this._addAfter(new OD(o,l),h,u),i}_verifyReinsertion(i,o,l,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new fw),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class OD{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ND{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class fw{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new ND,this.map.set(o,l)),l.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pw(r,i,o){const l=r.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+i+u}class gw{constructor(){}supports(i){return i instanceof Map||uE(i)}create(){return new xD}}class xD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||uE(i)))throw new me(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const h=u._prev,_=u._next;return h&&(h._next=_),_&&(_._prev=h),u._next=null,u._prev=null,u}const l=new lT(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class lT{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kD(){return new Iy([new hw])}let Iy=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||kD()),deps:[[r,new it,new ke]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new me(901,!1)}}return r.\u0275prov=Mt({token:r,providedIn:"root",factory:kD}),r})();function mw(){return new xg([new gw])}let xg=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||mw()),deps:[[r,new it,new ke]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(l)return l;throw new me(901,!1)}}return r.\u0275prov=Mt({token:r,providedIn:"root",factory:mw}),r})();const yl=sf(null,"core",[]);let vr=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(fn(Rg))},r.\u0275mod=Ye({type:r}),r.\u0275inj=ft({}),r})();function Mi(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(Qe,Ce,O)=>{O.d(Ce,{Z:()=>me});var g=O(2090),X=O(4859),P=O(9681),ie=O(1877);class ne{constructor(pe,he){this._delegate=pe,this.firebase=he,(0,P._addComponent)(pe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(pe,he=P._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(pe);return!Ke.isInitialized()&&"EXPLICIT"===(null===(je=Ke.getComponent())||void 0===je?void 0:je.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:he})}_removeServiceInstance(pe,he=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(he)}_addComponent(pe){(0,P._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,P._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function de(){const $e=function ue($e){const pe={},he={__esModule:!0,initializeApp:function Ie(Fe,U={}){const fe=P.initializeApp(Fe,U);if((0,g.r3)(pe,fe.name))return pe[fe.name];const Z=new $e(fe,he);return pe[fe.name]=Z,Z},app:Ke,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ye(Fe){const U=Fe.name,fe=U.replace("-compat","");if(P._registerComponent(Fe)&&"PUBLIC"===Fe.type){const Z=(J=Ke())=>{if("function"!=typeof J[fe])throw oe.create("invalid-app-argument",{appName:U});return J[fe]()};void 0!==Fe.serviceProps&&(0,g.ZB)(Z,Fe.serviceProps),he[fe]=Z,$e.prototype[fe]=function(...J){return this._getService.bind(this,U).apply(this,Fe.multipleInstances?J:[])}}return"PUBLIC"===Fe.type?he[fe]:null},removeApp:function je(Fe){delete pe[Fe]},useAsService:function Ne(Fe,U){return"serverAuth"===U?null:U},modularAPIs:P}};function Ke(Fe){if(!(0,g.r3)(pe,Fe=Fe||P._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Fe});return pe[Fe]}return he.default=he,Object.defineProperty(he,"apps",{get:function ge(){return Object.keys(pe).map(Fe=>pe[Fe])}}),Ke.App=$e,he}(ne);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function pe(he){(0,g.ZB)($e,he)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),$e}(),j=new ie.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const me=B;!function be($e){(0,P.registerVersion)("@firebase/app-compat","0.1.34",$e)}()},9681:(Qe,Ce,O)=>{O.r(Ce),O.d(Ce,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Ni,_DEFAULT_ENTRY_NAME:()=>vt,_addComponent:()=>Rt,_addOrOverwriteComponent:()=>Mt,_apps:()=>jt,_clearComponents:()=>ks,_components:()=>mn,_getProvider:()=>ft,_registerComponent:()=>Yn,_removeServiceInstance:()=>Vt,deleteApp:()=>Fs,getApp:()=>ar,getApps:()=>wr,initializeApp:()=>Gr,onLog:()=>ai,registerVersion:()=>lr,setLogLevel:()=>_n});var g=O(5861),X=O(4859),P=O(1877),ie=O(2090),ne=O(8766);class ce{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function oe(V){return"VERSION"===V.getComponent()?.type}(W)){const ve=W.getImmediate();return`${ve.library}/${ve.version}`}return null}).filter(W=>W).join(" ")}}const ue="@firebase/app",B=new P.Yd("@firebase/app"),vt="[DEFAULT]",Ue={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,mn=new Map;function Rt(V,$){try{V.container.addComponent($)}catch(W){B.debug(`Component ${$.name} failed to register with FirebaseApp ${V.name}`,W)}}function Mt(V,$){V.container.addOrOverwriteComponent($)}function Yn(V){const $=V.name;if(mn.has($))return B.debug(`There were multiple attempts to register component ${$}.`),!1;mn.set($,V);for(const W of jt.values())Rt(W,V);return!0}function ft(V,$){const W=V.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),V.container.getProvider($)}function Vt(V,$,W=vt){ft(V,$).clearInstance(W)}function ks(){mn.clear()}const Wn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class or{constructor($,W,ve){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=ve,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const Ni="9.10.0";function Gr(V,$={}){"object"!=typeof $&&($={name:$});const W=Object.assign({name:vt,automaticDataCollectionEnabled:!1},$),ve=W.name;if("string"!=typeof ve||!ve)throw Wn.create("bad-app-name",{appName:String(ve)});const xe=jt.get(ve);if(xe){if((0,ie.vZ)(V,xe.options)&&(0,ie.vZ)(W,xe.config))return xe;throw Wn.create("duplicate-app",{appName:ve})}const Ye=new X.H0(ve);for(const kt of mn.values())Ye.addComponent(kt);const Zt=new or(V,W,Ye);return jt.set(ve,Zt),Zt}function ar(V=vt){const $=jt.get(V);if(!$)throw Wn.create("no-app",{appName:V});return $}function wr(){return Array.from(jt.values())}function Fs(V){return Be.apply(this,arguments)}function Be(){return(Be=(0,g.Z)(function*(V){const $=V.name;jt.has($)&&(jt.delete($),yield Promise.all(V.container.getProviders().map(W=>W.delete())),V.isDeleted=!0)})).apply(this,arguments)}function lr(V,$,W){var ve;let xe=null!==(ve=Ue[V])&&void 0!==ve?ve:V;W&&(xe+=`-${W}`);const Ye=xe.match(/\s|\//),Zt=$.match(/\s|\//);if(Ye||Zt){const kt=[`Unable to register library "${xe}" with version "${$}":`];return Ye&&kt.push(`library name "${xe}" contains illegal characters (whitespace or "/")`),Ye&&Zt&&kt.push("and"),Zt&&kt.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void B.warn(kt.join(" "))}Yn(new X.wA(`${xe}-version`,()=>({library:xe,version:$}),"VERSION"))}function ai(V,$){if(null!==V&&"function"!=typeof V)throw Wn.create("invalid-log-argument");(0,P.Am)(V,$)}function _n(V){(0,P.Ub)(V)}const yn="firebase-heartbeat-store";let Cn=null;function Kt(){return Cn||(Cn=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(V,$)=>{0===$&&V.createObjectStore(yn)}}).catch(V=>{throw Wn.create("idb-open",{originalErrorMessage:V.message})})),Cn}function Ze(){return(Ze=(0,g.Z)(function*(V){var $;try{return(yield Kt()).transaction(yn).objectStore(yn).get(xn(V))}catch(W){if(W instanceof ie.ZR)B.warn(W.message);else{const ve=Wn.create("idb-get",{originalErrorMessage:null===($=W)||void 0===$?void 0:$.message});B.warn(ve.message)}}})).apply(this,arguments)}function Gt(V,$){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,g.Z)(function*(V,$){var W;try{const xe=(yield Kt()).transaction(yn,"readwrite");return yield xe.objectStore(yn).put($,xn(V)),xe.done}catch(ve){if(ve instanceof ie.ZR)B.warn(ve.message);else{const xe=Wn.create("idb-set",{originalErrorMessage:null===(W=ve)||void 0===W?void 0:W.message});B.warn(xe.message)}}})).apply(this,arguments)}function xn(V){return`${V.name}!${V.options.appId}`}class li{constructor($){this.container=$,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new Pt(W),this._heartbeatsCachePromise=this._storage.read().then(ve=>(this._heartbeatsCache=ve,ve))}triggerHeartbeat(){var $=this;return(0,g.Z)(function*(){const ve=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xe=xt();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==xe&&!$._heartbeatsCache.heartbeats.some(Ye=>Ye.date===xe))return $._heartbeatsCache.heartbeats.push({date:xe,agent:ve}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(Ye=>{const Zt=new Date(Ye.date).valueOf();return Date.now()-Zt<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,g.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const W=xt(),{heartbeatsToSend:ve,unsentEntries:xe}=function kr(V,$=1024){const W=[];let ve=V.slice();for(const xe of V){const Ye=W.find(Zt=>Zt.agent===xe.agent);if(Ye){if(Ye.dates.push(xe.date),z(W)>$){Ye.dates.pop();break}}else if(W.push({agent:xe.agent,dates:[xe.date]}),z(W)>$){W.pop();break}ve=ve.slice(1)}return{heartbeatsToSend:W,unsentEntries:ve}}($._heartbeatsCache.heartbeats),Ye=(0,ie.L)(JSON.stringify({version:2,heartbeats:ve}));return $._heartbeatsCache.lastSentHeartbeatDate=W,xe.length>0?($._heartbeatsCache.heartbeats=xe,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),Ye})()}}function xt(){return(new Date).toISOString().substring(0,10)}class Pt{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,g.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function tt(V){return Ze.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var W=this;return(0,g.Z)(function*(){var ve;if(yield W._canUseIndexedDBPromise){const Ye=yield W.read();return Gt(W.app,{lastSentHeartbeatDate:null!==(ve=$.lastSentHeartbeatDate)&&void 0!==ve?ve:Ye.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var W=this;return(0,g.Z)(function*(){var ve;if(yield W._canUseIndexedDBPromise){const Ye=yield W.read();return Gt(W.app,{lastSentHeartbeatDate:null!==(ve=$.lastSentHeartbeatDate)&&void 0!==ve?ve:Ye.lastSentHeartbeatDate,heartbeats:[...Ye.heartbeats,...$.heartbeats]})}})()}}function z(V){return(0,ie.L)(JSON.stringify({version:2,heartbeats:V})).length}!function H(V){Yn(new X.wA("platform-logger",$=>new ce($),"PRIVATE")),Yn(new X.wA("heartbeat",$=>new li($),"PRIVATE")),lr(ue,"0.7.33",V),lr(ue,"0.7.33","esm2017"),lr("fire-js","")}("")},4859:(Qe,Ce,O)=>{O.d(Ce,{H0:()=>ue,wA:()=>P,zt:()=>ne});var g=O(5861),X=O(2090);class P{constructor(B,j,Y){this.name=B,this.instanceFactory=j,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ie="[DEFAULT]";class ne{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const Y=new X.BH;if(this.instancesDeferred.set(j,Y),this.isInitialized(j)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:j});Oe&&Y.resolve(Oe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const Y=this.normalizeInstanceIdentifier(B?.identifier),Oe=null!==(j=B?.optional)&&void 0!==j&&j;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(be){if(Oe)return null;throw be}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function oe(de){return"EAGER"===de.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[j,Y]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(j);try{const be=this.getOrInitializeService({instanceIdentifier:Oe});Y.resolve(be)}catch{}}}}clearInstance(B=ie){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,g.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...j.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ie){return this.instances.has(B)}getOptions(B=ie){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,Y=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:Y,options:j});for(const[be,me]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(be)&&me.resolve(Oe);return Oe}onInit(B,j){var Y;const Oe=this.normalizeInstanceIdentifier(j),be=null!==(Y=this.onInitCallbacks.get(Oe))&&void 0!==Y?Y:new Set;be.add(B),this.onInitCallbacks.set(Oe,be);const me=this.instances.get(Oe);return me&&B(me,Oe),()=>{be.delete(B)}}invokeOnInitCallbacks(B,j){const Y=this.onInitCallbacks.get(j);if(Y)for(const Oe of Y)try{Oe(B,j)}catch{}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let Y=this.instances.get(B);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(de=B,de===ie?void 0:de),options:j}),this.instances.set(B,Y),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(Y,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Y)}catch{}var de;return Y||null}normalizeInstanceIdentifier(B=ie){return this.component?this.component.multipleInstances?B:ie:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new ne(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(Qe,Ce,O)=>{O.d(Ce,{Am:()=>de,Ub:()=>ue,Yd:()=>oe,in:()=>X});const g=[];var X=(()=>{return(B=X||(X={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",X;var B})();const P={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ie=X.INFO,ne={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ce=(B,j,...Y)=>{if(j<B.logLevel)return;const Oe=(new Date).toISOString(),be=ne[j];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[be](`[${Oe}]  ${B.name}:`,...Y)};class oe{constructor(j){this.name=j,this._logLevel=ie,this._logHandler=ce,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in X))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...j),this._logHandler(this,X.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...j),this._logHandler(this,X.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,X.INFO,...j),this._logHandler(this,X.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,X.WARN,...j),this._logHandler(this,X.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...j),this._logHandler(this,X.ERROR,...j)}}function ue(B){g.forEach(j=>{j.setLogLevel(B)})}function de(B,j){for(const Y of g){let Oe=null;j&&j.level&&(Oe=P[j.level]),Y.userLogHandler=null===B?null:(be,me,...$e)=>{const pe=$e.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(he=>he).join(" ");me>=(Oe??be.logLevel)&&B({level:X[me].toLowerCase(),message:pe,args:$e,type:be.name})}}}},8766:(Qe,Ce,O)=>{O.d(Ce,{Lj:()=>Ie,X3:()=>Ke});var g=O(5861);let P,ie;const oe=new WeakMap,ue=new WeakMap,de=new WeakMap,B=new WeakMap,j=new WeakMap;let be={get(U,fe,Z){if(U instanceof IDBTransaction){if("done"===fe)return ue.get(U);if("objectStoreNames"===fe)return U.objectStoreNames||de.get(U);if("store"===fe)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return he(U[fe])},set:(U,fe,Z)=>(U[fe]=Z,!0),has:(U,fe)=>U instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in U};function pe(U){return"function"==typeof U?function $e(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...fe){return U.apply(je(this),fe),he(oe.get(this))}:function(...fe){return he(U.apply(je(this),fe))}:function(fe,...Z){const J=U.call(je(this),fe,...Z);return de.set(J,fe.sort?fe.sort():[fe]),he(J)}}(U):(U instanceof IDBTransaction&&function Oe(U){if(ue.has(U))return;const fe=new Promise((Z,J)=>{const re=()=>{U.removeEventListener("complete",te),U.removeEventListener("error",Ae),U.removeEventListener("abort",Ae)},te=()=>{Z(),re()},Ae=()=>{J(U.error||new DOMException("AbortError","AbortError")),re()};U.addEventListener("complete",te),U.addEventListener("error",Ae),U.addEventListener("abort",Ae)});ue.set(U,fe)}(U),((U,fe)=>fe.some(Z=>U instanceof Z))(U,function ne(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,be):U)}function he(U){if(U instanceof IDBRequest)return function Y(U){const fe=new Promise((Z,J)=>{const re=()=>{U.removeEventListener("success",te),U.removeEventListener("error",Ae)},te=()=>{Z(he(U.result)),re()},Ae=()=>{J(U.error),re()};U.addEventListener("success",te),U.addEventListener("error",Ae)});return fe.then(Z=>{Z instanceof IDBCursor&&oe.set(Z,U)}).catch(()=>{}),j.set(fe,U),fe}(U);if(B.has(U))return B.get(U);const fe=pe(U);return fe!==U&&(B.set(U,fe),j.set(fe,U)),fe}const je=U=>j.get(U);function Ke(U,fe,{blocked:Z,upgrade:J,blocking:re,terminated:te}={}){const Ae=indexedDB.open(U,fe),Se=he(Ae);return J&&Ae.addEventListener("upgradeneeded",et=>{J(he(Ae.result),et.oldVersion,et.newVersion,he(Ae.transaction))}),Z&&Ae.addEventListener("blocked",()=>Z()),Se.then(et=>{te&&et.addEventListener("close",()=>te()),re&&et.addEventListener("versionchange",()=>re())}).catch(()=>{}),Se}function Ie(U,{blocked:fe}={}){const Z=indexedDB.deleteDatabase(U);return fe&&Z.addEventListener("blocked",()=>fe()),he(Z).then(()=>{})}const ge=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],Ne=new Map;function Fe(U,fe){if(!(U instanceof IDBDatabase)||fe in U||"string"!=typeof fe)return;if(Ne.get(fe))return Ne.get(fe);const Z=fe.replace(/FromIndex$/,""),J=fe!==Z,re=ye.includes(Z);if(!(Z in(J?IDBIndex:IDBObjectStore).prototype)||!re&&!ge.includes(Z))return;const te=function(){var Ae=(0,g.Z)(function*(Se,...et){const Tt=this.transaction(Se,re?"readwrite":"readonly");let vt=Tt.store;return J&&(vt=vt.index(et.shift())),(yield Promise.all([vt[Z](...et),re&&Tt.done]))[0]});return function(et){return Ae.apply(this,arguments)}}();return Ne.set(fe,te),te}!function me(U){be=U(be)}(U=>({...U,get:(fe,Z,J)=>Fe(fe,Z)||U.get(fe,Z,J),has:(fe,Z)=>!!Fe(fe,Z)||U.has(fe,Z)}))},5861:(Qe,Ce,O)=>{function g(P,ie,ne,ce,oe,ue,de){try{var B=P[ue](de),j=B.value}catch(Y){return void ne(Y)}B.done?ie(j):Promise.resolve(j).then(ce,oe)}function X(P){return function(){var ie=this,ne=arguments;return new Promise(function(ce,oe){var ue=P.apply(ie,ne);function de(j){g(ue,ce,oe,de,B,"next",j)}function B(j){g(ue,ce,oe,de,B,"throw",j)}de(void 0)})}}O.d(Ce,{Z:()=>X})}},Qe=>{Qe(Qe.s=7401)}]);